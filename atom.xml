<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>shuke&#39;s Blog</title>
  
  <subtitle>æŠ€æœ¯ ç®¡ç† ç”Ÿæ´» æ ¼å±€ äººç”Ÿ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://shuke163.github.io/"/>
  <updated>2020-05-22T04:53:09.815Z</updated>
  <id>https://shuke163.github.io/</id>
  
  <author>
    <name>shuke</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>DevOpså·¥å…·ä¸»é¢˜æ•´ç†</title>
    <link href="https://shuke163.github.io/2020/05/22/DevOps%E5%B7%A5%E5%85%B7%E4%B8%BB%E9%A2%98%E6%95%B4%E7%90%86/"/>
    <id>https://shuke163.github.io/2020/05/22/DevOps%E5%B7%A5%E5%85%B7%E4%B8%BB%E9%A2%98%E6%95%B4%E7%90%86/</id>
    <published>2020-05-22T03:53:30.000Z</published>
    <updated>2020-05-22T04:53:09.815Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/DevOps%E5%B7%A5%E5%85%B7%E4%B8%BB%E9%A2%98%E6%95%B4%E7%90%86/DevOps.svg" alt="DevOpså·¥å…·ä¸»é¢˜"></p>]]></content>
    
    <summary type="html">
    
      DevOpså·¥å…·ä¸»é¢˜æ•´ç†
    
    </summary>
    
    
      <category term="DevOps" scheme="https://shuke163.github.io/categories/DevOps/"/>
    
    
      <category term="DevOps" scheme="https://shuke163.github.io/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>pythonè½»é‡çº§æ¡†æ¶</title>
    <link href="https://shuke163.github.io/2020/05/05/python%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%A1%86%E6%9E%B6/"/>
    <id>https://shuke163.github.io/2020/05/05/python%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%A1%86%E6%9E%B6/</id>
    <published>2020-05-04T18:06:57.000Z</published>
    <updated>2020-05-04T19:08:01.293Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Responderæ¡†æ¶"><a href="#Responderæ¡†æ¶" class="headerlink" title="Responderæ¡†æ¶"></a>Responderæ¡†æ¶</h2><blockquote><p>responderæ˜¯@kennethreitzæ–°å¼€å‘çš„ä¸€ä¸ªé¡¹ç›®ï¼Œ æ˜¯ä¸€ä¸ªåŸºäº Python çš„ HTTP æœåŠ¡æ¡†æ¶. åº•å±‚ç”¨äº† Starlette çš„æ¡†æ¶, Starlette æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ ASGI æ¡†æ¶/å·¥å…·åŒ…ï¼Œ å¯ä»¥ç”¨ Starlette æ„å»ºé«˜æ€§èƒ½çš„å¼‚æ­¥ IO æœåŠ¡.</p></blockquote><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#! &#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">@version: v0.1</span><br><span class="line">@Author: shu_ke163@163.com</span><br><span class="line">@Description: file content</span><br><span class="line">@Date: 2020-05-05 01:04:37</span><br><span class="line">@LastEditors: shuke</span><br><span class="line">@LastEditTime: 2020-05-05 02:07:37</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">import time</span><br><span class="line">import graphene</span><br><span class="line">import responder</span><br><span class="line"></span><br><span class="line">api &#x3D; responder.API()</span><br><span class="line"></span><br><span class="line">@api.route(&quot;&#x2F;&#123;greeting&#125;&quot;)</span><br><span class="line">async def greet_world(req, resp, *, greeting):</span><br><span class="line">    resp.text &#x3D; f&quot;&#123;greeting&#125;, world&quot;</span><br><span class="line"></span><br><span class="line">@api.route(&quot;&#x2F;&quot;)</span><br><span class="line">def hello(req, resp):</span><br><span class="line"></span><br><span class="line">    # ä½œä¸ºåå°ä»»åŠ¡æ‰§è¡Œ</span><br><span class="line">    @api.background.task</span><br><span class="line">    def sleep(s&#x3D;10):</span><br><span class="line">        time.sleep(s)</span><br><span class="line">        print(&quot;slept!&quot;)</span><br><span class="line"></span><br><span class="line">    sleep()</span><br><span class="line">    resp.content &#x3D; &quot;processing&quot;</span><br><span class="line"></span><br><span class="line">class Query(graphene.ObjectType):</span><br><span class="line">    hello &#x3D; graphene.String(name&#x3D;graphene.String(default_value&#x3D;&quot;stranger&quot;))</span><br><span class="line"></span><br><span class="line">    def resolve_hello(self, info, name):</span><br><span class="line">        return f&quot;Hello &#123;name&#125;&quot;</span><br><span class="line"></span><br><span class="line">schema &#x3D; graphene.Schema(query&#x3D;Query)</span><br><span class="line">view &#x3D; responder.ext.GraphQLView(api&#x3D;api, schema&#x3D;schema)</span><br><span class="line"></span><br><span class="line">api.add_route(&quot;&#x2F;graph&quot;, view)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    api.run()</span><br></pre></td></tr></table></figure><p><a href="https://responder.kennethreitz.org/en/latest/tour.html" target="_blank" rel="noopener">å®˜æ–¹ç¤ºä¾‹æ–‡æ¡£</a></p><h2 id="Starlette"><a href="#Starlette" class="headerlink" title="Starlette"></a>Starlette</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#! &#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">@version: v0.1</span><br><span class="line">@Author: shu_ke163@163.com</span><br><span class="line">@Description: file content</span><br><span class="line">@Date: 2020-05-05 02:16:32</span><br><span class="line">@LastEditors: shuke</span><br><span class="line">@LastEditTime: 2020-05-05 02:22:39</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line"></span><br><span class="line">from starlette.applications import Starlette</span><br><span class="line">from starlette.responses import JSONResponse</span><br><span class="line">from starlette.routing import Route</span><br><span class="line"></span><br><span class="line">async def homepage(request):</span><br><span class="line">    return JSONResponse(&#123;&quot;hello&quot;: &quot;shuke&#39;s world&quot;&#125;)</span><br><span class="line"></span><br><span class="line">routes &#x3D; [</span><br><span class="line">    Route(&quot;&#x2F;&quot;, endpoint&#x3D;homepage)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">app &#x3D; Starlette(debug&#x3D;True, routes&#x3D;routes)</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(base) âœ  uvicorn example:app --reload</span><br></pre></td></tr></table></figure><h2 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(base) âœ http http:&#x2F;&#x2F;127.0.0.1:8000</span><br><span class="line">HTTP&#x2F;1.1 200 OK</span><br><span class="line">content-length: 25</span><br><span class="line">content-type: application&#x2F;json</span><br><span class="line">date: Mon, 04 May 2020 18:27:23 GMT</span><br><span class="line">server: uvicorn</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;hello&quot;: &quot;shuke&#39;s world&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.starlette.io/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h2 id="FastAPI"><a href="#FastAPI" class="headerlink" title="FastAPI"></a>FastAPI</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#! &#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">@version: v0.1</span><br><span class="line">@Author: shu_ke163@163.com</span><br><span class="line">@Description: file content</span><br><span class="line">@Date: 2020-05-05 01:04:37</span><br><span class="line">@LastEditors: shuke</span><br><span class="line">@LastEditTime: 2020-05-05 02:48:43</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line"></span><br><span class="line">from fastapi import FastAPI</span><br><span class="line"></span><br><span class="line">app &#x3D; FastAPI()</span><br><span class="line"></span><br><span class="line">@app.get(&quot;&#x2F;&quot;)</span><br><span class="line">async def read_root():</span><br><span class="line">    return &#123;&quot;hello&quot;: &quot;world!&quot;&#125;</span><br><span class="line"></span><br><span class="line">@app.get(&quot;&#x2F;items&#x2F;&#123;item_id&#125;&quot;)</span><br><span class="line">async def read_item(item_id: int, q: str &#x3D; None) -&gt; dict:</span><br><span class="line">    return &#123;&quot;item_id&quot;: item_id, &quot;q&quot;: q&#125;</span><br><span class="line"></span><br><span class="line"># å¯åŠ¨</span><br><span class="line">(base) âœ  learn uvicorn main:app --reload</span><br></pre></td></tr></table></figure><h2 id="è¯·æ±‚ç¤ºä¾‹"><a href="#è¯·æ±‚ç¤ºä¾‹" class="headerlink" title="è¯·æ±‚ç¤ºä¾‹"></a>è¯·æ±‚ç¤ºä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(base) âœ  http http:&#x2F;&#x2F;127.0.0.1:8000</span><br><span class="line">HTTP&#x2F;1.1 200 OK</span><br><span class="line">content-length: 18</span><br><span class="line">content-type: application&#x2F;json</span><br><span class="line">date: Mon, 04 May 2020 18:52:08 GMT</span><br><span class="line">server: uvicorn</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;hello&quot;: &quot;world!&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(base) âœ  http http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;items&#x2F;5\?q\&#x3D;shuke</span><br><span class="line">HTTP&#x2F;1.1 200 OK</span><br><span class="line">content-length: 25</span><br><span class="line">content-type: application&#x2F;json</span><br><span class="line">date: Mon, 04 May 2020 18:55:40 GMT</span><br><span class="line">server: uvicorn</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;item_id&quot;: 5,</span><br><span class="line">    &quot;q&quot;: &quot;shuke&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="api-docs"><a href="#api-docs" class="headerlink" title="api docs"></a>api docs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;docs</span><br></pre></td></tr></table></figure><h2 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;learnku.com&#x2F;python&#x2F;t&#x2F;38942</span><br><span class="line">https:&#x2F;&#x2F;fastapi.tiangolo.com&#x2F;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      pythonè½»é‡çº§æ¡†æ¶
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>Pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨</title>
    <link href="https://shuke163.github.io/2020/05/03/Python%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/"/>
    <id>https://shuke163.github.io/2020/05/03/Python%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/</id>
    <published>2020-05-03T03:30:05.000Z</published>
    <updated>2020-05-03T03:32:21.244Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æœ‰è¶£çš„pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#æœ‰è¶£çš„pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="æœ‰è¶£çš„pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>æœ‰è¶£çš„<code>python</code>ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h2><p><a href="https://mp.weixin.qq.com/s/h0YYmehLuO8QF5Ry7b7fiQ" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a><br><a href="https://mp.weixin.qq.com/s/rPFL7KXwD8Bof60lewqTMA" target="_blank" rel="noopener">æ–‡ç« </a></p>]]></content>
    
    <summary type="html">
    
      Pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>EditorConfigä½¿ç”¨ä»‹ç»</title>
    <link href="https://shuke163.github.io/2020/05/03/EditorConfig%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
    <id>https://shuke163.github.io/2020/05/03/EditorConfig%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</id>
    <published>2020-05-03T03:08:41.000Z</published>
    <updated>2020-05-03T03:09:10.952Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨githubçœ‹åˆ°å¾ˆå¤šé¡¹ç›®æ ¹ç›®å½•éƒ½æœ‰ .editorconfig æ–‡ä»¶ï¼Œæ‰€ä»¥å»äº†è§£ä¸€ä¸‹ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶æ˜¯ EditorConfig ç”¨æ¥ç»Ÿä¸€ä¸åŒç¼–è¾‘å™¨çš„ä»£ç é£æ ¼çš„é…ç½®ã€‚</p><p>å„ç§IDEçš„é£æ ¼è‡ªç„¶ä¸ä¸€æ ·ï¼Œé€šè¿‡è¿™æ ·ä¸€ä¸ªé…ç½®æ–‡ä»¶å®šä¹‰çš„æ ‡å‡†ç»Ÿä¸€é£æ ¼ï¼Œæ¯”å¦‚ç¼©è¿›ç”¨xä¸ªç©ºæ ¼ã€‚å†æœ‰å°±æ˜¯å¤šäººä¸€èµ·ååŒå¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œeditorconfig èƒ½èµ·åˆ°å¾ˆå¥½çš„æ•ˆæœã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># EditorConfig: http:&#x2F;&#x2F;editorconfig.org&#x2F;</span><br><span class="line"></span><br><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 4</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line"></span><br><span class="line">[*.md]</span><br><span class="line">trim_trailing_whitespace &#x3D; false</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      EditorConfigä½¿ç”¨ä»‹ç»
    
    </summary>
    
    
      <category term="IDE" scheme="https://shuke163.github.io/categories/IDE/"/>
    
    
      <category term="IDE" scheme="https://shuke163.github.io/tags/IDE/"/>
    
  </entry>
  
  <entry>
    <title>ç®€æ˜“HTTPS åŠ å¯†è¯ä¹¦çš„å·¥å…·</title>
    <link href="https://shuke163.github.io/2020/05/03/%E7%AE%80%E6%98%93HTTPS-%E5%8A%A0%E5%AF%86%E8%AF%81%E4%B9%A6%E7%9A%84%E5%B7%A5%E5%85%B7/"/>
    <id>https://shuke163.github.io/2020/05/03/%E7%AE%80%E6%98%93HTTPS-%E5%8A%A0%E5%AF%86%E8%AF%81%E4%B9%A6%E7%9A%84%E5%B7%A5%E5%85%B7/</id>
    <published>2020-05-03T03:06:07.000Z</published>
    <updated>2020-05-03T03:07:48.462Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/FiloSottile/mkcert" target="_blank" rel="noopener">mkcert</a> æ˜¯ç”Ÿæˆæœ¬åœ° HTTPS åŠ å¯†è¯ä¹¦çš„å·¥å…·ï¼Œä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥ç”Ÿæˆè¯ä¹¦ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ã€‚</p><p>åœ¨ Linux ä¸Šï¼Œå®‰è£… certutil</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install libnss3-tools</span><br><span class="line">$ sudo yum install nss-tools</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç¤ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ mkcert -install</span><br><span class="line">Created a new local CA at &quot;&#x2F;Users&#x2F;filippo&#x2F;Library&#x2F;Application Support&#x2F;mkcert&quot; ğŸ’¥</span><br><span class="line">The local CA is now installed in the system trust store! âš¡ï¸</span><br><span class="line">The local CA is now installed in the Firefox trust store (requires restart)! ğŸ¦Š</span><br><span class="line"></span><br><span class="line">$ mkcert example.com &#39;*.example.org&#39; myapp.dev localhost 127.0.0.1 ::1</span><br><span class="line">Using the local CA at &quot;&#x2F;Users&#x2F;filippo&#x2F;Library&#x2F;Application Support&#x2F;mkcert&quot; âœ¨</span><br><span class="line"></span><br><span class="line">Created a new certificate valid for the following names ğŸ“œ</span><br><span class="line"> - &quot;example.com&quot;</span><br><span class="line"> - &quot;*.example.org&quot;</span><br><span class="line"> - &quot;myapp.dev&quot;</span><br><span class="line"> - &quot;localhost&quot;</span><br><span class="line"> - &quot;127.0.0.1&quot;</span><br><span class="line"> - &quot;::1&quot;</span><br><span class="line"></span><br><span class="line">The certificate is at &quot;.&#x2F;example.com+5.pem&quot; and the key at &quot;.&#x2F;example.com+5-key.pem&quot; âœ…</span><br></pre></td></tr></table></figure><p><a href="https://keer.me/Using-mkcert-to-generate-local-HTTPS-certificates.html" target="_blank" rel="noopener">ä½¿ç”¨æ–¹æ³•å‚è€ƒ</a></p>]]></content>
    
    <summary type="html">
    
      ç®€æ˜“HTTPS åŠ å¯†è¯ä¹¦çš„å·¥å…·
    
    </summary>
    
    
      <category term="Nginx" scheme="https://shuke163.github.io/categories/Nginx/"/>
    
    
      <category term="Nginx" scheme="https://shuke163.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç«™æ–‡æ¡£mkdocs</title>
    <link href="https://shuke163.github.io/2020/05/03/%E7%BD%91%E7%AB%99%E6%96%87%E6%A1%A3mkdocs/"/>
    <id>https://shuke163.github.io/2020/05/03/%E7%BD%91%E7%AB%99%E6%96%87%E6%A1%A3mkdocs/</id>
    <published>2020-05-03T03:02:31.000Z</published>
    <updated>2020-05-03T03:10:25.934Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mkdocs"><a href="#Mkdocs" class="headerlink" title="Mkdocs"></a>Mkdocs</h2><p><a href="https://www.mkdocs.org/#mkdocs" target="_blank" rel="noopener">mkdocs.org</a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol><li>å®‰è£…python2.7ï¼ˆå®‰è£…æ—¶é€‰ä¸­åŠ å…¥ç¯å¢ƒå˜é‡ï¼‰</li><li>pip install mkdocs &amp; mkdocs â€“version</li><li>pip install click-man</li><li>mkdocs new my-project &amp; cd my-project</li><li>mkdocs serve</li><li>mkdocs build</li><li>mkdocs build â€“clean (æ¸…ç†å·²è¢«åˆ é™¤çš„æ–‡æ¡£æ‰€ç”Ÿæˆçš„htmlæ–‡ä»¶)</li></ol><p>mkdocs-materialä¸»é¢˜é…ç½®<br><a href="https://squidfunk.github.io/mkdocs-material/getting-started/" target="_blank" rel="noopener">ç‚¹å‡»çœ‹æ•ˆæœ mkdocs-material</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. pip install mkdocs-material</span><br><span class="line">2. vim mkdocs.yml</span><br></pre></td></tr></table></figure><p>mkdocs.yml é…ç½®ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">site_name: æ–‡æ¡£ä¸­å¿ƒ</span><br><span class="line">theme:</span><br><span class="line">  name: &#39;material&#39;</span><br><span class="line">  palette:</span><br><span class="line">    primary: &#39;teal&#39;</span><br><span class="line">    accent: &#39;teal&#39;</span><br><span class="line">  font:</span><br><span class="line">    text: &#39;Roboto&#39;</span><br><span class="line">    code: &#39;Roboto Mono&#39;</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdocs new [dir-name] - Create a new project.</span><br><span class="line">mkdocs serve - Start the live-reloading docs server.</span><br><span class="line">mkdocs build - Build the documentation site.</span><br><span class="line">mkdocs help - Print this help message.</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdocs.yml    # The configuration file.</span><br><span class="line">docs&#x2F;</span><br><span class="line">    index.md  # The documentation homepage.</span><br><span class="line">    ...       # Other markdown pages, images and other files.</span><br></pre></td></tr></table></figure><h2 id="å¦å¤–å‡ ç§æ–‡æ¡£è®°å½•æ–¹å¼"><a href="#å¦å¤–å‡ ç§æ–‡æ¡£è®°å½•æ–¹å¼" class="headerlink" title="å¦å¤–å‡ ç§æ–‡æ¡£è®°å½•æ–¹å¼"></a>å¦å¤–å‡ ç§æ–‡æ¡£è®°å½•æ–¹å¼</h2><ul><li>gitbook</li><li>wiki</li><li>docusaurus</li><li>MM-wiki</li></ul>]]></content>
    
    <summary type="html">
    
      ç½‘ç«™æ–‡æ¡£mkdocs
    
    </summary>
    
    
      <category term="docs" scheme="https://shuke163.github.io/categories/docs/"/>
    
    
      <category term="docs" scheme="https://shuke163.github.io/tags/docs/"/>
    
  </entry>
  
  <entry>
    <title>äº‘å­˜å‚¨å¹³å°Seafile</title>
    <link href="https://shuke163.github.io/2020/05/03/%E4%BA%91%E5%AD%98%E5%82%A8%E5%B9%B3%E5%8F%B0Seafile/"/>
    <id>https://shuke163.github.io/2020/05/03/%E4%BA%91%E5%AD%98%E5%82%A8%E5%B9%B3%E5%8F%B0Seafile/</id>
    <published>2020-05-03T02:58:45.000Z</published>
    <updated>2020-05-03T03:00:29.977Z</updated>
    
    <content type="html"><![CDATA[<h2 id="äº‘å­˜å‚¨å¹³å°seafile"><a href="#äº‘å­˜å‚¨å¹³å°seafile" class="headerlink" title="äº‘å­˜å‚¨å¹³å°seafile"></a>äº‘å­˜å‚¨å¹³å°seafile</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;haiwen&#x2F;seafile</span><br></pre></td></tr></table></figure><p>Seafile çš„ç›®æ ‡æ˜¯ç»™ä¼ä¸šæä¾›ä¸€ä¸ªå®‰å…¨çš„äº‘å­˜å‚¨å¹³å°ï¼Œæ»¡è¶³ä¼ä¸šæ–‡ä»¶çš„å…±äº«å’Œåä½œçš„éœ€æ±‚ã€‚</p><p>Seafile é‡‡ç”¨å¼€æºçš„æ–¹å¼æ¥è¿›è¡Œäº§å“å¼€å‘ã€‚å¼€æºå¸®åŠ© Seafile æˆä¸ºäº†ä¸€ä¸ªå›½é™…åŒ–çš„é¡¹ç›®ï¼Œå¹¶å¸å¼•äº†å…¨çƒç”¨æˆ·çš„å‚ä¸å’Œè´¡çŒ®ã€‚ç›®å‰æˆ‘ä»¬å·²ç»åœ¨ Github å¼€æºä»£ç æ‰˜ç®¡å¹³å°ä¸Šæœ‰äº† 3900 å¤šä¸ªå…³æ³¨ã€‚å…¨çƒç”¨æˆ·çš„ä½¿ç”¨ã€åé¦ˆå’Œå®¡æ ¸ä½¿å¾— Seafile æ›´åŠ çš„å®‰å…¨å’Œç¨³å®šã€‚</p><p>æˆªè‡³ 2016 å¹´åˆï¼ŒSeafile å·²ç»æœ‰è¶…è¿‡ 30 ä¸‡ç”¨æˆ·ä½¿ç”¨ï¼Œå¹¶æ‹¥æœ‰å¡å·´æ–¯åŸºï¼Œå¾·å›½ Mainz å¤§å­¦ï¼Œå¾·å›½ HU Berlin å¤§å­¦å’Œæ³•å›½ Strasbourg å¤§å­¦ç­‰å¤§å‹ç»„ç»‡æœºæ„å®¢æˆ·ã€‚</p><p><a href="https://www.seafile.com/home/" target="_blank" rel="noopener">https://www.seafile.com/home/</a></p><h2 id="nextcloud"><a href="#nextcloud" class="headerlink" title="nextcloud"></a>nextcloud</h2><blockquote><p>å¦ä¸€ä¸ªå¼€æ”¾äº‘ç›˜æœåŠ¡</p></blockquote>]]></content>
    
    <summary type="html">
    
      äº‘å­˜å‚¨å¹³å°Seafile
    
    </summary>
    
    
      <category term="Seafile" scheme="https://shuke163.github.io/categories/Seafile/"/>
    
    
      <category term="Seafile" scheme="https://shuke163.github.io/tags/Seafile/"/>
    
  </entry>
  
  <entry>
    <title>æ¨èå‡ ä¸ªå¥½ç”¨çš„DevOpså°å·¥å…·</title>
    <link href="https://shuke163.github.io/2020/04/30/%E6%8E%A8%E8%8D%90%E5%87%A0%E4%B8%AA%E5%A5%BD%E7%94%A8%E7%9A%84DevOps%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
    <id>https://shuke163.github.io/2020/04/30/%E6%8E%A8%E8%8D%90%E5%87%A0%E4%B8%AA%E5%A5%BD%E7%94%A8%E7%9A%84DevOps%E5%B0%8F%E5%B7%A5%E5%85%B7/</id>
    <published>2020-04-30T15:26:36.000Z</published>
    <updated>2020-05-06T15:40:07.241Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·æ¨è"><a href="#å·¥å…·æ¨è" class="headerlink" title="å·¥å…·æ¨è"></a>å·¥å…·æ¨è</h2><ol><li>æ–‡æ¡£ç®¡ç†</li></ol><ul><li>wiki</li><li>MM-wiki</li><li>gitbook(æ¨è)</li><li>Docusaurus(æ¨è)</li><li>hexo</li></ul><ol start="2"><li>bugç®¡ç†</li></ol><ul><li>git-bug</li><li>è‰é“</li><li>Readme</li></ul><ol start="3"><li>code review</li></ol><ul><li>Phabricator(PHA)</li></ul><ol start="4"><li>markdown ç»˜å›¾å·¥å…·</li></ol><ul><li>PlantUML</li><li>Graphviz</li><li>Mermaid</li></ul>]]></content>
    
    <summary type="html">
    
      æ¨èå‡ ä¸ªå¥½ç”¨çš„DevOpså°å·¥å…·
    
    </summary>
    
    
      <category term="DevOps" scheme="https://shuke163.github.io/categories/DevOps/"/>
    
    
      <category term="DevOps" scheme="https://shuke163.github.io/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>pythonå°æŠ€å·§</title>
    <link href="https://shuke163.github.io/2020/04/29/python%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>https://shuke163.github.io/2020/04/29/python%E5%B0%8F%E6%8A%80%E5%B7%A7/</id>
    <published>2020-04-29T00:46:02.000Z</published>
    <updated>2020-04-29T00:55:35.699Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>æ¯å¤©æ—©æ™¨æ´—ä¸€éè„‘å­ç‰¹å¹¶æ¸…é†’ </p></blockquote><ol><li><p>List: all_equal<br>åŠŸèƒ½å®ç°: æ£€éªŒä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸€æ ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def all_equal(lst):</span><br><span class="line">    return lst[1:] &#x3D;&#x3D; lst[:-1]</span><br><span class="line"></span><br><span class="line">ret &#x3D; all_equal([1, 2, 3, 4, 5, 6])</span><br><span class="line"></span><br><span class="line">ret2 &#x3D; all_equal([1, 1, 1, 1])</span><br><span class="line"></span><br><span class="line">print(ret, ret2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># True False</span><br></pre></td></tr></table></figure></li><li><p>List: all_unique<br>åŠŸèƒ½å®ç°: å¦‚æœåˆ—è¡¨æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œè¿”å›True, å¦åˆ™è¿”å›False</p><blockquote><p>è§£è¯»: åœ¨ç»™å®šåˆ—è¡¨ä¸Šä½¿ç”¨é›†åˆset()å»é‡, æ¯”è¾ƒå®ƒå’ŒåŸåˆ—è¡¨çš„é•¿åº¦</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def all_unique(lst):</span><br><span class="line">    return len(lst) &#x3D;&#x3D; len(set(lst))</span><br><span class="line"></span><br><span class="line"># ä¸¾ä¾‹:</span><br><span class="line">x &#x3D; [1, 2, 3, 4, 5, 6]</span><br><span class="line">y &#x3D; [1, 2, 2, 3, 4, 5]</span><br><span class="line">z &#x3D; all_unique(x)</span><br><span class="line">b &#x3D; all_unique(y)</span><br><span class="line">print(z, b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># True False</span><br></pre></td></tr></table></figure></li><li><p>List: bifucate<br>åŠŸèƒ½å®ç°: å°†åˆ—è¡¨å€¼åˆ†ç»„ã€‚å¦‚æœfilterçš„å…ƒç´ æ˜¯True, é‚£ä¹ˆå¯¹åº”çš„å…ƒç´ å±äºç¬¬ä¸€ä¸ªç»„,å¦åˆ™å±äºç¬¬äºŒä¸ªç»„<br>è§£è¯»: ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼å’Œenumerate()åŸºäºfiterå…ƒç´ åˆ°å„ç»„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def bifurcate(lst, filter):</span><br><span class="line">    return [</span><br><span class="line">        [x for i, x in enumerate(lst) if filter[i] &#x3D;&#x3D; True],</span><br><span class="line">        [x for i, x in enumerate(lst) if filter[i] &#x3D;&#x3D; False]</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">r &#x3D; bifurcate([&quot;beep&quot;, &quot;boop&quot;, &quot;foo&quot;, &quot;bar&quot;], [True, True, False, True])</span><br><span class="line"># [[&#39;beep&#39;, &#39;boop&#39;, &#39;bar&#39;], [&#39;foo&#39;]]</span><br></pre></td></tr></table></figure></li><li><p>List: difference<br>åŠŸèƒ½å®ç°: è¿”å›ä¸¤ä¸ªiterablesé—´çš„å·®å¼‚<br>è§£è¯»: åˆ›å»ºbçš„é›†åˆï¼Œä½¿ç”¨açš„åˆ—è¡¨æ¨å¯¼å¼ä¿ç•™ä¸åœ¨_bä¸­çš„å…ƒç´ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def difference(a, b):</span><br><span class="line">    _b &#x3D; set(b)</span><br><span class="line">    return [item for item in a if item not in _b]</span><br><span class="line"></span><br><span class="line">print(difference([1, 2, 3], [1, 2, 4]))</span><br><span class="line"></span><br><span class="line"># [3]</span><br></pre></td></tr></table></figure></li><li><p>Math: digitize<br>åŠŸèƒ½å®ç°: å°†ä¸€ä¸ªæ•°åˆ†è§£è½¬æ¢ä¸ºä¸ªä½æ•°å­—<br>è§£è¯»: å°†nå­—ç¬¦åŒ–åä½¿ç”¨map()å‡½æ•°ç»“åˆintå®Œæˆè½¬åŒ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def digitize(n):</span><br><span class="line">    return list(map(int, str(n)))</span><br><span class="line"></span><br><span class="line">print(digitize(123))</span><br><span class="line"># [1,2,3]</span><br></pre></td></tr></table></figure></li><li><p>List: shuffle<br>åŠŸèƒ½å®ç°: å°†åˆ—è¡¨å…ƒç´ é¡ºåºéšæœºæ‰“ä¹±<br>è§£è¯»: ä½¿ç”¨Fisher-Yatesç®—æ³•é‡æ–°æ’åºåˆ—è¡¨å…ƒç´ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">from copy import deepcopy</span><br><span class="line">from random import randint</span><br><span class="line"></span><br><span class="line">def shuffle(lst):</span><br><span class="line">    temp_lst &#x3D; deepcopy(lst)</span><br><span class="line">    m &#x3D; len(temp_lst)</span><br><span class="line">    while (m):</span><br><span class="line">        m -&#x3D; 1</span><br><span class="line">        i &#x3D; randint(0, m)</span><br><span class="line">        temp_lst[m], temp_lst[i] &#x3D; temp_lst[i], temp_lst[m]</span><br><span class="line">    return temp_lst</span><br><span class="line"></span><br><span class="line">foo &#x3D; [1, 2, 3]</span><br><span class="line">print(shuffle(foo))</span><br><span class="line"></span><br><span class="line"># [2, 1, 3]</span><br></pre></td></tr></table></figure></li><li><p>Math: clamp_number<br>åŠŸèƒ½å®ç°: å°†æ•°å­—numåµŒåœ¨ç”±aå’Œbè¾¹ç•Œå€¼è§„å®šçš„èŒƒå›´ä¸­<br>è§£è¯»: å¦‚æœnumè½å°½èŒƒå›´å†…,è¿”å›num å¦åˆ™ï¼Œè¿”å›èŒƒå›´å†…æœ€æ¥è¿‘çš„æ•°å­—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def clamp_number(num, a, b):</span><br><span class="line">    return max(min(num, max(a, b)), min(a, b))</span><br><span class="line"></span><br><span class="line">a &#x3D; clamp_number(2, 3, 5)</span><br><span class="line">b &#x3D; clamp_number(1, -1, -5)</span><br><span class="line">print(a, b)</span><br><span class="line"></span><br><span class="line"># 3 -1</span><br></pre></td></tr></table></figure></li><li><p>String: byte_size<br>åŠŸèƒ½å®ç°: è¿”å›å­—ç¬¦ä¸²çš„å­—èŠ‚æ•°<br>è§£è¯»: ä½¿ç”¨String.encode(â€˜utf-8â€™) è§£ç ç»™å®šå­—ç¬¦ä¸², è¿”å›é•¿åº¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def byte_size(string):</span><br><span class="line">    return len(string.encode(&#39;utf-8&#39;))</span><br><span class="line"></span><br><span class="line"># print(byte_size(&#39;ğŸ˜€&#39;)) # 4</span><br><span class="line"># print(byte_size(&#39;Hello World&#39;)) # 11</span><br></pre></td></tr></table></figure></li><li><p>Math: gcd<br>åŠŸèƒ½å®ç°: è®¡ç®—å‡ ä¸ªæ•°çš„æœ€å¤§å…¬å› æ•°<br>è§£è¯»: ä½¿ç”¨reduce()å’Œmath.gcdåœ¨ç»™å®šåˆ—è¡¨ä¸Šå®ç°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from functools import reduce</span><br><span class="line">import math</span><br><span class="line"></span><br><span class="line">def gcd(numbers):</span><br><span class="line">    return reduce(math.gcd, numbers)</span><br><span class="line"></span><br><span class="line">print(gcd([8, 36, 28]))  # 4</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      pythonå°æŠ€å·§
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€äº›pythonç›¸å…³çš„çŸ¥è¯†ç‚¹æ•´ç†</title>
    <link href="https://shuke163.github.io/2020/04/23/%E4%B8%80%E4%BA%9Bpython%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/"/>
    <id>https://shuke163.github.io/2020/04/23/%E4%B8%80%E4%BA%9Bpython%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/</id>
    <published>2020-04-23T08:29:52.000Z</published>
    <updated>2020-04-23T08:31:17.283Z</updated>
    
    <content type="html"><![CDATA[<h3 id="djangoç›¸å…³"><a href="#djangoç›¸å…³" class="headerlink" title="djangoç›¸å…³"></a>djangoç›¸å…³</h3><ol><li><p>ä¸­é—´ä»¶<br>ä¸­é—´ä»¶ä¸€èˆ¬åšè®¤è¯æˆ–æ‰¹é‡è¯·æ±‚å¤„ç†ï¼Œdjangoä¸­çš„ä¸­é—´ä»¶ï¼Œå…¶å®æ˜¯ä¸€ä¸ªç±»ï¼Œåœ¨è¯·æ±‚å’Œç»“æŸåï¼Œdjangoä¼šæ ¹æ®è‡ªå·±çš„è§„åˆ™åœ¨åˆé€‚çš„æ—¶æœºæ‰§è¡Œä¸­é—´ä»¶ä¸­ç›¸åº”çš„æ–¹æ³•ï¼Œ<br>å¦‚è¯·æ±‚è¿‡æ¥ æ‰§è¡Œprocess_request, viewï¼Œprocess_responseæ–¹æ³•</p></li><li><p>Djangoã€Tornadoã€Flaskå„è‡ªçš„ä¼˜åŠ¿<br>Djangoï¼šDjangoæ— socketï¼Œdjangoçš„ç›®çš„æ˜¯ç®€ä¾¿ï¼Œå¿«é€Ÿå¼€å‘ï¼Œå¹¶éµå¾ªMVCè®¾è®¡ï¼Œå¤šä¸ªç»„ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥â€œæ’ä»¶â€å½¢å¼æœåŠ¡äºæ•´ä¸ªæ¡†æ¶ï¼Œ<br>djangoæœ‰è®¸å¤šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚djangoå…·æœ‰å¾ˆå¼ºçš„å¯æ‰©å±•æ€§ã€‚<br>Tornadoï¼šå®ƒæ˜¯éé˜»å¡å¼æœåŠ¡å™¨ï¼Œè€Œä¸”é€Ÿåº¦ç›¸å½“å¿«ï¼Œå¾—åŠ›äºå…¶ éé˜»å¡çš„æ–¹å¼å’Œå¯¹epollçš„è¿ç”¨ï¼ŒFutureå¯¹è±¡ï¼Œç¼ºç‚¹ï¼šæ²¡æœ‰sessionï¼Œéœ€è¦è‡ªå®šåˆ¶<br>Flaskï¼šæ˜¯ä¸€ä¸ªå¾®å‹çš„webæ¡†æ¶ï¼Œé…åˆSQLALchemyæ¥ä½¿ç”¨ï¼Œjinja2æ¨¡æ¿ï¼Œ werkzeugæ¥å£                  </p></li><li><p>djangoç‰ˆæœ¬ï¼ŒPythonç‰ˆæœ¬ï¼Œlinuxç‰ˆæœ¬<br>djangoï¼š1.11<br>Pythonï¼š3.5<br>linuxï¼š6.8</p></li><li><p>djangoçš„templateçš„æ³¨é‡Šæ˜¯ä»€ä¹ˆæ ·å­çš„<br>å•è¡Œï¼š<br>å¤šè¡Œæ³¨é‡Šï¼š&#123;%comment%&#123;&#123;</p></li><li><p>djangoæ€ä¹ˆå¼„å¹¶å‘çš„<br>nginx+uwsigä¸ºdjangoæä¾›é«˜å¹¶å‘ï¼Œnginxçš„å¹¶å‘èƒ½åŠ›è¶…è¿‡ï¼Œå•å°å¹¶å‘èƒ½åŠ›è¿‡å®Œï¼Œåœ¨çº¯é™æ€çš„webæœåŠ¡ä¸­æ›´æ˜¯çªå‡ºå…¶ä¼˜è¶Šçš„åœ°æ–¹ï¼Œç”±äºåº•å±‚ä½¿ç”¨epollå¼‚æ­¥IOæ¨¡å‹è¿›è¡Œå¤„ç†ã€‚</p></li><li><p>tornodoçš„ioloopçŸ¥é“æ˜¯ä»€ä¹ˆå—ï¼Ÿ<br>äº‹ä»¶å¾ªç¯</p></li><li><p>select_relatedå’Œprefetch_relatedï¼ŒQå’ŒF<br>select_relatedï¼šä¸€å¯¹å¤šä½¿ç”¨ï¼ŒæŸ¥è¯¢ä¸»åŠ¨åšè¿è¡¨<br>prefetch_relatedï¼šå¤šå¯¹å¤šæˆ–è€…ä¸€å¯¹å¤šçš„æ—¶å€™ä½¿ç”¨ï¼Œä¸åšè¿è¡¨ï¼Œåšå¤šæ¬¡æŸ¥è¯¢<br>Qï¼šç”¨äºæ„é€ å¤æ‚æŸ¥è¯¢æ¡ä»¶<br>Fï¼šæ›´æ–°æ—¶ç”¨äºè·å–åŸæ¥çš„å€¼ï¼Œä¸“é—¨å–å¯¹è±¡ä¸­æŸä¸€åˆ—è¿›è¡Œæ“ä½œ</p></li><li><p>ä»€ä¹ˆæ˜¯ORMï¼Ÿ<br>ORMï¼Œå³Object-Relational Mappingï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨å…³ç³»å‹æ•°æ®åº“å’Œä¸šåŠ¡å®ä½“å¯¹è±¡ä¹‹é—´åšä¸€ä¸ªæ˜ å°„<br>ORMä¼˜ç¼ºç‚¹ï¼š<br>ä¼˜ç‚¹ï¼šæ‘†è„±å¤æ‚çš„SQLæ“ä½œï¼Œé€‚åº”å¿«é€Ÿå¼€å‘ï¼Œè®©æ•°æ®ç»“æœå˜å¾—ç®€å•ï¼Œæ•°æ®åº“è¿ç§»æˆæœ¬æ›´ä½<br>ç¼ºç‚¹ï¼šæ€§èƒ½è¾ƒå·®ï¼Œä¸é€‚ç”¨äºå¤§å‹åº”ç”¨ï¼Œå¤æ‚çš„SQLæ“ä½œè¿˜éœ€è¦é€šè¿‡SQLè¯­å¥å®ç°</p></li><li><p>CORSè·¨åŸŸèµ„æºå…±äº«<br>é¦–å…ˆä¼šå‘é€â€é¢„æ£€â€opptionâ€ï¼Œè¯·æ±‚ï¼Œå¦‚æœâ€é¢„æ£€â€æˆåŠŸï¼Œåˆ™å‘é€çœŸå®æ•°æ®ã€‚</p></li><li><p>Djangoçš„Formä¸»è¦å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼Ÿ<br>ç”ŸæˆHTMlæ ‡ç­¾ï¼ŒéªŒè¯ç”¨æˆ·æ•°æ® is_vaildï¼ŒHTML Formæäº¤ä¿ç•™ä¸Šæ¬¡æäº¤æ•°æ®ï¼Œåˆå§‹åŒ–é¡µé¢æ˜¾ç¤ºå†…å®¹</p></li><li><p>CBVå’ŒFBV<br>CBVåœ¨æŒ‡å®šçš„ç±»ä¸Šé¢åŠ ä¸Šè£…é¥°å™¨æˆ–åœ¨æ­¤æ–¹æ³•ä¸Šé¢æ·»åŠ è£…é¥°å™¨ @method_decorator,å¹¶ç»§æ‰¿view</p></li><li><p>cookieåŠsession<br>cookieï¼šæ˜¯ä¿ç•™åœ¨å®¢æˆ·ç«¯ä¸Šé¢çš„ä¸€ç»„é”®å€¼å¯¹ï¼Œcookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„cookie<br>sessionï¼šæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šé¢çš„ä¸€ç»„é”®å€¼å¯¹ï¼Œä¾èµ–ä¸cookieï¼Œå®‰å…¨æŒ‡æ•°æ¯”cookieé«˜</p></li><li><p>djangoçš„è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ<br>è¯·æ±‚æ¥äº†å…ˆåˆ°uwsgiï¼ŒæŠŠè¯·æ±‚åšä¸€éƒ¨åˆ†åˆ†è£…ç»™djangoæ¡†æ¶ï¼Œç„¶åç»è¿‡æ‰€æœ‰çš„ä¸­é—´ä»¶ï¼Œè·¯ç”±ï¼Œè§†å›¾ï¼Œè§†å›¾å¤„ç†å†è¿”å›ç»™ä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶åœ¨è¿”å›ç»™uwsgiï¼Œåœ¨è¿”å›ç»™ç”¨æˆ·ã€‚</p></li><li><p>uwsgiå’Œwsgi<br>wsgiï¼šæ˜¯webæœåŠ¡å™¨ç½‘å…³æ¥å£ï¼Œæ˜¯pyhtonåº”ç”¨ç¨‹åºæˆ–æ¡†æ¶å’ŒwebæœåŠ¡å™¨ä¹‹é—´çš„ä¸€ç§æ¥å£ï¼Œå…¶å¹¿æ³›ä½¿ç”¨çš„æ˜¯djangoæ¡†æ¶ã€‚<br>uwsgiï¼šæ˜¯ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œå®ƒå®ç°äº†wsgiåè®®ï¼ŒNginxä¸­HttpUwsgiModuleçš„ä½œç”¨æ˜¯ä¸UwsgiæœåŠ¡å™¨è¿›è¡Œäº¤æ¢</p></li><li><p>è§£é‡Šä¸‹django - debug -toolbarçš„ä½¿ç”¨<br>ä½¿ç”¨djangoå¼€å‘ç«™ç‚¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨django-debug-toolbaræ¥è¿›è¡Œè°ƒè¯•ï¼Œåœ¨settings.pyä¸­æ·»åŠ  â€˜debugâ€”toolbar.midleware.Debug ToolbarMiddlewareâ€™åˆ°é¡¹ç›®çš„MIDDLEWARE_CLASSESå†…ã€‚</p></li></ol><h3 id="Pythonéƒ¨åˆ†"><a href="#Pythonéƒ¨åˆ†" class="headerlink" title="Pythonéƒ¨åˆ†"></a>Pythonéƒ¨åˆ†</h3><ol><li><p><strong>new</strong>.<strong>init</strong>åŒºåˆ«ï¼Œå¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Œæœ‰ä»€ä¹ˆä¼˜ç‚¹<br><strong>new</strong>æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œ<strong>init</strong>æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•<br><strong>new</strong>è¿”å›ä¸€ä¸ªåˆ›å»ºçš„å®ä¾‹ï¼Œ<strong>init</strong>ä»€ä¹ˆéƒ½ä¸è¿”å›<br><strong>new</strong>è¿”å›ä¸€ä¸ªclsçš„å®ä¾‹æ—¶åé¢çš„<strong>init</strong>æ‰èƒ½è¢«è°ƒç”¨<br>å½“åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹æ—¶è°ƒç”¨<strong>new</strong>ï¼Œåˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹æ—¶è°ƒç”¨<strong>init</strong></p></li><li><p>æ·±æµ…æ‹·è´<br>æµ…æ‹·è´åªæ˜¯å¢åŠ äº†ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå­˜åœ¨çš„åœ°å€ï¼Œè€Œæ·±æ‹·è´æ˜¯å¢åŠ ä¸€ä¸ªæŒ‡é’ˆå¹¶ä¸”å¼€è¾Ÿäº†æ–°çš„å†…å­˜ï¼Œè¿™ä¸ªå¢åŠ çš„æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ–°çš„å†…å­˜ï¼Œ<br>é‡‡ç”¨æµ…æ‹·è´çš„æƒ…å†µï¼Œé‡Šæ”¾å†…å­˜ï¼Œä¼šé‡Šæ”¾åŒä¸€å†…å­˜ï¼Œæ·±æ‹·è´å°±ä¸ä¼šå‡ºç°é‡Šæ”¾åŒä¸€å†…å­˜çš„é”™è¯¯</p></li><li><p>HTTP/IPç›¸å…³åè®®ï¼Œåˆ†åˆ«ä½äºå“ªå±‚<br>httpåè®®æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œhttpåè®®æ˜¯åŸºäºTCP/IPé€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®<br>httpåè®®å·¥ä½œä¸c/sæ¶æ„ä¸Šï¼Œæµè§ˆå™¨ä½œä¸ºhttpçš„å®¢æˆ·ç«¯é€šè¿‡URLå‘httpæœåŠ¡ç«¯å³webæœåŠ¡å™¨å‘é€æ‰€ç”¨è¯·æ±‚ã€‚webæœåŠ¡å™¨æ”¶åˆ°æ‰€æœ‰è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘é€å“åº”ä¿¡æ¯ï¼Œ<br>httpç‰¹ç‚¹æ˜¯çŸ­è¿æ¥ï¼Œæ— çŠ¶æ€<br>åœ°å€æ é”®è¾“å…¥URLï¼ŒæŒ‰ä¸‹å›è½¦ä¹‹åç»å†äº†ä»€ä¹ˆï¼Ÿ</p></li><li><p>æµè§ˆå™¨å‘DNSæœåŠ¡å™¨è¯·æ±‚è§£æè¯¥URLä¸­çš„åŸŸåæ‰€å¯¹åº”çš„IPåœ°å€</p></li><li><p>è§£æå‡ºIPåœ°å€åï¼Œæ ¹æ®IPåœ°å€å’Œé»˜è®¤ç«¯å£80ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥</p></li><li><p>æµè§ˆå™¨å‘å‡ºè¯»å–æ–‡ä»¶çš„httpè¯·æ±‚ï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸ºTCPä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰ä¸ªæŠ¥æ–‡çš„æ•°æ®å‘é€ç»™æœåŠ¡å™¨</p></li><li><p>æœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„htmlæ–‡ä»¶å‘é€ç»™æµè§ˆå™¨</p></li><li><p>é‡Šæ”¾TCPè¿æ¥</p></li><li><p>æµè§ˆå™¨å°†è¯¥HMTLæ¸²æŸ“å¹¶æ˜¾ç¤ºå†…å®¹</p></li><li><p>TCP/UDPåŒºåˆ«<br>TCPåè®®æ˜¯é¢å‘è¿æ¥ï¼Œä¿è¯é«˜å¯é æ€§ï¼ˆæ•°æ®æ— ä¸¢å¤±ï¼Œæ•°æ®æ— å¤±åºï¼Œæ•°æ®æ— é”™è¯¯ï¼Œæ•°æ®æ— é‡å¤è¾¾åˆ°ï¼‰ä¼ è¾“å±‚åè®®<br>UDPï¼šæ•°æ®ä¸¢å¤±ï¼Œæ— ç§©åºçš„ä¼ è¾“å±‚åè®®ï¼ˆqqåŸºäºudpåè®®ï¼‰</p></li><li><p>webscoket<br>websocketæ˜¯åŸºäºhttpåè®®çš„ï¼Œå¯æŒç»­åŒ–è¿æ¥<br>è½®è¯¢ï¼šæµè§ˆå™¨æ¯éš”å‡ ç§’å°±å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æœ‰æ–°æ¶ˆæ¯<br>é•¿è½®è¯¢ï¼šå®¢æˆ·ç«¯å‘èµ·è¿æ¥åï¼Œå¦‚æœæ²¡æœ‰æ¶ˆæ¯ï¼Œå°±ä¸€ç›´ä¸è¿”å›responseç»™å®¢æˆ·ç«¯ï¼Œç›´åˆ°æœ‰æ¶ˆæ¯è¿”å›ï¼Œè¿”å›å®Œä¹‹åï¼Œå®¢æˆ·ç«¯å†æ¬¡å‘èµ·è¿æ¥</p></li><li><p>RabbitMQ:<br>æœåŠ¡å™¨ç«¯æœ‰Erlangè¯­è¨€æ¥ç¼–å†™ï¼Œæ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼Œåªä¼šajaxï¼Œç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ï¼Œåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€é«˜å¯ç”¨æ€§çš„æ–¹é¢ä¸ä¿—ã€‚<br>connectionæ˜¯RabbitMQçš„socketè¿æ¥ï¼Œå®ƒå°è£…äº†socketéƒ¨åˆ†ç›¸å…³åè®®é€»è¾‘<br>connectionFactroyä¸ºconnectionçš„åˆ¶é€ å·¥å‚<br>channelæ˜¯æˆ‘ä»¬ä¸RabbitMQæ‰“äº¤é“çš„æœ€é‡è¦çš„ä¸€ä¸ªæ¥å£ï¼Œå¤§éƒ¨åˆ†çš„ä¸šåŠ¡æ“ä½œæ˜¯åœ¨chaanelè¿™ä¸ªæ¥å£ä¸­å®Œæˆï¼ŒåŒ…æ‹¬å®šä¹‰Queueã€å®šä¹‰Exchangeã€<br>ç»‘å®šQueueä¸Exchange,å‘å¸ƒæ¶ˆæ¯ç­‰</p></li><li><p>è£…é¥°å™¨<br>è°ƒç”¨è£…é¥°å™¨å…¶å®æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œä¸ºå…¶ä»–å‡½æ•°æ·»åŠ é™„åŠ åŠŸèƒ½ï¼Œä¸ä¿®æ”¹è¢«ä¿®æ”¹çš„æºä»£ç å’Œä¸ä¿®æ”¹è¢«ä¿®é¥°çš„æ–¹å¼ï¼Œè£…é¥°å™¨çš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚<br>æ¯”å¦‚ï¼šæ’å…¥æ—¥å¿—ã€æ€§èƒ½æµ‹è¯•ã€äº‹ç‰©å¤„ç†ã€ç¼“å­˜ã€æƒé™éªŒè¯ç­‰ï¼Œæœ‰äº†è£…é¥°å™¨ï¼Œå°±å¯ä»¥æŠ½ç¦»å‡ºå¤§é‡ä¸å‡½æ•°åŠŸèƒ½æœ¬èº«æ— å…³çš„é›·åŒä»£ç å¹¶ç»§ç»­é‡ç”¨ã€‚</p></li><li><p>é—­åŒ…</p></li><li><p>å¿…é¡»æœ‰ä¸€ä¸ªå†…åµŒå‡½æ•°</p></li><li><p>å†…åµŒå‡½æ•°å¿…é¡»å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼ˆè¯¥å‡½æ•°åŒ…å«å¯¹å¤–ä½œç”¨åŸŸè€Œä¸æ˜¯å…¨å±€ä½œç”¨åŸŸåå­—çš„å¼•ç”¨ï¼‰</p></li><li><p>å¤–éƒ¨å‡½æ•°çš„è¿”å›å€¼å¿…é¡»æ˜¯å†…åµŒå‡½æ•°</p></li><li><p>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨<br>è¿­ä»£å¯è¿­ä»£å¯¹è±¡å¯¹åº”_iter_ï¼ˆæ–¹æ³•ï¼‰å’Œè¿­ä»£å™¨å¯¹åº”_next_ï¼ˆæ–¹æ³•ï¼‰çš„ä¸€ä¸ªè¿‡ç¨‹<br>ç”Ÿæˆå™¨ï¼šåŒ…æ‹¬å«æœ‰yieldè¿™ä¸ªå…³é”®å­—ï¼Œç”Ÿæˆå™¨ä¹Ÿæ˜¯è¿­ä»£å™¨ï¼Œè°ƒåŠ¨nextæŠŠå‡½æ•°å˜æˆè¿­ä»£å™¨ã€‚</p></li><li><p>classmethodï¼Œstaticmethodï¼Œproperty<br>ç±»æ–¹æ³•ï¼šå°†ç±»çš„å‡½æ•°è½¬æ¢æˆç±»æ–¹æ³•ï¼Œå‡½æ•°ä¸Šè£…é¥°@classmethodä¼šå°†å‡½æ•°çš„è‡ªåŠ¨ä¼ å€¼å‚æ•°æ”¹æˆcls<br>é™æ€æ–¹æ³•ï¼šæ­¤æ–¹æ³•ç›¸å½“äºç»™ç±»æ‰©å±•ä¸€ä¸ªåŠŸèƒ½ï¼Œå°†ç±»å†…çš„å‡½æ•°å®ä¾‹åŒ–ï¼Œç»™ç±»æˆ–å¯¹è±¡ä½¿ç”¨ï¼Œæ­¤æ—¶ç±»å†…çš„å‡½æ•°å°±æ˜¯æ™®é€šå‡½æ•°ï¼Œä¸ç®¡æ˜¯ç±»è¿˜æ˜¯å®ä¾‹åŒ–çš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨<br>å®ä¾‹åŒ–ï¼šç±»çš„å®ä¾‹åŒ–å°±ä¼šäº§ç”Ÿä¸€ä¸ªå®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ï¼Œå¯ä»¥ç†è§£ä¸ºç±»ï¼ˆï¼‰æŠŠè™šæ‹Ÿçš„ä¸œè¥¿å®ä¾‹åŒ–ï¼Œå¾—åˆ°å…·ä½“å­˜åœ¨çš„å€¼</p></li><li><p>å¸¸ç”¨çš„çŠ¶æ€ç <br>200â€“æœåŠ¡å™¨æˆåŠŸè¿”å›ç½‘é¡µ<br>204â€“è¯·æ±‚æ”¶åˆ°,ä½†è¿”å›ä¿¡æ¯ä¸ºç©º<br>304â€“å®¢æˆ·ç«¯å·²ç»æ‰§è¡Œäº†GET,ä½†æ–‡ä»¶æœªå˜åŒ–<br>400â€“é”™è¯¯è¯·æ±‚ï¼Œå¦‚è¯­æ³•é”™è¯¯<br>403â€“æ— æƒé™è®¿é—®<br>404â€“è¯·æ±‚çš„é¡µé¢ä¸å­˜åœ¨<br>500â€“æœåŠ¡å™¨äº§ç”Ÿå†…éƒ¨é”™è¯¯<br>â€</p></li><li><p>å¤šè¿›ç¨‹ï¼Œå¤šçº¿ç¨‹ï¼Œåç¨‹ï¼ŒGIL<br>GIL:å…¨å±€è§£é‡Šå™¨é”ï¼Œæ˜¯é”åœ¨cpythonè§£é‡Šå™¨ä¸Šï¼Œå¯¼è‡´åŒä¸€æ—¶åˆ»ï¼ŒåŒä¸€è¿›ç¨‹åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è¢«æ‰§è¡Œ<br>å¤šè¿›ç¨‹ï¼šå¤šè¿›ç¨‹æ¨¡å—multiprocessingæ¥å®ç°ï¼Œcpuå¯†é›†å‹ï¼ŒIOè®¡ç®—å‹å¯ä»¥ç”¨å¤šè¿›ç¨‹<br>å¤šçº¿ç¨‹ï¼šå¤šçº¿ç¨‹æ¨¡å—threadingæ¥å®ç°ï¼ŒIOå¯†é›†å‹ï¼Œå¤šçº¿ç¨‹å¯ä»¥æé«˜æ•ˆç‡<br>åç¨‹ï¼šä¾èµ–äºgeenletï¼Œå¯¹äºå¤šçº¿ç¨‹åº”ç”¨ã€‚cpué€šè¿‡åˆ‡ç‰‡çš„æ–¹å¼æ¥åˆ‡æ¢çº¿ç¨‹é—´çš„æ‰§è¡Œï¼Œé‡åˆ°IOæ“ä½œè‡ªåŠ¨åˆ‡æ¢ï¼Œçº¿ç¨‹åˆ‡æ¢æ—¶éœ€è¦è€—æ—¶ï¼Œ<br>è€Œåæˆå¥½å¤„æ²¡æœ‰åˆ‡æ¢çš„æ¶ˆè€—ï¼Œæ²¡æœ‰é”å®šæ¦‚å¿µã€‚<br>è¿›ç¨‹ï¼šæ˜¯èµ„æºç®¡ç†å•ä½ï¼Œè¿›è¡Œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå®ç°å¹¶å‘å’Œå¹¶å‘<br>çº¿ç¨‹ï¼šæ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œçº¿ç¨‹çš„å‡ºç°ä¸ºäº†é™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¶ˆè€—ï¼Œæä¾›ç³»ç»Ÿçš„å¹¶å‘æ€§</p></li><li><p>IOå¤šè·¯å¤ç”¨/å¼‚æ­¥éé˜»å¡<br>IOå¤šè·¯å¤ç”¨ï¼šé€šè¿‡ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥ç›‘å¬å¤šä¸ªæè¿°ç¬¦ select/poll/epoll<br>selectï¼šè¿æ¥æ•°å—é™ï¼ŒæŸ¥æ‰¾é…å¯¹é€Ÿåº¦æ…¢ï¼Œæ•°æ®ç”±å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·æ€<br>pollï¼šæ”¹å–„äº†è¿æ¥æ•°ï¼Œä½†æ˜¯è¿˜æ˜¯æŸ¥æ‰¾é…å¯¹é€Ÿåº¦æ…¢ï¼Œæ•°æ®ç”±å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·æ€<br>epollï¼šepollæ˜¯linuxä¸‹å¤šè·¯å¤ç”¨IOæ¥å£ï¼Œæ˜¯select/pollçš„å¢å¼ºç‰ˆï¼Œå®ƒèƒ½æ˜¾è‘—æé«˜ç¨‹åºåœ¨å¤§é‡å¹¶å‘è¿æ¥ä¸­åªæœ‰å°‘é‡æ´»è·ƒçš„æƒ…å†µä¸‹çš„ç³»ç»ŸCPUåˆ©ç”¨ç‡<br>å¼‚æ­¥éé˜»å¡ï¼šå¼‚æ­¥ä½“ç°åœ¨å›è°ƒä¸Šï¼Œå›è°ƒå°±æ˜¯æœ‰æ¶ˆæ¯è¿”å›æ—¶å‘ŠçŸ¥ä¸€å£°å„¿è¿›ç¨‹è¿›è¡Œå¤„ç†ã€‚éé˜»å¡å°±æ˜¯ä¸ç­‰å¾…ï¼Œä¸éœ€è¦è¿›ç¨‹ç­‰å¾…ä¸‹å»ï¼Œ<br>ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œä¸ç®¡å…¶ä»–è¿›ç¨‹çš„çŠ¶æ€ã€‚</p></li><li><p>PEP8è§„èŒƒï¼Œè§„èŒƒçš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ</p></li><li><p>ç¼©è¿›ï¼š4ä¸ªç©ºå®ç°ç¼©è¿›ï¼Œå°½é‡ä¸ä½¿ç”¨Tab</p></li><li><p>è¡Œï¼šæ²¡è¡Œæœ€å¤§é•¿åº¦ä¸è¶…è¿‡79ï¼Œæ¢è¡Œå¯ä»¥ä½¿ç”¨åæ–œæ </p></li><li><p>å‘½åè§„èŒƒï¼š</p></li><li><p>æ³¨é‡Šè§„èŒƒï¼š</p></li><li><p>range-and-xrange<br>éƒ½åœ¨å¾ªç¯æ—¶ä½¿ç”¨ï¼Œxrangeå†…å­˜æ€§èƒ½æ›´å¥½ï¼Œxrangeç”¨æ³•ä¸rangeå®Œå…¨ç›¸åŒï¼Œrangeä¸€ä¸ªç”Ÿæˆlistå¯¹è±¡ï¼Œxrangeæ˜¯ç”Ÿæˆå™¨</p></li><li><p>withä¸Šä¸‹æ–‡æœºåˆ¶åŸç†<br>_enter_å’Œ_exit_ï¼Œä¸Šä¸‹æ–‡ç®¡ç†åè®®ï¼Œå³withè¯­å¥ï¼Œä¸ºäº†è®©ä¸€ä¸ªå¯¹è±¡å…¼å®¹withè¯­å¥ï¼Œå¿…é¡»åœ¨è¿™ä¸ªå¯¹è±¡ç±»ä¸­å£°æ˜_enter_å’Œ_exit_æ–¹æ³•ï¼Œ<br>ä½¿ç”¨withè¯­å¥çš„ç›®çš„å°±æ˜¯æŠŠä»£ç å—æ”¾å…¥withä¸­æ‰§è¡Œï¼Œwithç»“æŸåï¼Œè‡ªåŠ¨å®Œæˆæ¸…ç†å·¥ä½œï¼Œæ— é¡»æ”¶åˆ°å¹²é¢„</p></li><li><p>ç»å…¸ç±»ã€æ–°å¼ç±»<br>ç»å…¸ç±»éµå¾ªï¼šæ·±åº¦ä¼˜å…ˆï¼Œpython2ä¸­<br>æ–°å¼ç±»éµå¾ªï¼šå¹¿åº¦ä¼˜å…ˆï¼ŒPython3ä¸­</p></li><li><p>æœ‰æ²¡æœ‰ä¸€ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æŸ¥æ‰¾Pythonçš„bugå’Œè¿›è¡Œé™æ€çš„ä»£ç åˆ†æï¼Ÿ<br>PyCheckeræ˜¯ä¸€ä¸ªPythonä»£ç çš„é™æ€åˆ†æå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æŸ¥æ‰¾Pythonä»£ç çš„bugï¼Œä¼šå¯¹ä»£ç çš„å¤æ‚åº¦å’Œæ ¼å¼æå‡ºè­¦å‘Šï¼Œ<br>Pylintæ˜¯å¦å¤–ä¸€ä¸ªå·¥å…·å¯ä»¥è¿›è¡Œcodingstandardæ£€æŸ¥  </p></li><li><p>Pythonæ˜¯å¦‚ä½•è¿›è¡Œå†…å­˜ç®¡ç†çš„</p></li><li><p>å¯¹è±¡å¼•ç”¨è®¡æ•°ï¼š<br>  å¼•ç”¨è®¡æ•°å¢åŠ çš„æƒ…å†µï¼š<br>  æ¥ä¿æŒè¿½è¸ªå†…å­˜ä¸­çš„å¯¹è±¡ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½ç”¨å¼•ç”¨è®¡æ•°ï¼Œä¸€ä¸ªå¯¹è±¡åˆ†é…ä¸€ä¸ªæ–°åç§°<br>  å°†å…¶æ”¾å…¥ä¸€ä¸ªå®¹å™¨ä¸­ï¼ˆåˆ—è¡¨ï¼Œå­—å…¸ï¼Œå…ƒç¥–ï¼‰<br>  å¼•ç”¨è®¡æ•°å‡å°‘çš„æƒ…å†µï¼š<br>  ä½¿ç”¨delè¯­å¥å¯¹å¯¹è±¡åˆ«åæ˜¾ç¤ºçš„é”€æ¯<br>  å¼•ç”¨è¶…å‡ºä½œç”¨åŸŸæˆ–è¢«é‡æ–°èµ‹å€¼<br>  sys.getrefcount()å‡½æ•°å¯ä»¥è·å¾—å¯¹è±¡çš„å½“å‰å¼•ç”¨è®¡æ•°</p></li><li><p>æ ‡è®°-æ¸…é™¤æœºåˆ¶</p></li><li><p>åˆ†ä»£æŠ€æœ¯</p></li><li><p>ä»€ä¹ˆæ˜¯pythonï¼Ÿä½¿ç”¨pythonæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ<br>pythonæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæœ‰å¯¹è±¡ã€æ¨¡å—ã€çº¿ç¨‹ã€å¼‚å¸¸å¤„ç†å’Œè‡ªåŠ¨å†…å­˜ç®¡ç†ã€‚å®ƒç®€æ´ï¼Œç®€å•ã€æ–¹ä¾¿ã€å®¹æ˜“æ‰©å±•ã€æœ‰è®¸å¤šè‡ªå¸¦çš„æ•°æ®ç»“æœï¼Œè€Œä¸”å®ƒå¼€æº</p></li><li><p>ä»€ä¹ˆæ˜¯picklingå’Œunpicklingï¼Ÿ<br>Pickleæ¨¡å—è¯»å…¥ä»»ä½•pythonå¯¹è±¡ï¼Œå°†å®ƒä»¬è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨dumpå‡½æ•°å°†å…¶è½¬å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”è¿™ä¸ªè¿‡ç¨‹å«åšpickling<br>åä¹‹ä»å­˜å‚¨çš„å­—ç¬¦ä¸²æ–‡ä»¶ä¸­æå–åŸå§‹pythonå¯¹è±¡çš„è¿‡ç¨‹ï¼Œå«åšunpickling</p></li><li><p>pythonæ˜¯å¦‚ä½•è¢«è§£é‡Šçš„ï¼Ÿ<br>Pythonæ˜¯ä¸€ç§è§£é‡Šæ€§è¯­è¨€ï¼Œå®ƒçš„æºä»£ç å¯ä»¥ç›´æ¥è¿è¡Œï¼ŒPythonè§£é‡Šå™¨ä¼šå°†æºä»£ç è½¬æ¢æˆä¸­é—´è¯­è¨€ï¼Œä¹‹åå†ç¿»è¯‘æˆæœºå™¨ç å†æ‰§è¡Œ</p></li><li><p>æ•°ç»„å’Œå…ƒç¥–ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>æ•°ç»„å’Œå…ƒç¥–ä¹‹é—´çš„åŒºåˆ«ï¼šæ•°ç»„å†…å®¹å¯ä»¥è¢«ä¿®æ”¹ï¼Œè€Œå…ƒç¥–å†…å®¹æ˜¯åªè¯»çš„ï¼Œä¸å¯è¢«ä¿®æ”¹çš„ï¼Œå¦å¤–å…ƒç¥–å¯ä»¥è¢«å“ˆå¸Œï¼Œæ¯”å¦‚ä½œä¸ºå­—å…¸çš„key</p></li><li><p>å‚æ•°æŒ‰å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ<br>pythonä¸­çš„ä¸€åˆ‡éƒ½æ˜¯ç±»ï¼Œæ‰€æœ‰çš„å˜é‡éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚å¼•ç”¨çš„å€¼æ˜¯ç”±å‡½æ•°ç¡®å®šçš„ï¼Œå› æ­¤æ— æ³•è¢«æ”¹å˜ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œä½ å¯ä»¥æ”¹åŠ¨å¯¹è±¡</p></li><li><p>Pythonéƒ½æœ‰å“ªäº›è‡ªå¸¦çš„æ•°æ®ç»“æ„ï¼Ÿ<br>Pythonè‡ªå¸¦çš„æ•°æ®ç»“æ„åˆ†ä¸ºå¯å˜å’Œä¸å¯å˜çš„ï¼šå¯å˜çš„æœ‰ï¼šæ•°ç»„ã€é›†åˆã€å­—å…¸ï¼Œä¸å¯å˜çš„æ˜¯ï¼šå­—ç¬¦ä¸²ã€å…ƒç¥–ã€æ•´æ•°</p></li><li><p>ä»€ä¹ˆæ˜¯pythonçš„å‘½åç©ºé—´ï¼Ÿ<br>åœ¨pythonä¸­ï¼Œæ‰€æœ‰çš„åå­—éƒ½å­˜åœ¨äºä¸€ä¸ªç©ºé—´ä¸­ï¼Œå®ƒä»¬åœ¨æ”¹ç©ºé—´ä¸­å­˜åœ¨å’Œè¢«æ“ä½œâ€”â€”è¿™å°±æ˜¯å‘½åç©ºé—´ï¼Œå®ƒå°±å¥½åƒä¸€ä¸ªç›’å­ï¼Œåœ¨æ¯ä¸ªå˜é‡åå­—éƒ½å¯¹åº”è£…ç€ä¸€ä¸ªå¯¹è±¡ï¼Œ<br>å½“æŸ¥è¯¢å˜é‡çš„æ—¶å€™ï¼Œä¼šä»è¯¥ç›’å­é‡Œé¢å¯»æ‰¾ç›¸åº”çš„å¯¹è±¡</p></li><li><p>pythonä¸­çš„unittestæ˜¯ä»€ä¹ˆï¼Ÿ<br>åœ¨pythonä¸­ï¼Œunittestæ˜¯pythonä¸­çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå®ƒæ‹¥æœ‰æ”¯æŒå…±äº«æ­å»ºã€è‡ªåŠ¨æµ‹è¯•ã€åœ¨æµ‹è¯•ä¸­æš‚åœä»£ç ã€å°†ä¸åŒæµ‹è¯•è¿­ä»£æˆä¸€ç»„</p></li><li><p><em>argsä¸*</em>kwargs</p></li></ol><p><em>argsä»£è¡¨ä½ç½®å‚æ•°ï¼Œå®ƒä¼šæ¥æ”¶ä»»æ„å¤šä¸ªå‚æ•°å¹¶æŠŠè¿™äº›å‚æ•°ä½œä¸ºå…ƒç¥–ä¼ é€’ç»™å‡½æ•°ã€‚*</em>kwargsä»£è¡¨çš„å…³é”®å­—å‚æ•°ï¼Œè¿”å›çš„æ˜¯å­—å…¸ï¼Œä½ç½®å‚æ•°ä¸€å®šè¦æ”¾åœ¨å…³é”®å­—å‰é¢</p><ol start="29"><li><p>åœ¨Pythonä¸­ä»€ä¹ˆæ˜¯slicingï¼Ÿ<br>slicingæ˜¯ä¸€ç§åœ¨æœ‰åºçš„å¯¹è±¡ç±»å‹ä¸­ï¼ˆæ•°ç»„ã€å…ƒç¥–ã€å­—ç¬¦ä¸²ï¼‰èŠ‚é€‰æŸä¸€æ®µçš„è¯­æ³•</p></li><li><p>ä¸­çš„docstringæ˜¯ä»€ä¹ˆï¼Ÿ<br>Pythonä¸­æ–‡æ¡£å­—ç¬¦ä¸²è¢«ç§°ä¸ºdocstringï¼Œå®ƒåœ¨Pythonä¸­çš„ä½œç”¨æ˜¯ä¸ºå‡½æ•°ã€æ¨¡å—å’Œç±»æ³¨é‡Šç”Ÿæˆæ–‡æ¡£</p></li><li><p>osä¸sysåŒºåˆ«ï¼š<br>osæ˜¯æ¨¡å—è´Ÿè´£ç¨‹åºä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’ï¼Œæä¾›äº†è®¿é—®æ“ä½œç³»ç»Ÿåº•å±‚çš„æ¥å£<br>sysæ¨¡å—æ˜¯è´Ÿè´£ç¨‹åºä¸pythonè§£é‡Šå™¨çš„äº¤äº’ï¼Œæä¾›äº†ä¸€ç³»åˆ—çš„å‡½æ•°å’Œå˜é‡ï¼Œç”¨äºæ“æ§Pythonæ—¶è¿è¡Œçš„ç¯å¢ƒ</p></li><li><p>å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼<br>_new_ï¼ˆï¼‰åœ¨ _init_ï¼ˆï¼‰ä¹‹å‰è¢«è°ƒç”¨ï¼Œç”¨äºç”Ÿæˆå®ä¾‹å¯¹è±¡ã€‚åˆ©ç”¨è¿™ä¸ªæ–¹æ³•å’Œç±»çš„å±æ€§çš„ç‰¹ç‚¹å¯ä»¥å®ç°è®¾è®¡æ¨¡å¼çš„å•ä¾‹æ¨¡å¼ã€‚<br>å•ä¾‹æ¨¡å¼æ˜¯æŒ‡åˆ›å»ºå”¯ä¸€å¯¹è±¡ï¼Œå•ä¾‹æ¨¡å¼è®¾è®¡çš„ç±»åªèƒ½å®ä¾‹ï¼Œå®ä¾‹åŒ–1ä¸ªå¯¹è±¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Singleton(object):</span><br><span class="line">    __instance&#x3D;None</span><br><span class="line">    def __init__(self):</span><br><span class="line">        pass</span><br><span class="line">    def __new__(cls, *args, **kwargs):</span><br><span class="line">        if Singleton.__instance is None:</span><br><span class="line">            Singleton.__instance&#x3D;object.__new__(cls,*args,**kwargs)</span><br><span class="line">        return Singleton.__instance</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      ä¸€äº›pythonç›¸å…³çš„çŸ¥è¯†ç‚¹æ•´ç†
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»</title>
    <link href="https://shuke163.github.io/2020/04/23/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E7%B1%BB/"/>
    <id>https://shuke163.github.io/2020/04/23/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E7%B1%BB/</id>
    <published>2020-04-23T08:23:06.000Z</published>
    <updated>2020-04-23T08:23:22.596Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»"><a href="#é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»" class="headerlink" title="é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»"></a>é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»</h2><p>å½“æˆ‘ä»¬éœ€è¦å®šä¹‰å¸¸é‡æ—¶ï¼Œä¸€ä¸ªåŠæ³•æ˜¯ç”¨å¤§å†™å˜é‡é€šè¿‡æ•´æ•°æ¥å®šä¹‰ï¼Œä¾‹å¦‚æœˆä»½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JAN &#x3D; 1</span><br><span class="line">FEB &#x3D; 2</span><br><span class="line">MAR &#x3D; 3</span><br><span class="line">...</span><br><span class="line">NOV &#x3D; 11</span><br><span class="line">DEC &#x3D; 12</span><br></pre></td></tr></table></figure><p>å¥½å¤„æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯ç±»å‹æ˜¯intï¼Œå¹¶ä¸”ä»ç„¶æ˜¯å˜é‡ã€‚</p><p>æ›´å¥½çš„æ–¹æ³•æ˜¯ä¸ºè¿™æ ·çš„æšä¸¾ç±»å‹å®šä¹‰ä¸€ä¸ªclassç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯classçš„ä¸€ä¸ªå”¯ä¸€å®ä¾‹ã€‚Pythonæä¾›äº†Enumç±»æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from enum import Enum</span><br><span class="line"></span><br><span class="line">Month &#x3D; Enum(&#39;Month&#39;, (&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;, &#39;May&#39;, &#39;Jun&#39;, &#39;Jul&#39;, &#39;Aug&#39;, &#39;Sep&#39;, &#39;Oct&#39;, &#39;Nov&#39;, &#39;Dec&#39;))</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±è·å¾—äº†Monthç±»å‹çš„æšä¸¾ç±»ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Month.Janæ¥å¼•ç”¨ä¸€ä¸ªå¸¸é‡ï¼Œæˆ–è€…æšä¸¾å®ƒçš„æ‰€æœ‰æˆå‘˜ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for name, member in Month.__members__.items():</span><br><span class="line">    print(name, &#39;&#x3D;&gt;&#39;, member, &#39;,&#39;, member.value)</span><br></pre></td></tr></table></figure><p>valueå±æ€§åˆ™æ˜¯è‡ªåŠ¨èµ‹ç»™æˆå‘˜çš„intå¸¸é‡ï¼Œé»˜è®¤ä»1å¼€å§‹è®¡æ•°ã€‚</p><p>å¦‚æœéœ€è¦æ›´ç²¾ç¡®åœ°æ§åˆ¶æšä¸¾ç±»å‹ï¼Œå¯ä»¥ä»Enumæ´¾ç”Ÿå‡ºè‡ªå®šä¹‰ç±»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from enum import Enum, unique</span><br><span class="line"></span><br><span class="line">@unique</span><br><span class="line">class Weekday(Enum):</span><br><span class="line">    Sun &#x3D; 0 # Sunçš„valueè¢«è®¾å®šä¸º0</span><br><span class="line">    Mon &#x3D; 1</span><br><span class="line">    Tue &#x3D; 2</span><br><span class="line">    Wed &#x3D; 3</span><br><span class="line">    Thu &#x3D; 4</span><br><span class="line">    Fri &#x3D; 5</span><br><span class="line">    Sat &#x3D; 6</span><br></pre></td></tr></table></figure><p>@uniqueè£…é¥°å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥ä¿è¯æ²¡æœ‰é‡å¤å€¼ã€‚</p><p>è®¿é—®è¿™äº›æšä¸¾ç±»å‹å¯ä»¥æœ‰è‹¥å¹²ç§æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; day1 &#x3D; Weekday.Mon</span><br><span class="line">&gt;&gt;&gt; print(day1)</span><br><span class="line">Weekday.Mon</span><br><span class="line">&gt;&gt;&gt; print(Weekday.Tue)</span><br><span class="line">Weekday.Tue</span><br><span class="line">&gt;&gt;&gt; print(Weekday[&#39;Tue&#39;])</span><br><span class="line">Weekday.Tue</span><br><span class="line">&gt;&gt;&gt; print(Weekday.Tue.value)</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; print(day1 &#x3D;&#x3D; Weekday.Mon)</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; print(day1 &#x3D;&#x3D; Weekday.Tue)</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; print(Weekday(1))</span><br><span class="line">Weekday.Mon</span><br><span class="line">&gt;&gt;&gt; print(day1 &#x3D;&#x3D; Weekday(1))</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; Weekday(7)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  ...</span><br><span class="line">ValueError: 7 is not a valid Weekday</span><br><span class="line">&gt;&gt;&gt; for name, member in Weekday.__members__.items():</span><br><span class="line">...     print(name, &#39;&#x3D;&gt;&#39;, member)</span><br><span class="line">...</span><br><span class="line">Sun &#x3D;&gt; Weekday.Sun</span><br><span class="line">Mon &#x3D;&gt; Weekday.Mon</span><br><span class="line">Tue &#x3D;&gt; Weekday.Tue</span><br><span class="line">Wed &#x3D;&gt; Weekday.Wed</span><br><span class="line">Thu &#x3D;&gt; Weekday.Thu</span><br><span class="line">Fri &#x3D;&gt; Weekday.Fri</span><br><span class="line">Sat &#x3D;&gt; Weekday.Sat</span><br></pre></td></tr></table></figure><p>å¯è§ï¼Œæ—¢å¯ä»¥ç”¨æˆå‘˜åç§°å¼•ç”¨æšä¸¾å¸¸é‡ï¼Œåˆå¯ä»¥ç›´æ¥æ ¹æ®valueçš„å€¼è·å¾—æšä¸¾å¸¸é‡ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>æŠŠStudentçš„genderå±æ€§æ”¹é€ ä¸ºæšä¸¾ç±»å‹ï¼Œå¯ä»¥é¿å…ä½¿ç”¨å­—ç¬¦ä¸²ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line">from enum import Enum, unique</span><br><span class="line"></span><br><span class="line">class Gender(Enum):</span><br><span class="line">    Male &#x3D; 0</span><br><span class="line">    Female &#x3D; 1</span><br><span class="line"></span><br><span class="line">class Student(object):</span><br><span class="line">    def __init__(self, name, gender):</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">        self.gender &#x3D; gender</span><br><span class="line"># æµ‹è¯•:</span><br><span class="line">bart &#x3D; Student(&#39;Bart&#39;, Gender.Male)</span><br><span class="line">if bart.gender &#x3D;&#x3D; Gender.Male:</span><br><span class="line">    print(bart.gender.value)</span><br><span class="line">    print(&#39;æµ‹è¯•é€šè¿‡!&#39;)</span><br><span class="line">else:</span><br><span class="line">    print(&#39;æµ‹è¯•å¤±è´¥!&#39;)</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><code>Enum</code>å¯ä»¥æŠŠä¸€ç»„ç›¸å…³å¸¸é‡å®šä¹‰åœ¨ä¸€ä¸ªclassä¸­ï¼Œä¸”classä¸å¯å˜ï¼Œè€Œä¸”æˆå‘˜å¯ä»¥ç›´æ¥æ¯”è¾ƒã€‚</p><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143191235886950998592cd3e426e91687cdae696e64b000" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>]]></content>
    
    <summary type="html">
    
      é¢å‘å¯¹è±¡-ä½¿ç”¨æšä¸¾ç±»
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨</title>
    <link href="https://shuke163.github.io/2020/04/23/%E6%B7%B1%E5%85%A5%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1-%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/"/>
    <id>https://shuke163.github.io/2020/04/23/%E6%B7%B1%E5%85%A5%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1-%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8/</id>
    <published>2020-04-23T08:19:17.000Z</published>
    <updated>2020-04-23T08:20:48.980Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h2><h3 id="mixinç»§æ‰¿"><a href="#mixinç»§æ‰¿" class="headerlink" title="mixinç»§æ‰¿"></a>mixinç»§æ‰¿</h3><p>å¤šç»§æ‰¿ä¼šé€ æˆå…³ç³»æ··ä¹±ï¼Œå¯¼è‡´MROç®—æ³•å‡ºç°è®¸å¤šé¢„æ–™ä¸åˆ°çš„é—®é¢˜ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¨èMIXINç»§æ‰¿ï¼Œæœ€å°ç»§æ‰¿ï¼Œåªç»§æ‰¿ä¸€ä¸ªç±»ã€‚</p><h3 id="ä¸Šä¸‹æ–‡ç®¡ç†å™¨"><a href="#ä¸Šä¸‹æ–‡ç®¡ç†å™¨" class="headerlink" title="ä¸Šä¸‹æ–‡ç®¡ç†å™¨"></a>ä¸Šä¸‹æ–‡ç®¡ç†å™¨</h3><p>withä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œè¿™ä¸ªç”¨è¿‡å¾ˆå¤šæ¬¡ï¼Œæ¯”å¦‚åœ¨æ‰§è¡Œmysqlè¯­å¥çš„æ—¶å€™è¦å…ˆé“¾æ¥æ•°æ®åº“ï¼Œè·å–æ¸¸æ ‡ï¼Œæ‰§è¡Œsqlè¯­å¥ï¼Œå…³é—­è¿æ¥ã€‚åˆæˆ–è€…æ˜¯æ–‡æœ¬å†…å®¹çš„è¯»å†™ï¼Œæ‰“å¼€æ–‡æœ¬å†™å…¥å†…å®¹å…³é—­æ–‡æœ¬ã€‚</p><p>å¦‚æœæ¯æ¬¡æ‰§è¡Œä¸€æ¡è¯­å¥éƒ½è¦åšè¿™ä¹ˆå¤šæ“ä½œï¼Œå°±ä¼šäº§ç”Ÿå¤§é‡é‡å¤çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨å³å¯ç¾è§‚åˆè½»æ¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>withç®¡ç†ä¸Šä¸‹æ–‡çš„ä½œç”¨æ˜¯å¯¹ä¸€äº›é‡å¤çš„ä»£ç ç®€å•åŒ–ï¼Œå¹¶ä¸”èƒ½ä¼˜åŒ–try/except/finallyçš„å†™æ³•ã€‚</p><p>ä¸Šä¸‹æ–‡çš„å®ç°æ˜¯é€šè¿‡ä¸¤ä¸ªé­”æ³•å‡½æ•°enterå’Œexitå®ç°ï¼Œåæ¥æ›´æ–°å†é€ åï¼Œä½¿ç”¨contextlibæä¾›çš„APIå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„å®Œæˆã€‚</p><p>æ¦‚å¿µå’ŒåŠŸèƒ½éƒ½æ˜ç™½åï¼Œæœ€é‡è¦çš„è¿˜æ˜¯å¦‚ä½•å®ç°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šshukeå»ç»™çŒ«ä¹°é¥¼å¹²ï¼Œæ¯æ¬¡ä¹°çš„æ—¶å€™éƒ½è¦åšè¿™äº›åŠ¨ä½œï¼Œæå‡ºé’±åŒ…ï¼ŒèŠ±å‡ºxå…ƒï¼Œæ”¶å›é’±åŒ…ã€‚æ¯æ¬¡éƒ½è¦é‡å¤æé’±åŒ…æ”¶é’±åŒ…è¿™ä¸ªåŠ¨ä½œæœ‰äº›éº»çƒ¦ï¼Œå¹¶ä¸”ä¸‡ä¸€å¿˜äº†æé’±åŒ…å°±ä¸èƒ½ä»˜é’±ï¼Œå¿˜äº†æ”¶é’±åŒ…çš„è¯ï¼Œé’±åŒ…å°±æ‰äº†ã€‚æ¯æ¬¡æé’±åŒ…æ”¶é’±åŒ…éƒ½è¦å†™ä»£ç ï¼Œæœ‰å•¥ç®€ä»‹çš„æ–¹å¼å˜›ï¼Ÿ</p><h3 id="ä½¿ç”¨enterå’Œexitå®ç°-1"><a href="#ä½¿ç”¨enterå’Œexitå®ç°-1" class="headerlink" title="ä½¿ç”¨enterå’Œexitå®ç°(1)"></a>ä½¿ç”¨enterå’Œexitå®ç°(1)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#! &#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">@author: shuke</span><br><span class="line">@file: 0325.py </span><br><span class="line">@time: 2019&#x2F;03&#x2F;25 16:28</span><br><span class="line">@contact: zhaofengfeng@shuke.net</span><br><span class="line">@software:  learn</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class wallet(object):</span><br><span class="line">    def __init__(self, man):</span><br><span class="line">        self.man &#x3D; man</span><br><span class="line"></span><br><span class="line">    def __enter__(self):</span><br><span class="line">        print(self.man + &#39;æ”¾å¿ƒå¤§èƒ†çš„æå‡ºäº†é’±åŒ…&#39;)</span><br><span class="line"></span><br><span class="line">    def __exit__(self, exc_type, exc_val, exc_tb):</span><br><span class="line">        print(self.man + &#39;å°å¿ƒç¿¼ç¿¼çš„æ”¶èµ·æ¥é’±åŒ…&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def use_money(man):</span><br><span class="line">    return wallet(man)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with use_money(&#39;shuke&#39;) as a:</span><br><span class="line">    print(&#39;èŠ±äº†600å—é’±&#39;)</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shukeæ”¾å¿ƒå¤§èƒ†çš„æå‡ºäº†é’±åŒ…</span><br><span class="line">èŠ±äº†600å—é’±</span><br><span class="line">shukeå°å¿ƒç¿¼ç¿¼çš„æ”¶èµ·æ¥é’±åŒ…</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨enterå’Œexitå®ç°-2"><a href="#ä½¿ç”¨enterå’Œexitå®ç°-2" class="headerlink" title="ä½¿ç”¨enterå’Œexitå®ç°(2)"></a>ä½¿ç”¨enterå’Œexitå®ç°(2)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class wallet(object):</span><br><span class="line">    def __init__(self, man):</span><br><span class="line">        self.man &#x3D; man</span><br><span class="line"></span><br><span class="line">    def __enter__(self):</span><br><span class="line">        print(self.man + &#39;æ”¾å¿ƒå¤§èƒ†çš„æå‡ºäº†é’±åŒ…&#39;)</span><br><span class="line">        # return self è¿™ä¸€æ­¥éå¸¸é‡è¦ï¼Œä½œç”¨æ˜¯è¿”å›å®ä¾‹</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line">    def __exit__(self, exc_type, exc_val, exc_tb):</span><br><span class="line">        print(self.man + &#39;å°å¿ƒç¿¼ç¿¼çš„æ”¶èµ·æ¥é’±åŒ…&#39;)</span><br><span class="line"></span><br><span class="line">    def use_money(self, money):</span><br><span class="line">        print(self.man + &#39;èŠ±äº†&#39; + money + &#39;å…ƒ&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with wallet(&#39;shuke02&#39;)as a:</span><br><span class="line">    a.use_money(&#39;1000&#39;)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shuke02æ”¾å¿ƒå¤§èƒ†çš„æå‡ºäº†é’±åŒ…</span><br><span class="line">shuke02èŠ±äº†1000å…ƒ</span><br><span class="line">shuke02å°å¿ƒç¿¼ç¿¼çš„æ”¶èµ·æ¥é’±åŒ…</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨contextlibå®ç°"><a href="#ä½¿ç”¨contextlibå®ç°" class="headerlink" title="ä½¿ç”¨contextlibå®ç°"></a>ä½¿ç”¨contextlibå®ç°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import contextlib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@contextlib.contextmanager</span><br><span class="line">def use_money(man):</span><br><span class="line">    try:</span><br><span class="line">        print(man + &#39;ååˆ†æ”¾å¿ƒå¤§èƒ†çš„æå‡ºé’±åŒ…&#39;)</span><br><span class="line">        yield None</span><br><span class="line">        # yieldç”Ÿæˆå™¨ï¼Œè¿è¡Œåˆ°è¿™é‡Œä¼šè¿”å›ä¸€ä¸ªå€¼(ä½ éšä¾¿å†™ä¸€ä¸ªå°±è¡Œ)</span><br><span class="line">    finally:</span><br><span class="line">        print(man + &#39;ä¸‡åˆ†è°¨æ…çš„æ”¶èµ·äº†é’±åŒ…&#39;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with use_money(&#39;shuke03&#39;)as a:</span><br><span class="line">    print(&#39;èŠ±äº†100å—é’±&#39;)</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shuke03ååˆ†æ”¾å¿ƒå¤§èƒ†çš„æå‡ºé’±åŒ…</span><br><span class="line">èŠ±äº†100å—é’±</span><br><span class="line">shuke03ä¸‡åˆ†è°¨æ…çš„æ”¶èµ·äº†é’±åŒ…</span><br></pre></td></tr></table></figure><p>è¿™åªæ˜¯ä¸€ä¸ªåˆ›å»ºä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ–¹æ³•ï¼ŒæŒ‰ç…§å›ºå®šçš„æ ¼å¼ä¹¦å†™å°±è¡Œ.</p><h3 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h3><p><a href="http://www.langzi.fun/%E6%B7%B1%E5%85%A5%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1-%E4%B8%8B.html" target="_blank" rel="noopener">æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸‹</a></p>]]></content>
    
    <summary type="html">
    
      æ·±å…¥ç±»ä¸å¯¹è±¡-ä¸Šä¸‹æ–‡ç®¡ç†å™¨
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª Flask å­¦ä¹ èµ„æº</title>
    <link href="https://shuke163.github.io/2020/04/23/%E7%BB%99%E5%A4%A7%E5%AE%B6%E5%AE%89%E5%88%A9%E5%87%A0%E4%B8%AA-Flask-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/"/>
    <id>https://shuke163.github.io/2020/04/23/%E7%BB%99%E5%A4%A7%E5%AE%B6%E5%AE%89%E5%88%A9%E5%87%A0%E4%B8%AA-Flask-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/</id>
    <published>2020-04-23T08:17:58.000Z</published>
    <updated>2020-04-23T08:44:25.146Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª-Flask-å­¦ä¹ èµ„æº"><a href="#ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª-Flask-å­¦ä¹ èµ„æº" class="headerlink" title="ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª Flask å­¦ä¹ èµ„æº"></a>ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª Flask å­¦ä¹ èµ„æº</h2><p>Flask æ˜¯ Python ä¸­æœ€æµè¡Œçš„ Web æ¡†æ¶ä¹‹ä¸€ï¼Œä»¥å°å·§ã€çµæ´»ã€å¯æ‰©å±•æ€§å¼ºè‘—ç§°ï¼Œç›¸æ¯” Djangoï¼Œå®ƒç»™äº†å¼€å‘è€…æœ€å¤§é™åº¦çš„è‡ªç”±ï¼Œå¦‚æœä½ ä¸å–œæ¬¢å…³ç³»å‹æ•°æ®åº“ï¼Œokï¼Œæ²¡é—®é¢˜ï¼Œåˆ‡æ¢æˆæœ¬éå¸¸ä½ï¼Œè€Œ Django å‘¢ï¼Ÿä½ èƒ½é‡åˆ°çš„é—®é¢˜å®ƒéƒ½å¸®ä½ æƒ³å¥½å¹¶ä¸”æä¾›äº†å¯¹åº”è§£å†³æ–¹æ¡ˆï¼Œä½ è‡ªå·±å°±ä¸è¦å»é‡å¤é€ è½®å­äº†ï¼Œæ¯”å¦‚æ¨¡ç‰ˆå¼•æ“ï¼ŒORMï¼Œä¸çˆ½æƒ³æ›¿æ¢ï¼Ÿè¿™ä¸ªæœ‰ç‚¹éš¾ã€‚</p><h3 id="1-The-Flask-Mega-Tutorial-æ•™ç¨‹"><a href="#1-The-Flask-Mega-Tutorial-æ•™ç¨‹" class="headerlink" title="1. The Flask Mega-Tutorial æ•™ç¨‹"></a>1. The Flask Mega-Tutorial æ•™ç¨‹</h3><p>è¿™ä¸ªæ•™ç¨‹æ˜¯ã€ŠFlask Webå¼€å‘ï¼šåŸºäºPythonçš„Webåº”ç”¨å¼€å‘å®æˆ˜ã€‹ä½œè€… Miguel Grinberg å†™çš„ 2017ç‰ˆ Flask æ•™ç¨‹ï¼Œä¹Ÿæ˜¯æˆ‘å¼ºçƒˆæ¨èç»™å¤§å®¶çš„ Flask æ•™ç¨‹ï¼Œè‹±è¯­é˜…è¯»æ°´å¹³è¿‡å¾—å»çš„è¯ï¼Œå»ºè®®ç›´æ¥è¯»åŸæ–‡ï¼Œè‹±è¯­æ¸£ä¹Ÿæœ‰ç¦éŸ³ï¼Œå›½å†…å·²æœ‰ç½‘å‹æŠŠå®ƒç¿»è¯‘æˆäº†ä¸­æ–‡ã€‚</p><p><a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world" target="_blank" rel="noopener">è‹±æ–‡åœ°å€</a><br><a href="https://github.com/luhuisicnu/The-Flask-Mega-Tutorial-zh" target="_blank" rel="noopener">ä¸­æ–‡åœ°å€</a></p><h3 id="2-Flaskä¹‹æ—…"><a href="#2-Flaskä¹‹æ—…" class="headerlink" title="2. Flaskä¹‹æ—…"></a>2. Flaskä¹‹æ—…</h3><p>å¦‚æœä½ å·²ç»å…¥é—¨äº†Flaskï¼Œè‚¯å®šå¸Œæœ›æœ‰ä¸€ä¸ª Flask æœ€ä½³å®è·µæŒ‡å—ï¼Œè®©ä½ çš„ Flask é¡¹ç›®çœ‹èµ·æ¥æ›´åŠ  professionalï¼Œè€Œæœ¬ä¹¦æ¶‰åŠçš„ä¸»é¢˜å°±æ˜¯Flaskçš„æœ€ä½³ç¼–ç¨‹å®è·µå’Œæ¨¡å¼ã€‚å°½é‡é¿å…å•°å—¦å®˜æ–¹æ–‡æ¡£ä¸­æåˆ°çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿä¼šå†æ¬¡å¼ºè°ƒä¸€äº›æ¦‚å¿µæ¥åŠ æ·±å°è±¡ã€‚</p><p><a href="http://exploreflask.com/en/latest/" target="_blank" rel="noopener">è‹±æ–‡åœ°å€</a><br><a href="https://spacewander.github.io/explore-flask-zh/index.html" target="_blank" rel="noopener">ä¸­æ–‡åœ°å€</a></p><h3 id="3-Flask-æºç è§£æ"><a href="#3-Flask-æºç è§£æ" class="headerlink" title="3. Flask æºç è§£æ"></a>3. Flask æºç è§£æ</h3><p>å¦‚æœä½ å·²ç»ç†Ÿç»ƒæŒæ¡äº† Flask æ¡†æ¶ï¼Œæ˜¯ä¸æ˜¯æƒŠå¹äº Flask æ¡†æ¶èƒŒåçš„è®¾è®¡ç²¾é«“ï¼Œä¸€ä¸ªç²¾æ‚çš„Webæ¡†æ¶ç©¶ç«Ÿæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿäº†è§£å®ƒæœ€å¥½çš„åŠæ³•å°±æ˜¯çª¥æ¢å®ƒçš„æºç ï¼Œè¿˜å¥½ï¼Œè¿™ä»¶äº‹å·²ç»æœ‰äººå¸®ä½ åšäº†ã€‚</p><p><a href="http://cizixs.com/2017/01/13/flask-insight-context" target="_blank" rel="noopener">åœ°å€</a></p><h3 id="4-Awesome-Flask"><a href="#4-Awesome-Flask" class="headerlink" title="4. Awesome Flask"></a>4. Awesome Flask</h3><p>æœ€åå¼ºçƒˆæ¨èçš„æ˜¯è¿™ä¸ª Awesome ç³»åˆ—çš„ Flask èµ„æºå¤§é›†åˆï¼Œæ¶µç›–äº† Flask çš„å„æ–¹å„é¢ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹æ‰©å±•æ’ä»¶ä»¥åŠæ•™ç¨‹ã€ä¹¦ç±å’Œè§†é¢‘ã€PPTè¿˜æœ‰é¡¹ç›®ç»“æ„ç­‰ç­‰ã€‚</p><p><a href="https://github.com/humiaozuzu/awesome-flask" target="_blank" rel="noopener">åœ°å€</a></p><h3 id="5-Flask-for-Fun-and-Profit"><a href="#5-Flask-for-Fun-and-Profit" class="headerlink" title="5. Flask for Fun and Profit"></a>5. Flask for Fun and Profit</h3><p>Flask ä½œè€… Armin Ronacher åœ¨PyBay2016ä¸Šçš„ä¸€ä¸ªè§†é¢‘åˆ†äº«ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•æ„å»ºä¸€ä¸ªå¤§å‹å¤æ‚çš„æ˜“äºæµ‹è¯•çš„APIæœåŠ¡ã€‚åŒæ—¶è¿˜æœ‰åœ¨å¼€å‘Flaskçš„è¿‡ç¨‹çš„ä¸€äº›è®¾è®¡æ€æƒ³ã€‚</p><p><a href="https://www.youtube.com/watch?v=1ByQhAM5c1I" target="_blank" rel="noopener">è§†é¢‘åœ°å€</a><br><a href="https://speakerdeck.com/player/94a53afb6a524ad88f301f62166a27e4?" target="_blank" rel="noopener">PPT</a></p><h3 id="å†è¡¥å……ä¸€äº›å…¶å®ƒèµ„æºï¼š"><a href="#å†è¡¥å……ä¸€äº›å…¶å®ƒèµ„æºï¼š" class="headerlink" title="å†è¡¥å……ä¸€äº›å…¶å®ƒèµ„æºï¼š"></a>å†è¡¥å……ä¸€äº›å…¶å®ƒèµ„æºï¼š</h3><p>Flask Web å¼€å‘å…¥é—¨<br><a href="https://funhacks.gitbooks.io/head-first-flask/content/chapter02/section2.03.html" target="_blank" rel="noopener">https://funhacks.gitbooks.io/head-first-flask/content/chapter02/section2.03.html</a></p><p><a href="http://www.bjhee.com/flask-1.html" target="_blank" rel="noopener">Flaskå…¥é—¨ç³»åˆ—æ•™ç¨‹</a></p><p><a href="http://www.bjhee.com/flask-ad1.html" target="_blank" rel="noopener">Flaskè¿›é˜¶ç³»åˆ—æ•™ç¨‹</a></p><p>Full Stack Web Development with Flask (è§†é¢‘æ•™ç¨‹ï¼Œéœ€è¦ç¿»åœŸå•¬)<br><a href="https://github.com/realpython/discover-flask" target="_blank" rel="noopener">https://github.com/realpython/discover-flask</a></p><p>Full Stack Python<br><a href="https://www.fullstackpython.com/flask.html" target="_blank" rel="noopener">https://www.fullstackpython.com/flask.html</a></p>]]></content>
    
    <summary type="html">
    
      ç»™å¤§å®¶å®‰åˆ©å‡ ä¸ª Flask å­¦ä¹ èµ„æº
    
    </summary>
    
    
      <category term="Flask" scheme="https://shuke163.github.io/categories/Flask/"/>
    
    
      <category term="Flask" scheme="https://shuke163.github.io/tags/Flask/"/>
    
  </entry>
  
  <entry>
    <title>zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½</title>
    <link href="https://shuke163.github.io/2020/04/23/zabbix%E4%BD%BF%E7%94%A8python%E8%8E%B7%E5%8F%96%E9%98%BF%E9%87%8C%E4%BA%91SLB%E5%B8%A6%E5%AE%BD/"/>
    <id>https://shuke163.github.io/2020/04/23/zabbix%E4%BD%BF%E7%94%A8python%E8%8E%B7%E5%8F%96%E9%98%BF%E9%87%8C%E4%BA%91SLB%E5%B8%A6%E5%AE%BD/</id>
    <published>2020-04-23T08:16:12.000Z</published>
    <updated>2020-04-23T08:16:23.469Z</updated>
    
    <content type="html"><![CDATA[<h2 id="zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½"><a href="#zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½" class="headerlink" title="zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½"></a>zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/qgRAExPhngfpWON9icxJarejKzj940jmKeg9B7m6hgribxIaWtbYNsndFU2NVpxOIVr9oZAT7Phn93Zulicjnladw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å±•ç¤ºå›¾"></p><h3 id="é˜¿é‡Œäº‘SDK"><a href="#é˜¿é‡Œäº‘SDK" class="headerlink" title="é˜¿é‡Œäº‘SDK"></a>é˜¿é‡Œäº‘SDK</h3><p>é˜¿é‡Œäº‘ç›®å‰æä¾›äº†å¾ˆå¤šçš„SDKï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨åœ¨çº¿è°ƒè¯•å·¥å…·ï¼Œè™½ç„¶æœ‰äº›bug</p><p><a href="https://develop.aliyun.com/tools/sdk?#/python" target="_blank" rel="noopener">Python-sdk</a></p><p><a href="https://api.aliyun.com/?spm=5176.143622.743215.5.524c6168naUyOU" target="_blank" rel="noopener">åœ¨çº¿è°ƒè¯•å·¥å…·</a></p><p>ä½†æ˜¯ä¸»é¡µé¢çš„SDKåˆ—è¡¨é‡Œé¢å¹¶æ²¡æœ‰SLBï¼Œå¹¶ä¸”ç¿»äº†ä¸‹aliyun-python-sdk-slb (2.1.2)è¿™ä¸ªåŒ…é‡Œé¢å¥½åƒä¹Ÿæ²¡æœ‰å¸¦å®½ç›¸å…³çš„æè¿°ã€‚åˆ«æ€¥ï¼Œæˆ‘ä»¬è¿˜æœ‰äº‘ç›‘æ§çš„SDKã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†é˜¿é‡Œäº‘äº‘ç›‘æ§çš„SDKï¼ˆaliyun-python-sdk-cms (5.0.0)ï¼‰</p><p>è·å–SLBå¸¦å®½<br>Python2.7è°ƒè¯•é€šè¿‡ï¼Œéœ€è¦ä½¿ç”¨pipå®‰è£…<code>liyun-python-sdk-coreï¼Œaliyun-python-sdk-cms</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"></span><br><span class="line">#coding&#x3D;utf-8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">from aliyunsdkcore import client</span><br><span class="line"></span><br><span class="line">from aliyunsdkcms.request.v20170301 import QueryMetricListRequest</span><br><span class="line"></span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">clt &#x3D; client.AcsClient(&#39;&lt;ACCESSKEY&gt;&#39;,&#39;&lt;SECRETKEY&gt;&#39;,&#39;cn-beijing&#39;)</span><br><span class="line"></span><br><span class="line">request &#x3D; QueryMetricListRequest.QueryMetricListRequest()</span><br><span class="line"></span><br><span class="line">request.set_accept_format(&#39;json&#39;)</span><br><span class="line"></span><br><span class="line">#ä¸¤ä¸ªå‚æ•°æŒ‰ç…§é¢„è®¾å€¼è®¾å®šï¼Œå‚è§å‚è€ƒèµ„æ–™æè¿°</span><br><span class="line"></span><br><span class="line">request.set_Project(&#39;acs_slb&#39;)</span><br><span class="line"></span><br><span class="line">request.set_Metric(&#39;TrafficTXNew&#39;)</span><br><span class="line"></span><br><span class="line">#åªè·å–1å°æ—¶å†…çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">start_time &#x3D; time.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;,time.localtime(time.time()-3600))</span><br><span class="line"></span><br><span class="line">timestamp_start &#x3D; int(time.mktime(time.strptime(start_time, &quot;%Y-%m-%d %H:%M:%S&quot;))) * 1000</span><br><span class="line"></span><br><span class="line">request.set_StartTime(timestamp_start)</span><br><span class="line"></span><br><span class="line">#ä»ç³»ç»Ÿè¾“å…¥å‚æ•°è·å–IPåœ°å€å’ŒSLB-ID</span><br><span class="line"></span><br><span class="line">slbip &#x3D; sys.argv[1]</span><br><span class="line"></span><br><span class="line">slbid &#x3D; sys.argv[2]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">request.set_Dimensions(&#123;&#39;instanceId&#39;:slbid,&#39;port&#39;:&#39;443&#39;,&#39;vip&#39;:slbip&#125;)</span><br><span class="line"></span><br><span class="line">request.set_Period(&#39;60&#39;)</span><br><span class="line"></span><br><span class="line">#result &#x3D; clt.do_action(request)</span><br><span class="line"></span><br><span class="line">result &#x3D; clt.do_action_with_exception(request)</span><br><span class="line"></span><br><span class="line">#print result</span><br><span class="line"></span><br><span class="line">#jsonç»“æœå¤„ç†</span><br><span class="line"></span><br><span class="line">datadict &#x3D; json.loads(result)</span><br><span class="line"></span><br><span class="line">#å–å€’æ•°ç¬¬äºŒæ¡æ•°æ®ï¼Œå› ä¸ºå€’æ•°ç¬¬ä¸€æ¡ä¸å¤ªå‡†</span><br><span class="line"></span><br><span class="line">res &#x3D; datadict[&#39;Datapoints&#39;][-2][&#39;Average&#39;]</span><br><span class="line"></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python ali-slb.py  &lt;IPåœ°å€&gt;  &lt;SLBçš„ID&gt;</span><br></pre></td></tr></table></figure><p>ç„¶åæ¥å…¥zabbixï¼Œä½¿ç”¨grafanaå°±å¯ä»¥å‡ºå›¾äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      zabbixä½¿ç”¨pythonè·å–é˜¿é‡Œäº‘SLBå¸¦å®½
    
    </summary>
    
    
      <category term="Zabbix" scheme="https://shuke163.github.io/categories/Zabbix/"/>
    
    
      <category term="Zabbix" scheme="https://shuke163.github.io/tags/Zabbix/"/>
    
  </entry>
  
  <entry>
    <title>Vimå‘½ä»¤åˆé›†</title>
    <link href="https://shuke163.github.io/2020/04/23/Vim%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86/"/>
    <id>https://shuke163.github.io/2020/04/23/Vim%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86/</id>
    <published>2020-04-23T08:15:47.000Z</published>
    <updated>2020-04-23T08:15:57.548Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Vimå‘½ä»¤åˆé›†"><a href="#Vimå‘½ä»¤åˆé›†" class="headerlink" title="Vimå‘½ä»¤åˆé›†"></a>Vimå‘½ä»¤åˆé›†</h2><h3 id="å‘½ä»¤å†å²"><a href="#å‘½ä»¤å†å²" class="headerlink" title="å‘½ä»¤å†å²"></a>å‘½ä»¤å†å²</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä»¥:å’Œ&#x2F;å¼€å¤´çš„å‘½ä»¤éƒ½æœ‰å†å²çºªå½•ï¼Œå¯ä»¥é¦–å…ˆé”®å…¥:æˆ–&#x2F;ç„¶åæŒ‰ä¸Šä¸‹ç®­å¤´æ¥é€‰æ‹©æŸä¸ªå†å²å‘½ä»¤ã€‚</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨vim"><a href="#å¯åŠ¨vim" class="headerlink" title="å¯åŠ¨vim"></a>å¯åŠ¨vim</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åœ¨å‘½ä»¤è¡Œçª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯</span><br><span class="line"></span><br><span class="line">vim ç›´æ¥å¯åŠ¨vim</span><br><span class="line"></span><br><span class="line">vim filename æ‰“å¼€vimå¹¶åˆ›å»ºåä¸ºfilenameçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶å‘½ä»¤"><a href="#æ–‡ä»¶å‘½ä»¤" class="headerlink" title="æ–‡ä»¶å‘½ä»¤"></a>æ–‡ä»¶å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">æ‰“å¼€å•ä¸ªæ–‡ä»¶</span><br><span class="line">vim file</span><br><span class="line"></span><br><span class="line">åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶</span><br><span class="line">vim file1 file2 file3 â€¦</span><br><span class="line"></span><br><span class="line">åœ¨vimçª—å£ä¸­æ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶</span><br><span class="line">:open file</span><br><span class="line"></span><br><span class="line">åœ¨æ–°çª—å£ä¸­æ‰“å¼€æ–‡ä»¶</span><br><span class="line">:split file</span><br><span class="line"></span><br><span class="line">åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">:bn</span><br><span class="line"></span><br><span class="line">åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">:bp</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹å½“å‰æ‰“å¼€çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ä¼šç”¨[]æ‹¬èµ·æ¥ã€‚</span><br><span class="line">:args</span><br><span class="line"></span><br><span class="line">### æ‰“å¼€è¿œç¨‹æ–‡ä»¶ï¼Œæ¯”å¦‚ftpæˆ–è€…share folder</span><br><span class="line">:e ftp:&#x2F;&#x2F;192.168.10.76&#x2F;abc.txt</span><br><span class="line">:e \\qadrive\test\1.txt</span><br></pre></td></tr></table></figure><h3 id="vimçš„æ¨¡å¼"><a href="#vimçš„æ¨¡å¼" class="headerlink" title="vimçš„æ¨¡å¼"></a>vimçš„æ¨¡å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ­£å¸¸æ¨¡å¼ï¼ˆæŒ‰Escæˆ–Ctrl+[è¿›å…¥ï¼‰ å·¦ä¸‹è§’æ˜¾ç¤ºæ–‡ä»¶åæˆ–ä¸ºç©º</span><br><span class="line"></span><br><span class="line">æ’å…¥æ¨¡å¼ï¼ˆæŒ‰ié”®è¿›å…¥ï¼‰ å·¦ä¸‹è§’æ˜¾ç¤ºâ€“INSERTâ€“</span><br><span class="line"></span><br><span class="line">å¯è§†æ¨¡å¼ï¼ˆä¸çŸ¥é“å¦‚ä½•è¿›å…¥ï¼‰ å·¦ä¸‹è§’æ˜¾ç¤ºâ€“VISUALâ€“</span><br></pre></td></tr></table></figure><h3 id="å¯¼èˆªå‘½ä»¤"><a href="#å¯¼èˆªå‘½ä»¤" class="headerlink" title="å¯¼èˆªå‘½ä»¤"></a>å¯¼èˆªå‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% æ‹¬å·åŒ¹é…</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥å‘½ä»¤"><a href="#æ’å…¥å‘½ä»¤" class="headerlink" title="æ’å…¥å‘½ä»¤"></a>æ’å…¥å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">i åœ¨å½“å‰ä½ç½®ç”Ÿå‰æ’å…¥</span><br><span class="line"></span><br><span class="line">I åœ¨å½“å‰è¡Œé¦–æ’å…¥</span><br><span class="line"></span><br><span class="line">a åœ¨å½“å‰ä½ç½®åæ’å…¥</span><br><span class="line"></span><br><span class="line">A åœ¨å½“å‰è¡Œå°¾æ’å…¥</span><br><span class="line"></span><br><span class="line">o åœ¨å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">O åœ¨å½“å‰è¡Œä¹‹å‰æ’å…¥ä¸€è¡Œ</span><br></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾å‘½ä»¤"><a href="#æŸ¥æ‰¾å‘½ä»¤" class="headerlink" title="æŸ¥æ‰¾å‘½ä»¤"></a>æŸ¥æ‰¾å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;textã€€ã€€æŸ¥æ‰¾textï¼ŒæŒ‰nå¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼ŒæŒ‰Nå¥æŸ¥æ‰¾å‰ä¸€ä¸ª</span><br><span class="line"></span><br><span class="line">?textã€€ã€€æŸ¥æ‰¾textï¼Œåå‘æŸ¥æ‰¾ï¼ŒæŒ‰nå¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼ŒæŒ‰Nå¥æŸ¥æ‰¾å‰ä¸€ä¸ªã€‚</span><br><span class="line"></span><br><span class="line">vimä¸­æœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦åœ¨æŸ¥æ‰¾æ—¶éœ€è¦è½¬ä¹‰ã€€ã€€.*[]^%&#x2F;?~$</span><br><span class="line"></span><br><span class="line">:set ignorecaseã€€ã€€å¿½ç•¥å¤§å°å†™çš„æŸ¥æ‰¾</span><br><span class="line"></span><br><span class="line">:set noignorecaseã€€ã€€ä¸å¿½ç•¥å¤§å°å†™çš„æŸ¥æ‰¾</span><br><span class="line"></span><br><span class="line">æŸ¥æ‰¾å¾ˆé•¿çš„è¯ï¼Œå¦‚æœä¸€ä¸ªè¯å¾ˆé•¿ï¼Œé”®å…¥éº»çƒ¦ï¼Œå¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°è¯¥è¯ä¸Šï¼ŒæŒ‰*æˆ–#é”®å³å¯ä»¥è¯¥å•è¯è¿›è¡Œæœç´¢ï¼Œç›¸å½“äº&#x2F;æœç´¢ã€‚è€Œ#å‘½ä»¤ç›¸å½“äº?æœç´¢ã€‚</span><br><span class="line"></span><br><span class="line">:set hlsearchã€€ã€€é«˜äº®æœç´¢ç»“æœï¼Œæ‰€æœ‰ç»“æœéƒ½é«˜äº®æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯åªæ˜¾ç¤ºä¸€ä¸ªåŒ¹é…ã€‚</span><br><span class="line">:set nohlsearchã€€ã€€å…³é—­é«˜äº®æœç´¢æ˜¾ç¤º</span><br><span class="line">:nohlsearchã€€ã€€å…³é—­å½“å‰çš„é«˜äº®æ˜¾ç¤ºï¼Œå¦‚æœå†æ¬¡æœç´¢æˆ–è€…æŒ‰ä¸‹næˆ–Né”®ï¼Œåˆ™ä¼šå†æ¬¡é«˜äº®ã€‚</span><br><span class="line">:set incsearchã€€ã€€é€æ­¥æœç´¢æ¨¡å¼ï¼Œå¯¹å½“å‰é”®å…¥çš„å­—ç¬¦è¿›è¡Œæœç´¢è€Œä¸å¿…ç­‰å¾…é”®å…¥å®Œæˆã€‚</span><br><span class="line">:set wrapscanã€€ã€€é‡æ–°æœç´¢ï¼Œåœ¨æœç´¢åˆ°æ–‡ä»¶å¤´æˆ–å°¾æ—¶ï¼Œè¿”å›ç»§ç»­æœç´¢ï¼Œé»˜è®¤å¼€å¯ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ›¿æ¢å‘½ä»¤"><a href="#æ›¿æ¢å‘½ä»¤" class="headerlink" title="æ›¿æ¢å‘½ä»¤"></a>æ›¿æ¢å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ra å°†å½“å‰å­—ç¬¦æ›¿æ¢ä¸ºaï¼Œå½“æœŸå­—ç¬¦å³å…‰æ ‡æ‰€åœ¨å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">s&#x2F;old&#x2F;new&#x2F; ç”¨oldæ›¿æ¢newï¼Œæ›¿æ¢å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªåŒ¹é…</span><br><span class="line"></span><br><span class="line">s&#x2F;old&#x2F;new&#x2F;g ç”¨oldæ›¿æ¢newï¼Œæ›¿æ¢å½“å‰è¡Œçš„æ‰€æœ‰åŒ¹é…</span><br><span class="line"></span><br><span class="line">%s&#x2F;old&#x2F;new&#x2F; ç”¨oldæ›¿æ¢newï¼Œæ›¿æ¢æ‰€æœ‰è¡Œçš„ç¬¬ä¸€ä¸ªåŒ¹é…</span><br><span class="line"></span><br><span class="line">%s&#x2F;old&#x2F;new&#x2F;g ç”¨oldæ›¿æ¢newï¼Œæ›¿æ¢æ•´ä¸ªæ–‡ä»¶çš„æ‰€æœ‰åŒ¹é…</span><br><span class="line"></span><br><span class="line">:10,20 s&#x2F;^&#x2F;    &#x2F;g åœ¨ç¬¬10è¡ŒçŸ¥ç¬¬20è¡Œæ¯è¡Œå‰é¢åŠ å››ä¸ªç©ºæ ¼ï¼Œç”¨äºç¼©è¿›ã€‚</span><br><span class="line"></span><br><span class="line">ddp äº¤æ¢å…‰æ ‡æ‰€åœ¨è¡Œå’Œå…¶ä¸‹ç´§é‚»çš„ä¸€è¡Œã€‚</span><br></pre></td></tr></table></figure><h3 id="ç§»åŠ¨å‘½ä»¤"><a href="#ç§»åŠ¨å‘½ä»¤" class="headerlink" title="ç§»åŠ¨å‘½ä»¤"></a>ç§»åŠ¨å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">- h å·¦ç§»ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">- l å³ç§»ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™ä¸ªå‘½ä»¤å¾ˆå°‘ç”¨ï¼Œä¸€èˆ¬ç”¨wä»£æ›¿ã€‚</span><br><span class="line">- k ä¸Šç§»ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">- j ä¸‹ç§»ä¸€ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">ä»¥ä¸Šå››ä¸ªå‘½ä»¤å¯ä»¥é…åˆæ•°å­—ä½¿ç”¨ï¼Œæ¯”å¦‚20jå°±æ˜¯å‘ä¸‹ç§»åŠ¨20è¡Œï¼Œ5hå°±æ˜¯å‘å·¦ç§»åŠ¨5ä¸ªå­—ç¬¦ï¼Œåœ¨Vimä¸­ï¼Œå¾ˆå¤šå‘½ä»¤éƒ½å¯ä»¥é…åˆæ•°å­—ä½¿ç”¨ï¼Œæ¯”å¦‚åˆ é™¤10ä¸ªå­—ç¬¦10xï¼Œåœ¨å½“å‰ä½ç½®åæ’å…¥3ä¸ªï¼ï¼Œ3aï¼&lt;Esc&gt;ï¼Œè¿™é‡Œçš„Escæ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å‘½ä»¤ä¸ç”Ÿæ•ˆã€‚</span><br><span class="line"></span><br><span class="line">w å‘å‰ç§»åŠ¨ä¸€ä¸ªå•è¯ï¼ˆå…‰æ ‡åœåœ¨å•è¯é¦–éƒ¨ï¼‰ï¼Œå¦‚æœå·²åˆ°è¡Œå°¾ï¼Œåˆ™è½¬è‡³ä¸‹ä¸€è¡Œè¡Œé¦–ã€‚æ­¤å‘½ä»¤å¿«ï¼Œå¯ä»¥ä»£æ›¿lå‘½ä»¤ã€‚</span><br><span class="line"></span><br><span class="line">b å‘åç§»åŠ¨ä¸€ä¸ªå•è¯ 2b å‘åç§»åŠ¨2ä¸ªå•è¯</span><br><span class="line"></span><br><span class="line">eï¼ŒåŒwï¼Œåªä¸è¿‡æ˜¯å…‰æ ‡åœåœ¨å•è¯å°¾éƒ¨</span><br><span class="line"></span><br><span class="line">geï¼ŒåŒbï¼Œå…‰æ ‡åœåœ¨å•è¯å°¾éƒ¨ã€‚</span><br><span class="line"></span><br><span class="line">^ ç§»åŠ¨åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸Šã€‚</span><br><span class="line"></span><br><span class="line">0ï¼ˆæ•°å­—0ï¼‰ç§»åŠ¨åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œ</span><br><span class="line"></span><br><span class="line">&lt;HOME&gt; ç§»åŠ¨åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚åŒ0å¥ã€‚</span><br><span class="line"></span><br><span class="line">$ ç§»åŠ¨åˆ°è¡Œå°¾ 3$ ç§»åŠ¨åˆ°ä¸‹é¢3è¡Œçš„è¡Œå°¾</span><br><span class="line"></span><br><span class="line">gg ç§»åŠ¨åˆ°æ–‡ä»¶å¤´ã€‚ &#x3D; [[</span><br><span class="line"></span><br><span class="line">Gï¼ˆshift + gï¼‰ ç§»åŠ¨åˆ°æ–‡ä»¶å°¾ã€‚ &#x3D; ]]</span><br><span class="line"></span><br><span class="line">fï¼ˆfindï¼‰å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç§»åŠ¨ï¼Œfxå°†æ‰¾åˆ°å…‰æ ‡åç¬¬ä¸€ä¸ªä¸ºxçš„å­—ç¬¦ï¼Œ3fdå°†æ‰¾åˆ°ç¬¬ä¸‰ä¸ªä¸ºdçš„å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">F åŒfï¼Œåå‘æŸ¥æ‰¾ã€‚</span><br><span class="line"></span><br><span class="line">è·³åˆ°æŒ‡å®šè¡Œï¼Œå†’å·+è¡Œå·ï¼Œå›è½¦ï¼Œæ¯”å¦‚è·³åˆ°240è¡Œå°±æ˜¯ :240å›è½¦ã€‚å¦ä¸€ä¸ªæ–¹æ³•æ˜¯è¡Œå·+Gï¼Œæ¯”å¦‚230Gè·³åˆ°230è¡Œã€‚</span><br><span class="line"></span><br><span class="line">Ctrl + e å‘ä¸‹æ»šåŠ¨ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">Ctrl + y å‘ä¸Šæ»šåŠ¨ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">Ctrl + d å‘ä¸‹æ»šåŠ¨åŠå±</span><br><span class="line"></span><br><span class="line">Ctrl + u å‘ä¸Šæ»šåŠ¨åŠå±</span><br><span class="line"></span><br><span class="line">Ctrl + f å‘ä¸‹æ»šåŠ¨ä¸€å±</span><br><span class="line"></span><br><span class="line">Ctrl + b å‘ä¸Šæ»šåŠ¨ä¸€å±</span><br></pre></td></tr></table></figure><h3 id="æ’¤é”€å’Œé‡åš"><a href="#æ’¤é”€å’Œé‡åš" class="headerlink" title="æ’¤é”€å’Œé‡åš"></a>æ’¤é”€å’Œé‡åš</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">u æ’¤é”€ï¼ˆUndoï¼‰</span><br><span class="line"></span><br><span class="line">U æ’¤é”€å¯¹æ•´è¡Œçš„æ“ä½œ</span><br><span class="line"></span><br><span class="line">Ctrl + r é‡åšï¼ˆRedoï¼‰ï¼Œå³æ’¤é”€çš„æ’¤é”€ã€‚</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å‘½ä»¤"><a href="#åˆ é™¤å‘½ä»¤" class="headerlink" title="åˆ é™¤å‘½ä»¤"></a>åˆ é™¤å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">x åˆ é™¤å½“å‰å­—ç¬¦</span><br><span class="line"></span><br><span class="line">3x åˆ é™¤å½“å‰å…‰æ ‡å¼€å§‹å‘åä¸‰ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">X åˆ é™¤å½“å‰å­—ç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦ã€‚X&#x3D;dh</span><br><span class="line"></span><br><span class="line">dl åˆ é™¤å½“å‰å­—ç¬¦ï¼Œ dl&#x3D;x</span><br><span class="line"></span><br><span class="line">dh åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦</span><br><span class="line"></span><br><span class="line">dd åˆ é™¤å½“å‰è¡Œ</span><br><span class="line"></span><br><span class="line">dj åˆ é™¤ä¸Šä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">dk åˆ é™¤ä¸‹ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">10d åˆ é™¤å½“å‰è¡Œå¼€å§‹çš„10è¡Œã€‚</span><br><span class="line"></span><br><span class="line">D åˆ é™¤å½“å‰å­—ç¬¦è‡³è¡Œå°¾ã€‚D&#x3D;d$</span><br><span class="line"></span><br><span class="line">d$ åˆ é™¤å½“å‰å­—ç¬¦ä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼ˆæœ¬è¡Œï¼‰</span><br><span class="line"></span><br><span class="line">kdgg åˆ é™¤å½“å‰è¡Œä¹‹å‰æ‰€æœ‰è¡Œï¼ˆä¸åŒ…æ‹¬å½“å‰è¡Œï¼‰</span><br><span class="line"></span><br><span class="line">jdGï¼ˆjd shift + gï¼‰   åˆ é™¤å½“å‰è¡Œä¹‹åæ‰€æœ‰è¡Œï¼ˆä¸åŒ…æ‹¬å½“å‰è¡Œï¼‰</span><br><span class="line"></span><br><span class="line">:1,10d åˆ é™¤1-10è¡Œ</span><br><span class="line"></span><br><span class="line">:11,$d åˆ é™¤11è¡ŒåŠä»¥åæ‰€æœ‰çš„è¡Œ</span><br><span class="line"></span><br><span class="line">:1,$d åˆ é™¤æ‰€æœ‰è¡Œ</span><br><span class="line"></span><br><span class="line">J(shift + j)ã€€ã€€åˆ é™¤ä¸¤è¡Œä¹‹é—´çš„ç©ºè¡Œï¼Œå®é™…ä¸Šæ˜¯åˆå¹¶ä¸¤è¡Œã€‚</span><br></pre></td></tr></table></figure><h3 id="æ‹·è´å’Œç²˜è´´"><a href="#æ‹·è´å’Œç²˜è´´" class="headerlink" title="æ‹·è´å’Œç²˜è´´"></a>æ‹·è´å’Œç²˜è´´</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">yy æ‹·è´å½“å‰è¡Œ</span><br><span class="line"></span><br><span class="line">nyy æ‹·è´å½“å‰åå¼€å§‹çš„nè¡Œï¼Œæ¯”å¦‚2yyæ‹·è´å½“å‰è¡ŒåŠå…¶ä¸‹ä¸€è¡Œã€‚</span><br><span class="line"></span><br><span class="line">p  åœ¨å½“å‰å…‰æ ‡åç²˜è´´,å¦‚æœä¹‹å‰ä½¿ç”¨äº†yyå‘½ä»¤æ¥å¤åˆ¶ä¸€è¡Œï¼Œé‚£ä¹ˆå°±åœ¨å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œç²˜è´´ã€‚</span><br><span class="line"></span><br><span class="line">shift+p åœ¨å½“å‰è¡Œå‰ç²˜è´´</span><br><span class="line"></span><br><span class="line">:1,10 co 20 å°†1-10è¡Œæ’å…¥åˆ°ç¬¬20è¡Œä¹‹åã€‚</span><br><span class="line"></span><br><span class="line">:1,$ co $ å°†æ•´ä¸ªæ–‡ä»¶å¤åˆ¶ä¸€ä»½å¹¶æ·»åŠ åˆ°æ–‡ä»¶å°¾éƒ¨ã€‚</span><br><span class="line"></span><br><span class="line">æ­£å¸¸æ¨¡å¼ä¸‹æŒ‰vï¼ˆé€å­—ï¼‰æˆ–Vï¼ˆé€è¡Œï¼‰è¿›å…¥å¯è§†æ¨¡å¼ï¼Œç„¶åç”¨jklhå‘½ä»¤ç§»åŠ¨å³å¯é€‰æ‹©æŸäº›è¡Œæˆ–å­—ç¬¦ï¼Œå†æŒ‰yå³å¯å¤åˆ¶</span><br><span class="line">ddpäº¤æ¢å½“å‰è¡Œå’Œå…¶ä¸‹ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">xpäº¤æ¢å½“å‰å­—ç¬¦å’Œå…¶åä¸€ä¸ªå­—ç¬¦</span><br></pre></td></tr></table></figure><h3 id="å‰ªåˆ‡å‘½ä»¤"><a href="#å‰ªåˆ‡å‘½ä»¤" class="headerlink" title="å‰ªåˆ‡å‘½ä»¤"></a>å‰ªåˆ‡å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ­£å¸¸æ¨¡å¼ä¸‹æŒ‰vï¼ˆé€å­—ï¼‰æˆ–Vï¼ˆé€è¡Œï¼‰è¿›å…¥å¯è§†æ¨¡å¼ï¼Œç„¶åç”¨jklhå‘½ä»¤ç§»åŠ¨å³å¯é€‰æ‹©æŸäº›è¡Œæˆ–å­—ç¬¦ï¼Œå†æŒ‰då³å¯å‰ªåˆ‡</span><br><span class="line"></span><br><span class="line">ndd å‰ªåˆ‡å½“å‰è¡Œä¹‹åçš„nè¡Œã€‚åˆ©ç”¨på‘½ä»¤å¯ä»¥å¯¹å‰ªåˆ‡çš„å†…å®¹è¿›è¡Œç²˜è´´</span><br><span class="line"></span><br><span class="line">:1,10d å°†1-10è¡Œå‰ªåˆ‡ã€‚åˆ©ç”¨på‘½ä»¤å¯å°†å‰ªåˆ‡åçš„å†…å®¹è¿›è¡Œç²˜è´´ã€‚</span><br><span class="line"></span><br><span class="line">:1, 10 m 20 å°†ç¬¬1-10è¡Œç§»åŠ¨åˆ°ç¬¬20è¡Œä¹‹åã€‚</span><br></pre></td></tr></table></figure><h3 id="é€€å‡ºå‘½ä»¤"><a href="#é€€å‡ºå‘½ä»¤" class="headerlink" title="é€€å‡ºå‘½ä»¤"></a>é€€å‡ºå‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:wq ä¿å­˜å¹¶é€€å‡º</span><br><span class="line"></span><br><span class="line">ZZ ä¿å­˜å¹¶é€€å‡º</span><br><span class="line"></span><br><span class="line">:q! å¼ºåˆ¶é€€å‡ºå¹¶å¿½ç•¥æ‰€æœ‰æ›´æ”¹</span><br><span class="line"></span><br><span class="line">:e! æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼Œå¹¶æ‰“å¼€åŸæ¥æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure><h3 id="çª—å£å‘½ä»¤"><a href="#çª—å£å‘½ä»¤" class="headerlink" title="çª—å£å‘½ä»¤"></a>çª—å£å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">:splitæˆ–new æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œå…‰æ ‡åœåœ¨é¡¶å±‚çš„çª—å£ä¸Š</span><br><span class="line"></span><br><span class="line">:split fileæˆ–:new file ç”¨æ–°çª—å£æ‰“å¼€æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">splitæ‰“å¼€çš„çª—å£éƒ½æ˜¯æ¨ªå‘çš„ï¼Œä½¿ç”¨vsplitå¯ä»¥çºµå‘æ‰“å¼€çª—å£ã€‚</span><br><span class="line"></span><br><span class="line">Ctrl+ww ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªçª—å£</span><br><span class="line"></span><br><span class="line">Ctrl+wj ç§»åŠ¨åˆ°ä¸‹æ–¹çš„çª—å£</span><br><span class="line"></span><br><span class="line">Ctrl+wk ç§»åŠ¨åˆ°ä¸Šæ–¹çš„çª—å£</span><br></pre></td></tr></table></figure><h3 id="å…³é—­çª—å£"><a href="#å…³é—­çª—å£" class="headerlink" title="å…³é—­çª—å£"></a>å…³é—­çª—å£</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">:close æœ€åä¸€ä¸ªçª—å£ä¸èƒ½ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œå¯ä»¥é˜²æ­¢æ„å¤–é€€å‡ºvimã€‚</span><br><span class="line"></span><br><span class="line">:q å¦‚æœæ˜¯æœ€åä¸€ä¸ªè¢«å…³é—­çš„çª—å£ï¼Œé‚£ä¹ˆå°†é€€å‡ºvimã€‚</span><br><span class="line"></span><br><span class="line">ZZ ä¿å­˜å¹¶é€€å‡ºã€‚</span><br><span class="line"></span><br><span class="line">å…³é—­æ‰€æœ‰çª—å£ï¼Œåªä¿ç•™å½“å‰çª—å£</span><br><span class="line"></span><br><span class="line">:only</span><br></pre></td></tr></table></figure><h3 id="å½•åˆ¶å®"><a href="#å½•åˆ¶å®" class="headerlink" title="å½•åˆ¶å®"></a>å½•åˆ¶å®</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">æŒ‰qé”®åŠ ä»»æ„å­—æ¯å¼€å§‹å½•åˆ¶ï¼Œå†æŒ‰qé”®ç»“æŸå½•åˆ¶ï¼ˆè¿™æ„å‘³ç€vimä¸­çš„å®ä¸å¯åµŒå¥—ï¼‰ï¼Œä½¿ç”¨çš„æ—¶å€™@åŠ å®åï¼Œæ¯”å¦‚qaã€‚ã€‚ã€‚qå½•åˆ¶åä¸ºaçš„å®ï¼Œ@aä½¿ç”¨è¿™ä¸ªå®ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ‰§è¡Œshellå‘½ä»¤</span><br><span class="line"></span><br><span class="line">:!command</span><br><span class="line"></span><br><span class="line">:!ls åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">:!perl -c script.pl æ£€æŸ¥perlè„šæœ¬è¯­æ³•ï¼Œå¯ä»¥ä¸ç”¨é€€å‡ºvimï¼Œéå¸¸æ–¹ä¾¿ã€‚</span><br><span class="line"></span><br><span class="line">:!perl script.pl æ‰§è¡Œperlè„šæœ¬ï¼Œå¯ä»¥ä¸ç”¨é€€å‡ºvimï¼Œéå¸¸æ–¹ä¾¿ã€‚</span><br><span class="line"></span><br><span class="line">:suspendæˆ–Ctrl â€“ Z æŒ‚èµ·vimï¼Œå›åˆ°shellï¼ŒæŒ‰fgå¯ä»¥è¿”å›vimã€‚</span><br></pre></td></tr></table></figure><h3 id="æ³¨é‡Šå‘½ä»¤"><a href="#æ³¨é‡Šå‘½ä»¤" class="headerlink" title="æ³¨é‡Šå‘½ä»¤"></a>æ³¨é‡Šå‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">perlç¨‹åºä¸­#å¼€å§‹çš„è¡Œä¸ºæ³¨é‡Šï¼Œæ‰€ä»¥è¦æ³¨é‡ŠæŸäº›è¡Œï¼Œåªéœ€åœ¨è¡Œé¦–åŠ å…¥#</span><br><span class="line"></span><br><span class="line">3,5 s&#x2F;^&#x2F;#&#x2F;g æ³¨é‡Šç¬¬3-5è¡Œ</span><br><span class="line"></span><br><span class="line">3,5 s&#x2F;^#&#x2F;&#x2F;g è§£é™¤3-5è¡Œçš„æ³¨é‡Š</span><br><span class="line"></span><br><span class="line">1,$ s&#x2F;^&#x2F;#&#x2F;g æ³¨é‡Šæ•´ä¸ªæ–‡æ¡£ã€‚</span><br><span class="line"></span><br><span class="line">:%s&#x2F;^&#x2F;#&#x2F;g æ³¨é‡Šæ•´ä¸ªæ–‡æ¡£ï¼Œæ­¤æ³•æ›´å¿«ã€‚</span><br></pre></td></tr></table></figure><h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">:help or F1 æ˜¾ç¤ºæ•´ä¸ªå¸®åŠ©</span><br><span class="line"></span><br><span class="line">:help xxx æ˜¾ç¤ºxxxçš„å¸®åŠ©ï¼Œæ¯”å¦‚ :help i, :help CTRL-[ï¼ˆå³Ctrl+[çš„å¸®åŠ©ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">:help â€˜numberâ€™ Vimé€‰é¡¹çš„å¸®åŠ©ç”¨å•å¼•å·æ‹¬èµ·</span><br><span class="line"></span><br><span class="line">:help &lt;Esc&gt;ç‰¹æ®Šé”®çš„å¸®åŠ©ç”¨&lt;&gt;æ‰©èµ·</span><br><span class="line"></span><br><span class="line">:help -t Vimå¯åŠ¨å‚æ•°çš„å¸®åŠ©ç”¨-</span><br><span class="line"></span><br><span class="line">:help i_&lt;Esc&gt; æ’å…¥æ¨¡å¼ä¸‹Escçš„å¸®åŠ©ï¼ŒæŸä¸ªæ¨¡å¼ä¸‹çš„å¸®åŠ©ç”¨æ¨¡å¼_ä¸»é¢˜çš„æ¨¡å¼</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¸®åŠ©æ–‡ä»¶ä¸­ä½äº||ä¹‹é—´çš„å†…å®¹æ˜¯è¶…é“¾æ¥ï¼Œå¯ä»¥ç”¨Ctrl+]è¿›å…¥é“¾æ¥ï¼ŒCtrl+oï¼ˆCtrl + tï¼‰è¿”å›</span><br></pre></td></tr></table></figure><h3 id="å…¶ä»–éç¼–è¾‘å‘½ä»¤"><a href="#å…¶ä»–éç¼–è¾‘å‘½ä»¤" class="headerlink" title="å…¶ä»–éç¼–è¾‘å‘½ä»¤"></a>å…¶ä»–éç¼–è¾‘å‘½ä»¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">. é‡å¤å‰ä¸€æ¬¡å‘½ä»¤</span><br><span class="line"></span><br><span class="line">:set ruler?ã€€ã€€æŸ¥çœ‹æ˜¯å¦è®¾ç½®äº†rulerï¼Œåœ¨.vimrcä¸­ï¼Œä½¿ç”¨setå‘½ä»¤è®¾åˆ¶çš„é€‰é¡¹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹</span><br><span class="line"></span><br><span class="line">:scriptnamesã€€ã€€æŸ¥çœ‹vimè„šæœ¬æ–‡ä»¶çš„ä½ç½®ï¼Œæ¯”å¦‚.vimrcæ–‡ä»¶ï¼Œè¯­æ³•æ–‡ä»¶åŠpluginç­‰ã€‚</span><br><span class="line"></span><br><span class="line">:set list æ˜¾ç¤ºéæ‰“å°å­—ç¬¦ï¼Œå¦‚tabï¼Œç©ºæ ¼ï¼Œè¡Œå°¾ç­‰ã€‚å¦‚æœtabæ— æ³•æ˜¾ç¤ºï¼Œè¯·ç¡®å®šç”¨set lcs&#x3D;tab:&gt;-å‘½ä»¤è®¾ç½®äº†.vimrcæ–‡ä»¶ï¼Œå¹¶ç¡®ä¿ä½ çš„æ–‡ä»¶ä¸­çš„ç¡®æœ‰tabï¼Œå¦‚æœå¼€å¯äº†expendtabï¼Œé‚£ä¹ˆtabå°†è¢«æ‰©å±•ä¸ºç©ºæ ¼ã€‚</span><br></pre></td></tr></table></figure><h3 id="Vimæ•™ç¨‹"><a href="#Vimæ•™ç¨‹" class="headerlink" title="Vimæ•™ç¨‹"></a>Vimæ•™ç¨‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">åœ¨Unixç³»ç»Ÿä¸Š</span><br><span class="line"></span><br><span class="line">$ vimtutor</span><br><span class="line"></span><br><span class="line">åœ¨Windowsç³»ç»Ÿä¸Š</span><br><span class="line">:help tutor</span><br><span class="line"></span><br><span class="line">:syntax åˆ—å‡ºå·²ç»å®šä¹‰çš„è¯­æ³•é¡¹</span><br><span class="line"></span><br><span class="line">:syntax clear æ¸…é™¤å·²å®šä¹‰çš„è¯­æ³•è§„åˆ™</span><br><span class="line"></span><br><span class="line">:syntax case match å¤§å°å†™æ•æ„Ÿï¼Œintå’ŒIntå°†è§†ä¸ºä¸åŒçš„è¯­æ³•å…ƒç´ </span><br><span class="line"></span><br><span class="line">:syntax case ignore å¤§å°å†™æ— å…³ï¼Œintå’ŒIntå°†è§†ä¸ºç›¸åŒçš„è¯­æ³•å…ƒç´ ï¼Œå¹¶ä½¿ç”¨åŒæ ·çš„é…è‰²æ–¹æ¡ˆ</span><br></pre></td></tr></table></figure><h3 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h3><p>[<a href="http://www.cnblogs.com/softwaretesting/archive/2011/07/12/2104435.html" target="_blank" rel="noopener">Vimå‘½ä»¤åˆé›†</a>]</p>]]></content>
    
    <summary type="html">
    
      Vimå‘½ä»¤åˆé›†
    
    </summary>
    
    
      <category term="Vim" scheme="https://shuke163.github.io/categories/Vim/"/>
    
    
      <category term="Vim" scheme="https://shuke163.github.io/tags/Vim/"/>
    
  </entry>
  
  <entry>
    <title>SFTP</title>
    <link href="https://shuke163.github.io/2020/04/23/SFTP/"/>
    <id>https://shuke163.github.io/2020/04/23/SFTP/</id>
    <published>2020-04-23T08:14:52.000Z</published>
    <updated>2020-04-23T08:15:18.680Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SFTP"><a href="#SFTP" class="headerlink" title="SFTP"></a>SFTP</h2><p>æœåŠ¡å™¨åœ°å€ï¼š10.40.14.26(å†…ç½‘)  47.94.162.132(å…¬ç½‘)   åŸŸåï¼šftp.wecash.net</p><p>SFTPé…ç½®è¿‡ç¨‹<br>   1 è¿æ¥ç”¨æˆ·æ ¹æ®ç”¨æˆ·éœ€æ±‚æ·»åŠ ç³»ç»Ÿç”¨æˆ·é…ç½®å¯†ç ï¼Œä¾‹ï¼š</p><pre><code>useradd sftp_testpasswd sftp_test</code></pre><p>   2  å°†ç”¨æˆ·åŠ å…¥sftp-groupç»„ï¼ˆå·²é¢„å…ˆæ·»åŠ ï¼‰</p><pre><code>usermod -a -G  sftp-group sftp_test</code></pre><p>   3 åˆ›å»ºchrootç›®å½•ï¼Œè¯¥ç›®å½•ä¸ºsftpç”¨æˆ·ç™»å½•çš„ç›®å½•ï¼Œæƒé™ä¸ºrootï¼Œé™åˆ¶ç”¨æˆ·åœ¨æ­¤ç›®å½•æ“ä½œæƒé™ï¼Œå¹¶ä¸”åˆ›å»ºç”¨æˆ·çš„æ“ä½œç›®å½•</p><pre><code>mkdir /data/sftpmkdir /data/sftp/test æˆæƒæ“ä½œç›®å½•chown sftp_test:sftp-group /data/sftp/test</code></pre><p>4 é…ç½®sshé…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line">Protocol 2</span><br><span class="line">Port 22</span><br><span class="line">AddressFamily any</span><br><span class="line">ListenAddress 0.0.0.0</span><br><span class="line">AllowGroups root</span><br><span class="line">AllowGroups yunwei deploy sftp-group</span><br><span class="line">AuthorizedKeysCommand &#x2F;usr&#x2F;bin&#x2F;sss_ssh_authorizedkeys</span><br><span class="line">AuthorizedKeysCommandUser root</span><br><span class="line">ChallengeResponseAuthentication yes</span><br><span class="line">LogLevel INFO</span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">PermitEmptyPasswords no</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line">Subsystem sftp-user &#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;sftp-server</span><br><span class="line">SyslogFacility AUTHPRIV</span><br><span class="line">UsePAM yes</span><br><span class="line">X11Forwarding yes</span><br><span class="line">Subsystem sftp &#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;sftp-server</span><br><span class="line">Match Group sftp-group</span><br><span class="line">ChrootDirectory &#x2F;data&#x2F;sftp</span><br><span class="line">AllowTcpForwarding no</span><br><span class="line">PermitTunnel no</span><br><span class="line">ForceCommand internal-sftp</span><br></pre></td></tr></table></figure><p>æ–°å¢é…ç½®ï¼š<br>         AllowGroups yunwei deploy sftp-group<br>         Subsystem sftp /usr/lib/openssh/sftp-servers<br>         Match Group sftp-group<br>         ChrootDirectory /data/sftp<br>         AllowTcpForwarding no<br>         PermitTunnel no<br>         ForceCommand internal-sftp<br>    é‡å¯sshdæœåŠ¡</p><pre><code>è¿æ¥æ–¹å¼ï¼š sftp sftp_test@10.40.14.26ä½¿ç”¨sshè¿æ¥ä¼šæç¤ºä»…ç”¨sftpè¿æ¥ï¼š        This service allows sftp connections only.        Connection to 10.40.14.26 closed.</code></pre>]]></content>
    
    <summary type="html">
    
      SFTP
    
    </summary>
    
    
      <category term="SFTP" scheme="https://shuke163.github.io/categories/SFTP/"/>
    
    
      <category term="SFTP" scheme="https://shuke163.github.io/tags/SFTP/"/>
    
  </entry>
  
  <entry>
    <title>Redisé›†ç¾¤éƒ¨ç½²</title>
    <link href="https://shuke163.github.io/2020/04/23/Redis%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"/>
    <id>https://shuke163.github.io/2020/04/23/Redis%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/</id>
    <published>2020-04-23T08:14:25.000Z</published>
    <updated>2020-04-23T08:14:37.618Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Redisé›†ç¾¤éƒ¨ç½²"><a href="#Redisé›†ç¾¤éƒ¨ç½²" class="headerlink" title="Redisé›†ç¾¤éƒ¨ç½²"></a>Redisé›†ç¾¤éƒ¨ç½²</h2><h2 id="Redisé›†ç¾¤éƒ¨ç½²-1"><a href="#Redisé›†ç¾¤éƒ¨ç½²-1" class="headerlink" title="Redisé›†ç¾¤éƒ¨ç½²"></a>Redisé›†ç¾¤éƒ¨ç½²</h2><ol><li>ç¼–è¯‘å®‰è£…<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;local&#x2F;src&#x2F;</span><br><span class="line"># wget http:&#x2F;&#x2F;download.redis.io&#x2F;releases&#x2F;redis-5.0.0.tar.gz</span><br><span class="line"># tar zxvf redis-5.0.0.tar.gz</span><br><span class="line"># apt-get update &amp;&amp; apt-get install -y gcc automake make</span><br><span class="line"># cd redis-5.0.0 &amp;&amp; make &amp;&amp; make install</span><br><span class="line"># cp .&#x2F;src&#x2F;redis-server &#x2F;usr&#x2F;bin&#x2F;</span><br><span class="line"># cp .&#x2F;src&#x2F;redis-cli &#x2F;usr&#x2F;bin&#x2F;</span><br></pre></td></tr></table></figure></li><li>åˆ›å»ºæœåŠ¡å¯åœè„šæœ¬(å¦‚æœéœ€è¦)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cp .&#x2F;utils&#x2F;redis_init_script &#x2F;etc&#x2F;init.d&#x2F;redisd</span><br><span class="line"># service redisd start</span><br></pre></td></tr></table></figure></li><li>åˆ›å»ºç›®å½•åŠé…ç½®æ–‡ä»¶<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"># mkdir &#x2F;tmp&#x2F;redis-cluster&#x2F;&#123;7000,7001,7002,7003,7004,7005&#125;&#x2F;log -pv</span><br><span class="line"># cp &#x2F;usr&#x2F;local&#x2F;src&#x2F;redis-5.0.0&#x2F;redis.conf &#x2F;data&#x2F;redis-cluster&#x2F;7000&#x2F;redis.conf</span><br><span class="line"># cd &#x2F;data&#x2F;redis-cluster&#x2F; &amp;&amp; cat 7000&#x2F;redis.conf</span><br><span class="line">bind 0.0.0.0</span><br><span class="line">protected-mode yes</span><br><span class="line">port 7000</span><br><span class="line">tcp-backlog 511</span><br><span class="line">timeout 0</span><br><span class="line">tcp-keepalive 300</span><br><span class="line">daemonize yes</span><br><span class="line">supervised no</span><br><span class="line">pidfile &#x2F;var&#x2F;run&#x2F;redis_7000.pid</span><br><span class="line">loglevel notice</span><br><span class="line">logfile &quot;&#x2F;data&#x2F;redis-cluster&#x2F;7000&#x2F;log&#x2F;redis-7000.log&quot;</span><br><span class="line">databases 16</span><br><span class="line">always-show-logo yes</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line">rdbcompression yes</span><br><span class="line">rdbchecksum yes</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line">dir .&#x2F;</span><br><span class="line">replica-serve-stale-data yes</span><br><span class="line">replica-read-only yes</span><br><span class="line">repl-diskless-sync no</span><br><span class="line">repl-diskless-sync-delay 5</span><br><span class="line">repl-disable-tcp-nodelay no</span><br><span class="line">replica-priority 100</span><br><span class="line">lazyfree-lazy-eviction no</span><br><span class="line">lazyfree-lazy-expire no</span><br><span class="line">lazyfree-lazy-server-del no</span><br><span class="line">replica-lazy-flush no</span><br><span class="line">appendonly yes</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line">appendfsync everysec</span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line">aof-load-truncated yes</span><br><span class="line">aof-use-rdb-preamble yes</span><br><span class="line">lua-time-limit 5000</span><br><span class="line">cluster-enabled yes</span><br><span class="line">cluster-config-file nodes.conf</span><br><span class="line">cluster-node-timeout 15000</span><br><span class="line">slowlog-log-slower-than 10000</span><br><span class="line">slowlog-max-len 128</span><br><span class="line">latency-monitor-threshold 0</span><br><span class="line">notify-keyspace-events &quot;&quot;</span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line">list-max-ziplist-size -2</span><br><span class="line">list-compress-depth 0</span><br><span class="line">set-max-intset-entries 512</span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line">hll-sparse-max-bytes 3000</span><br><span class="line">stream-node-max-bytes 4096</span><br><span class="line">stream-node-max-entries 100</span><br><span class="line">activerehashing yes</span><br><span class="line">client-output-buffer-limit normal 0 0 0</span><br><span class="line">client-output-buffer-limit replica 256mb 64mb 60</span><br><span class="line">client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line">hz 10</span><br><span class="line">dynamic-hz yes</span><br><span class="line">aof-rewrite-incremental-fsync yes</span><br><span class="line">rdb-save-incremental-fsync yes</span><br><span class="line">masterauth AuDdQdpuEZpXgNthP6CjYjPb</span><br><span class="line">requirepass AuDdQdpuEZpXgNthP6CjYjPb</span><br><span class="line">ä¿®æ”¹å…¶ä»–ç«¯å£é…ç½®æ–‡ä»¶</span><br><span class="line"># cp 7000&#x2F;redis.conf 7001&#x2F;</span><br><span class="line"># cp 7000&#x2F;redis.conf 7002&#x2F;</span><br><span class="line"># cp 7000&#x2F;redis.conf 7003&#x2F;</span><br><span class="line"># cp 7000&#x2F;redis.conf 7004&#x2F;</span><br><span class="line"># cp 7000&#x2F;redis.conf 7005&#x2F;</span><br><span class="line"># sed -i &#39;s&#x2F;7000&#x2F;7001&#x2F;g&#39; 7001&#x2F;redis.conf</span><br><span class="line"># sed -i &#39;s&#x2F;7000&#x2F;7002&#x2F;g&#39; 7002&#x2F;redis.conf</span><br><span class="line"># sed -i &#39;s&#x2F;7000&#x2F;7003&#x2F;g&#39; 7003&#x2F;redis.conf</span><br><span class="line"># sed -i &#39;s&#x2F;7000&#x2F;7004&#x2F;g&#39; 7004&#x2F;redis.conf</span><br><span class="line"># sed -i &#39;s&#x2F;7000&#x2F;7005&#x2F;g&#39; 7005&#x2F;redis.conf</span><br></pre></td></tr></table></figure></li><li>è°ƒæ•´ä¸‹å†…å­˜åˆ†é…ä½¿ç”¨æ–¹å¼å¹¶ä½¿å…¶ç”Ÿæ•ˆ<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æ­¤å‚æ•°å¯ç”¨çš„å€¼ä¸º0,1,2 </span><br><span class="line">#0è¡¨ç¤ºå½“ç”¨æˆ·ç©ºé—´è¯·æ±‚æ›´å¤šçš„å†…å­˜æ—¶ï¼Œå†…æ ¸å°è¯•ä¼°ç®—å‡ºå¯ç”¨çš„å†…å­˜ </span><br><span class="line">#1è¡¨ç¤ºå†…æ ¸å…è®¸è¶…é‡ä½¿ç”¨å†…å­˜ç›´åˆ°å†…å­˜ç”¨å®Œä¸ºæ­¢ </span><br><span class="line">#2è¡¨ç¤ºæ•´ä¸ªå†…å­˜åœ°å€ç©ºé—´ä¸èƒ½è¶…è¿‡swap+(vm.overcommit_ratio)%çš„RAMå€¼ </span><br><span class="line">echo &quot;vm.overcommit_memory&#x3D;1&quot;&gt;&gt;&#x2F;etc&#x2F;sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li><li>åˆ¶ä½œå¯åŠ¨è„šæœ¬<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># cat start-redis-cluster.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">cd &#x2F;data&#x2F;redis-cluster</span><br><span class="line"></span><br><span class="line">cd 7000 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7000&#x2F;redis.conf</span><br><span class="line">cd ..&#x2F;7001 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7001&#x2F;redis.conf</span><br><span class="line">cd ..&#x2F;7002 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7002&#x2F;redis.conf</span><br><span class="line">cd ..&#x2F;7003 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7003&#x2F;redis.conf</span><br><span class="line">cd ..&#x2F;7004 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7004&#x2F;redis.conf</span><br><span class="line">cd ..&#x2F;7005 &amp;&amp; &#x2F;usr&#x2F;bin&#x2F;redis-server &#x2F;data&#x2F;redis-cluster&#x2F;7005&#x2F;redis.conf</span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨æœåŠ¡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># bash start-redis-cluster.sh</span><br><span class="line"># ps -ef|grep redis</span><br><span class="line">root     30192     1  0 06:54 ?        00:00:04 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7000 [cluster]</span><br><span class="line">root     30194     1  0 06:54 ?        00:00:05 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7001 [cluster]</span><br><span class="line">root     30196     1  0 06:54 ?        00:00:04 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7002 [cluster]</span><br><span class="line">root     30201     1  0 06:54 ?        00:00:04 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7003 [cluster]</span><br><span class="line">root     30206     1  0 06:54 ?        00:00:05 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7004 [cluster]</span><br><span class="line">root     30211     1  0 06:54 ?        00:00:04 &#x2F;usr&#x2F;bin&#x2F;redis-server 0.0.0.0:7005 [cluster]</span><br></pre></td></tr></table></figure></li><li>åˆ›å»ºé›†ç¾¤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># redis-cli --cluster create 10.20.71.215:7000 10.20.73.204:7001 10.20.71.67:7002 10.20.71.215:7003 10.20.73.204:7004 10.20.71.67:7005 --cluster-replicas 1 -a AuDdQdpuEZpXgNthP6CjYjPb</span><br></pre></td></tr></table></figure></li><li>æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@mgo-db01cn-t001:&#x2F;usr&#x2F;local&#x2F;src&#x2F;redis-5.0.0# redis-cli -c -p 7000</span><br><span class="line">127.0.0.1:7000&gt; auth AuDdQdpuEZpXgNthP6CjYjPb</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:7000&gt; cluster nodes</span><br><span class="line">ab8eeb87cc65dd14d03b8ac1b1e8cf7956cec1f5 10.20.71.67:7005@17005 slave 113373eeb8450caf99f8bef80f7cf5e8be41f370 0 1556958626898 6 connected</span><br><span class="line">387497dd41e34c90f4ccfa5909e2c63987d2f0d6 10.20.71.67:7002@17002 master - 0 1556958624893 3 connected 10923-16383</span><br><span class="line">356ac5e0988889a793c055b99c1abff6579ba322 10.20.73.204:7004@17004 slave 387497dd41e34c90f4ccfa5909e2c63987d2f0d6 0 1556958625000 5 connected</span><br><span class="line">3c1d7c057ac1d325fcf63895ae52733242abc72b 10.20.73.204:7001@17001 master - 0 1556958625000 2 connected 5461-10922</span><br><span class="line">113373eeb8450caf99f8bef80f7cf5e8be41f370 10.20.71.215:7000@17000 myself,master - 0 1556958625000 1 connected 0-5460</span><br><span class="line">54c72a2901af3dd72cbbb816bd6c5283eec6eec9 10.20.71.215:7003@17003 slave 3c1d7c057ac1d325fcf63895ae52733242abc72b 0 1556958625894 4 connected</span><br></pre></td></tr></table></figure>æ§åˆ¶å°ä¿¡æ¯æ˜¾ç¤º: å½“å‰é›†ç¾¤ä¸­å­˜åœ¨3ä¸ªä¸»èŠ‚ç‚¹å’Œ3ä¸ªä»èŠ‚ç‚¹ï¼Œè¯´æ˜æˆ‘ä»¬çš„é›†ç¾¤å·²ç»æ­å»ºæˆåŠŸ<br>è‡³æ­¤ï¼ŒRedis Clusteré›†ç¾¤å°±æ­å»ºå®Œæˆäº†!</li><li>æµ‹è¯•æ•°æ®<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@mgo-db01cn-t001:~# redis-cli -h 10.20.73.204 -p 7001</span><br><span class="line">10.20.73.204:7001&gt; auth AuDdQdpuEZpXgNthP6CjYjPb</span><br><span class="line">OK</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt; set name shuke</span><br><span class="line">OK</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt;</span><br><span class="line">10.20.73.204:7001&gt; get name</span><br><span class="line">&quot;shuke&quot;</span><br></pre></td></tr></table></figure></li><li>cluster saveconfig<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å°†èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ä¿å­˜åˆ°ç¡¬ç›˜é‡Œé¢.</span><br><span class="line">è¯•ä¸€ä¸‹ï¼š</span><br><span class="line">127.0.0.1:7009&gt; cluster saveconfig</span><br><span class="line">OK</span><br><span class="line">okè¯´æ˜æˆåŠŸäº†,å®ƒä¼šè¦†ç›–é…ç½®æ–‡ä»¶å¤¹é‡Œçš„nodes.confæ–‡ä»¶.è¿™æ ·åšæ˜¯ä¸ºäº†æŸç§æƒ…å†µä¸‹nodesæ–‡ä»¶ä¸¢å¤±,è¿™æ ·å°±ä¼šç”Ÿæˆä¸€ä¸ªæœ€æ–°çš„èŠ‚ç‚¹é…ç½®æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure></li></ol><p>Tips :</p><ol><li>å¦‚æœæƒ³é‡æ–°åˆ›å»ºé›†ç¾¤ï¼Œéœ€è¦ç™»å½•åˆ°æ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰§è¡Œflushdbï¼Œç„¶åæ‰§è¡Œcluster resetï¼Œé‡å¯èŠ‚ç‚¹;</li></ol><h3 id="é›†ç¾¤ç®¡ç†"><a href="#é›†ç¾¤ç®¡ç†" class="headerlink" title="é›†ç¾¤ç®¡ç†"></a>é›†ç¾¤ç®¡ç†</h3><p><a href="http://www.redis.cn/topics/cluster-tutorial.html" target="_blank" rel="noopener">Redis é›†ç¾¤æ•™ç¨‹</a><br><a href="http://blog.huangz.me/2018/redis-cluster-manage-cheatsheet.html" target="_blank" rel="noopener">é›†ç¾¤ç®¡ç†å¸¸è§æ“ä½œ</a><br><a href="https://www.zybuluo.com/phper/note/205009" target="_blank" rel="noopener">å¸¸ç”¨å‘½ä»¤</a></p><h3 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h3><p><a href="https://hoxis.github.io/redis-sentinel-ha.html" target="_blank" rel="noopener">Redis é«˜å¯ç”¨éƒ¨ç½²æ–¹æ¡ˆ</a><br><a href="https://wizardforcel.gitbooks.io/redis-doc/content/doc/9.html" target="_blank" rel="noopener">Redisé›†ç¾¤è§„èŒƒ</a></p>]]></content>
    
    <summary type="html">
    
      Redisé›†ç¾¤éƒ¨ç½²
    
    </summary>
    
    
      <category term="Redis" scheme="https://shuke163.github.io/categories/Redis/"/>
    
    
      <category term="Redis" scheme="https://shuke163.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§</title>
    <link href="https://shuke163.github.io/2020/04/23/Python%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/"/>
    <id>https://shuke163.github.io/2020/04/23/Python%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7/</id>
    <published>2020-04-23T08:13:33.000Z</published>
    <updated>2020-04-23T08:13:53.725Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§"><a href="#Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§" class="headerlink" title="Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§"></a>Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§</h2><blockquote><p>Python å¼€å‘ä¸­æœ‰å“ªäº›é«˜çº§æŠ€å·§ï¼Ÿè¿™æ˜¯çŸ¥ä¹ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›å¸¸è§çš„æŠ€å·§åœ¨è¿™é‡Œï¼Œå¯èƒ½è°ˆä¸ä¸Šå¤šé«˜çº§ï¼Œä½†æŒæ¡è¿™äº›è‡³å°‘å¯ä»¥è®©ä½ çš„ä»£ç çœ‹èµ·æ¥ Pythonic ä¸€ç‚¹ã€‚å¦‚æœä½ è¿˜åœ¨æŒ‰ç…§ç±»Cè¯­è¨€çš„é‚£å¥—é£æ ¼æ¥å†™çš„è¯ï¼Œåœ¨ code review ææ€•ä¼šè¦è¢«åæ§½äº†.</p></blockquote><h3 id="åˆ—è¡¨æ¨å¯¼å¼"><a href="#åˆ—è¡¨æ¨å¯¼å¼" class="headerlink" title="åˆ—è¡¨æ¨å¯¼å¼"></a>åˆ—è¡¨æ¨å¯¼å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; chars &#x3D; [ c for c in &#39;python&#39; ]</span><br><span class="line">&gt;&gt;&gt; chars</span><br><span class="line">[&#39;p&#39;, &#39;y&#39;, &#39;t&#39;, &#39;h&#39;, &#39;o&#39;, &#39;n&#39;]</span><br></pre></td></tr></table></figure><h3 id="å­—å…¸æ¨å¯¼å¼"><a href="#å­—å…¸æ¨å¯¼å¼" class="headerlink" title="å­—å…¸æ¨å¯¼å¼"></a>å­—å…¸æ¨å¯¼å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dict1 &#x3D; &#123;&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4, &#39;e&#39;: 5&#125;</span><br><span class="line">&gt;&gt;&gt; double_dict1 &#x3D; &#123;k:v*2 for (k,v) in dict1.items()&#125;</span><br><span class="line">&gt;&gt;&gt; double_dict1</span><br><span class="line">&#123;&#39;a&#39;: 2, &#39;b&#39;: 4, &#39;c&#39;: 6, &#39;d&#39;: 8, &#39;e&#39;: 10&#125;</span><br></pre></td></tr></table></figure><h3 id="é›†åˆæ¨å¯¼å¼"><a href="#é›†åˆæ¨å¯¼å¼" class="headerlink" title="é›†åˆæ¨å¯¼å¼"></a>é›†åˆæ¨å¯¼å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; set1 &#x3D; &#123;1,2,3,4&#125;</span><br><span class="line">&gt;&gt;&gt; double_set &#x3D; &#123;i*2 for i in set1&#125;</span><br><span class="line">&gt;&gt;&gt; double_set</span><br><span class="line">&#123;8, 2, 4, 6&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶å­—å…¸"><a href="#åˆå¹¶å­—å…¸" class="headerlink" title="åˆå¹¶å­—å…¸"></a>åˆå¹¶å­—å…¸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x &#x3D; &#123;&#39;a&#39;:1,&#39;b&#39;:2&#125;</span><br><span class="line">&gt;&gt;&gt; y &#x3D; &#123;&#39;c&#39;:3, &#39;d&#39;:4&#125;</span><br><span class="line">&gt;&gt;&gt; z &#x3D; &#123;**x, **y&#125;</span><br><span class="line">&gt;&gt;&gt; z</span><br><span class="line">&#123;&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤åˆ¶åˆ—è¡¨"><a href="#å¤åˆ¶åˆ—è¡¨" class="headerlink" title="å¤åˆ¶åˆ—è¡¨"></a>å¤åˆ¶åˆ—è¡¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; nums &#x3D; [1,2,3]</span><br><span class="line">&gt;&gt;&gt; nums[::]</span><br><span class="line">[1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; copy_nums &#x3D; nums[::]</span><br><span class="line">&gt;&gt;&gt; copy_nums</span><br><span class="line">[1, 2, 3]</span><br></pre></td></tr></table></figure><h3 id="åè½¬åˆ—è¡¨"><a href="#åè½¬åˆ—è¡¨" class="headerlink" title="åè½¬åˆ—è¡¨"></a>åè½¬åˆ—è¡¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; reverse_nums &#x3D; nums[::-1]</span><br><span class="line">&gt;&gt;&gt; reverse_nums</span><br><span class="line">[3, 2, 1]</span><br></pre></td></tr></table></figure><h3 id="å˜é‡äº¤æ¢"><a href="#å˜é‡äº¤æ¢" class="headerlink" title="å˜é‡äº¤æ¢"></a>å˜é‡äº¤æ¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a,b &#x3D; 1, 2</span><br><span class="line">&gt;&gt;&gt; a ,b &#x3D; b,a</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="é«˜çº§æ‹†åŒ…"><a href="#é«˜çº§æ‹†åŒ…" class="headerlink" title="é«˜çº§æ‹†åŒ…"></a>é«˜çº§æ‹†åŒ…</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a, *b &#x3D; 1,2,3</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">[2, 3]</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a, *b, c &#x3D; 1,2,3,4,5</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">[2, 3, 4]</span><br><span class="line">&gt;&gt;&gt; c</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°è¿”å›å¤šä¸ªå€¼-å…¶å®æ˜¯è‡ªåŠ¨packingæˆå…ƒç»„-ç„¶åunpackingèµ‹å€¼ç»™4ä¸ªå˜é‡"><a href="#å‡½æ•°è¿”å›å¤šä¸ªå€¼-å…¶å®æ˜¯è‡ªåŠ¨packingæˆå…ƒç»„-ç„¶åunpackingèµ‹å€¼ç»™4ä¸ªå˜é‡" class="headerlink" title="å‡½æ•°è¿”å›å¤šä¸ªå€¼(å…¶å®æ˜¯è‡ªåŠ¨packingæˆå…ƒç»„)ç„¶åunpackingèµ‹å€¼ç»™4ä¸ªå˜é‡"></a>å‡½æ•°è¿”å›å¤šä¸ªå€¼(å…¶å®æ˜¯è‡ªåŠ¨packingæˆå…ƒç»„)ç„¶åunpackingèµ‹å€¼ç»™4ä¸ªå˜é‡</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def f():</span><br><span class="line">...     return 1, 2, 3, 4</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; a, b, c, d &#x3D; f()</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; d</span><br><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="åˆ—è¡¨åˆå¹¶æˆå­—ç¬¦ä¸²"><a href="#åˆ—è¡¨åˆå¹¶æˆå­—ç¬¦ä¸²" class="headerlink" title="åˆ—è¡¨åˆå¹¶æˆå­—ç¬¦ä¸²"></a>åˆ—è¡¨åˆå¹¶æˆå­—ç¬¦ä¸²</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; &quot; &quot;.join([&quot;I&quot;, &quot;Love&quot;, &quot;Python&quot;])</span><br><span class="line">&#39;I Love Python&#39;</span><br></pre></td></tr></table></figure><h3 id="é“¾å¼æ¯”è¾ƒ"><a href="#é“¾å¼æ¯”è¾ƒ" class="headerlink" title="é“¾å¼æ¯”è¾ƒ"></a>é“¾å¼æ¯”è¾ƒ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; if a &gt; 2 and a &lt; 5:</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; if 2&lt;a&lt;5:</span><br><span class="line">...     pass</span><br></pre></td></tr></table></figure><h3 id="yield-from"><a href="#yield-from" class="headerlink" title="yield from"></a>yield from</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># æ²¡æœ‰ä½¿ç”¨ field from</span><br><span class="line">def dup(n):</span><br><span class="line">    for i in range(n):</span><br><span class="line">        yield i</span><br><span class="line">        yield i</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨yield from</span><br><span class="line">def dup(n):</span><br><span class="line">    for i in range(n):</span><br><span class="line">    yield from [i, i]</span><br><span class="line"></span><br><span class="line">for i in dup(3):</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="in-ä»£æ›¿-or"><a href="#in-ä»£æ›¿-or" class="headerlink" title="in ä»£æ›¿ or"></a>in ä»£æ›¿ or</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; if x &#x3D;&#x3D; 1 or x &#x3D;&#x3D; 2 or x &#x3D;&#x3D; 3:</span><br><span class="line">...     pass</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; if x in (1,2,3):</span><br><span class="line">...     pass</span><br></pre></td></tr></table></figure><h3 id="å­—å…¸ä»£æ›¿å¤šä¸ªif-else"><a href="#å­—å…¸ä»£æ›¿å¤šä¸ªif-else" class="headerlink" title="å­—å…¸ä»£æ›¿å¤šä¸ªif else"></a>å­—å…¸ä»£æ›¿å¤šä¸ªif else</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def fun(x):</span><br><span class="line">    if x &#x3D;&#x3D; &#39;a&#39;:</span><br><span class="line">        return 1</span><br><span class="line">    elif x &#x3D;&#x3D; &#39;b&#39;:</span><br><span class="line">        return 2</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def fun(x):</span><br><span class="line">    return &#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;.get(x)</span><br></pre></td></tr></table></figure><h3 id="æœ‰ä¸‹æ ‡ç´¢å¼•çš„æšä¸¾"><a href="#æœ‰ä¸‹æ ‡ç´¢å¼•çš„æšä¸¾" class="headerlink" title="æœ‰ä¸‹æ ‡ç´¢å¼•çš„æšä¸¾"></a>æœ‰ä¸‹æ ‡ç´¢å¼•çš„æšä¸¾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; for i, e in enumerate([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]):</span><br><span class="line">...     print(i, e)</span><br><span class="line">...</span><br><span class="line">0 a</span><br><span class="line">1 b</span><br><span class="line">2 c</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h3><p>æ³¨æ„åŒºåˆ†åˆ—è¡¨æ¨å¯¼å¼ï¼Œç”Ÿæˆå™¨æ•ˆç‡æ›´é«˜</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; g &#x3D; (i**2 for i in range(5))</span><br><span class="line">&gt;&gt;&gt; g</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at 0x10881e518&gt;</span><br><span class="line">&gt;&gt;&gt; for i in g:</span><br><span class="line">...     print(i)</span><br><span class="line">...</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">9</span><br><span class="line">16</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„åŒºåˆ†åˆ—è¡¨æ¨å¯¼å¼ï¼Œç”Ÿæˆå™¨æ•ˆç‡æ›´é«˜"><a href="#æ³¨æ„åŒºåˆ†åˆ—è¡¨æ¨å¯¼å¼ï¼Œç”Ÿæˆå™¨æ•ˆç‡æ›´é«˜" class="headerlink" title="æ³¨æ„åŒºåˆ†åˆ—è¡¨æ¨å¯¼å¼ï¼Œç”Ÿæˆå™¨æ•ˆç‡æ›´é«˜"></a>æ³¨æ„åŒºåˆ†åˆ—è¡¨æ¨å¯¼å¼ï¼Œç”Ÿæˆå™¨æ•ˆç‡æ›´é«˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; g &#x3D; (i**2 for i in range(5))</span><br><span class="line">&gt;&gt;&gt; g</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at 0x10881e518&gt;</span><br><span class="line">&gt;&gt;&gt; for i in g:</span><br><span class="line">...     print(i)</span><br><span class="line">...</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">9</span><br><span class="line">16</span><br></pre></td></tr></table></figure><h3 id="é»˜è®¤å­—å…¸-defaultdict"><a href="#é»˜è®¤å­—å…¸-defaultdict" class="headerlink" title="é»˜è®¤å­—å…¸ defaultdict"></a>é»˜è®¤å­—å…¸ defaultdict</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d &#x3D; dict()</span><br><span class="line">&gt;&gt;&gt; d[&#39;nums&#39;]</span><br><span class="line">KeyError: &#39;nums&#39;</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from collections import defaultdict</span><br><span class="line">&gt;&gt;&gt; d &#x3D; defaultdict(list)</span><br><span class="line">&gt;&gt;&gt; d[&quot;nums&quot;]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>å­—ç¬¦ä¸²æ ¼å¼åŒ–</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; lang &#x3D; &#39;python&#39;</span><br><span class="line">&gt;&gt;&gt; f&#39;&#123;lang&#125; is most popular language in the world&#39;</span><br><span class="line">&#39;python is most popular language in the world&#39;</span><br></pre></td></tr></table></figure><h3 id="åˆ—è¡¨ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ "><a href="#åˆ—è¡¨ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ " class="headerlink" title="åˆ—è¡¨ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ "></a>åˆ—è¡¨ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; nums &#x3D; [1,2,3,3]</span><br><span class="line">&gt;&gt;&gt; max(set(nums), key&#x3D;nums.count)</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line">from collections import Counter</span><br><span class="line">&gt;&gt;&gt; Counter(nums).most_common()[0][0]</span><br><span class="line">3</span><br></pre></td></tr></table></figure><h3 id="è¯»å†™æ–‡ä»¶"><a href="#è¯»å†™æ–‡ä»¶" class="headerlink" title="è¯»å†™æ–‡ä»¶"></a>è¯»å†™æ–‡ä»¶</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; with open(&quot;test.txt&quot;, &quot;w&quot;) as f:</span><br><span class="line">...     f.writelines(&quot;hello&quot;)</span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå¯æŒ‡å®šå¤šä¸ªç±»å‹"><a href="#åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå¯æŒ‡å®šå¤šä¸ªç±»å‹" class="headerlink" title="åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå¯æŒ‡å®šå¤šä¸ªç±»å‹"></a>åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œå¯æŒ‡å®šå¤šä¸ªç±»å‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; isinstance(a, (int, str))</span><br><span class="line">True</span><br></pre></td></tr></table></figure><h3 id="ç±»ä¼¼çš„è¿˜æœ‰å­—ç¬¦ä¸²çš„-startswithï¼Œendswith"><a href="#ç±»ä¼¼çš„è¿˜æœ‰å­—ç¬¦ä¸²çš„-startswithï¼Œendswith" class="headerlink" title="ç±»ä¼¼çš„è¿˜æœ‰å­—ç¬¦ä¸²çš„ startswithï¼Œendswith"></a>ç±»ä¼¼çš„è¿˜æœ‰å­—ç¬¦ä¸²çš„ startswithï¼Œendswith</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; &quot;http:&#x2F;&#x2F;foofish.net&quot;.startswith((&#39;http&#39;,&#39;https&#39;))</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; &quot;https:&#x2F;&#x2F;foofish.net&quot;.startswith((&#39;http&#39;,&#39;https&#39;))</span><br><span class="line">True</span><br></pre></td></tr></table></figure><h3 id="str-ä¸-repr-åŒºåˆ«"><a href="#str-ä¸-repr-åŒºåˆ«" class="headerlink" title="str ä¸ repr åŒºåˆ«"></a><strong>str</strong> ä¸ <strong>repr</strong> åŒºåˆ«</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; str(datetime.now())</span><br><span class="line">&#39;2018-11-20 00:31:54.839605&#39;</span><br><span class="line">&gt;&gt;&gt; repr(datetime.now())</span><br><span class="line">&#39;datetime.datetime(2018, 11, 20, 0, 32, 0, 579521)&#39;</span><br></pre></td></tr></table></figure><p>å‰è€…å¯¹äººå‹å¥½ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œåè€…å¯¹è®¡ç®—æœºå‹å¥½ï¼Œæ”¯æŒ obj == eval(repr(obj))</p><h3 id="ä½¿ç”¨è£…é¥°å™¨"><a href="#ä½¿ç”¨è£…é¥°å™¨" class="headerlink" title="ä½¿ç”¨è£…é¥°å™¨"></a>ä½¿ç”¨è£…é¥°å™¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def makebold(f):</span><br><span class="line">return lambda: &quot;&lt;b&gt;&quot; + f() + &quot;&lt;&#x2F;b&gt;&quot;</span><br><span class="line"></span><br><span class="line">def makeitalic(f):</span><br><span class="line">return lambda: &quot;&lt;i&gt;&quot; + f() + &quot;&lt;&#x2F;i&gt;&quot;</span><br><span class="line"></span><br><span class="line">@makebold</span><br><span class="line">@makeitalic</span><br><span class="line">def say():</span><br><span class="line">return &quot;Hello&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; say()</span><br><span class="line">&lt;b&gt;&lt;i&gt;Hello&lt;&#x2F;i&gt;&lt;&#x2F;b&gt;</span><br></pre></td></tr></table></figure><h3 id="ä¸ä½¿ç”¨è£…é¥°å™¨-å¯è¯»æ€§éå¸¸å·®"><a href="#ä¸ä½¿ç”¨è£…é¥°å™¨-å¯è¯»æ€§éå¸¸å·®" class="headerlink" title="ä¸ä½¿ç”¨è£…é¥°å™¨,å¯è¯»æ€§éå¸¸å·®"></a>ä¸ä½¿ç”¨è£…é¥°å™¨,å¯è¯»æ€§éå¸¸å·®</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def say():</span><br><span class="line">return &quot;Hello&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; makebold(makeitalic(say))()</span><br><span class="line">&lt;b&gt;&lt;i&gt;Hello&lt;&#x2F;i&gt;&lt;&#x2F;b&gt;</span><br></pre></td></tr></table></figure><p><a href="https://mp.weixin.qq.com/s/cGHEJRUQ3CeuvL5rOqul8A" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>]]></content>
    
    <summary type="html">
    
      Pythonä¸­çš„ä¸€äº›é«˜çº§æŠ€å·§
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>Pythonä¹‹ç¦…</title>
    <link href="https://shuke163.github.io/2020/04/23/Python%E4%B9%8B%E7%A6%85/"/>
    <id>https://shuke163.github.io/2020/04/23/Python%E4%B9%8B%E7%A6%85/</id>
    <published>2020-04-23T08:12:23.000Z</published>
    <updated>2020-04-23T08:14:05.187Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Pythonä¹‹ç¦…"><a href="#Pythonä¹‹ç¦…" class="headerlink" title="Pythonä¹‹ç¦…"></a>Pythonä¹‹ç¦…</h2><blockquote><p>åœ¨Pythonäº¤äº’å¼è§£é‡Šå™¨ä¸­è¾“ å…¥import thiså°±ä¼šæ˜¾ç¤ºTim Petersçš„The Zen of python</p></blockquote><p><img src="https://pic4.zhimg.com/v2-3c27b47e4d5ef618a86252b39bb6db94_1200x500.jpg" alt="python"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import this</span><br><span class="line">The Zen of Python, by Tim Peters</span><br><span class="line"></span><br><span class="line">Beautiful is better than ugly.</span><br><span class="line">Explicit is better than implicit.</span><br><span class="line">Simple is better than complex.</span><br><span class="line">Complex is better than complicated.</span><br><span class="line">Flat is better than nested.</span><br><span class="line">Sparse is better than dense.</span><br><span class="line">Readability counts.</span><br><span class="line">Special cases aren&#39;t special enough to break the rules.</span><br><span class="line">Although practicality beats purity.</span><br><span class="line">Errors should never pass silently.</span><br><span class="line">Unless explicitly silenced.</span><br><span class="line">In the face of ambiguity, refuse the temptation to guess.</span><br><span class="line">There should be one-- and preferably only one --obvious way to do it.</span><br><span class="line">Although that way may not be obvious at first unless you&#39;re Dutch.</span><br><span class="line">Now is better than never.</span><br><span class="line">Although never is often better than *right* now.</span><br><span class="line">If the implementation is hard to explain, it&#39;s a bad idea.</span><br><span class="line">If the implementation is easy to explain, it may be a good idea.</span><br><span class="line">Namespaces are one honking great idea -- let&#39;s do more of those!</span><br></pre></td></tr></table></figure><p>ç¿»è¯‘å’Œè§£é‡Š:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Pythonä¹‹ç¦… by Tim Peters</span><br><span class="line"></span><br><span class="line">ä¼˜ç¾èƒœäºä¸‘é™‹ï¼ˆPython ä»¥ç¼–å†™ä¼˜ç¾çš„ä»£ç ä¸ºç›®æ ‡ï¼‰</span><br><span class="line">æ˜äº†èƒœäºæ™¦æ¶©ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ˜äº†çš„ï¼Œå‘½åè§„èŒƒï¼Œé£æ ¼ç›¸ä¼¼ï¼‰</span><br><span class="line">ç®€æ´èƒœäºå¤æ‚ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯ç®€æ´çš„ï¼Œä¸è¦æœ‰å¤æ‚çš„å†…éƒ¨å®ç°ï¼‰</span><br><span class="line">å¤æ‚èƒœäºå‡Œä¹±ï¼ˆå¦‚æœå¤æ‚ä¸å¯é¿å…ï¼Œé‚£ä»£ç é—´ä¹Ÿä¸èƒ½æœ‰éš¾æ‡‚çš„å…³ç³»ï¼Œè¦ä¿æŒæ¥å£ç®€æ´ï¼‰</span><br><span class="line">æ‰å¹³èƒœäºåµŒå¥—ï¼ˆä¼˜ç¾çš„ä»£ç åº”å½“æ˜¯æ‰å¹³çš„ï¼Œä¸èƒ½æœ‰å¤ªå¤šçš„åµŒå¥—ï¼‰</span><br><span class="line">é—´éš”èƒœäºç´§å‡‘ï¼ˆä¼˜ç¾çš„ä»£ç æœ‰é€‚å½“çš„é—´éš”ï¼Œä¸è¦å¥¢æœ›ä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼‰</span><br><span class="line">å¯è¯»æ€§å¾ˆé‡è¦ï¼ˆä¼˜ç¾çš„ä»£ç æ˜¯å¯è¯»çš„ï¼‰</span><br><span class="line">å³ä¾¿å‡å€Ÿç‰¹ä¾‹çš„å®ç”¨æ€§ä¹‹åï¼Œä¹Ÿä¸å¯è¿èƒŒè¿™äº›è§„åˆ™ï¼ˆè¿™äº›è§„åˆ™è‡³é«˜æ— ä¸Šï¼‰</span><br><span class="line">ä¸è¦åŒ…å®¹æ‰€æœ‰é”™è¯¯ï¼Œé™¤éä½ ç¡®å®šéœ€è¦è¿™æ ·åšï¼ˆç²¾å‡†åœ°æ•è·å¼‚å¸¸ï¼Œä¸å†™ except:pass é£æ ¼çš„ä»£ç ï¼‰</span><br><span class="line">å½“å­˜åœ¨å¤šç§å¯èƒ½ï¼Œä¸è¦å°è¯•å»çŒœæµ‹</span><br><span class="line">è€Œæ˜¯å°½é‡æ‰¾ä¸€ç§ï¼Œæœ€å¥½æ˜¯å”¯ä¸€ä¸€ç§æ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœä¸ç¡®å®šï¼Œå°±ç”¨ç©·ä¸¾æ³•ï¼‰</span><br><span class="line">è™½ç„¶è¿™å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä½ ä¸æ˜¯ Python ä¹‹çˆ¶ï¼ˆè¿™é‡Œçš„ Dutch æ˜¯æŒ‡ Guido ï¼‰</span><br><span class="line">åšä¹Ÿè®¸å¥½è¿‡ä¸åšï¼Œä½†ä¸å‡æ€ç´¢å°±åŠ¨æ‰‹è¿˜ä¸å¦‚ä¸åšï¼ˆåŠ¨æ‰‹ä¹‹å‰è¦ç»†æ€é‡ï¼‰</span><br><span class="line">å¦‚æœä½ æ— æ³•å‘äººæè¿°ä½ çš„æ–¹æ¡ˆï¼Œé‚£è‚¯å®šä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ¡ˆï¼›åä¹‹äº¦ç„¶ï¼ˆæ–¹æ¡ˆæµ‹è¯„æ ‡å‡†ï¼‰</span><br><span class="line">å‘½åç©ºé—´æ˜¯ä¸€ç§ç»å¦™çš„ç†å¿µï¼Œæˆ‘ä»¬åº”å½“å¤šåŠ åˆ©ç”¨ï¼ˆå€¡å¯¼ä¸å·å¬ï¼‰</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Pythonä¹‹ç¦…
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
  <entry>
    <title>Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹</title>
    <link href="https://shuke163.github.io/2020/04/23/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
    <id>https://shuke163.github.io/2020/04/23/Python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/</id>
    <published>2020-04-23T08:11:14.000Z</published>
    <updated>2020-04-23T08:11:33.826Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹"><a href="#Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹" class="headerlink" title="Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹"></a>Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹</h2><blockquote><p>é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹ï¼ˆé¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼‰éƒ½æ˜¯ç¨‹åºè®¾è®¡çš„æ–¹æ³•ï¼Œä¸è¿‡ç¨æœ‰åŒºåˆ«</p></blockquote><h3 id="é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹åŒºåˆ«"><a href="#é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹åŒºåˆ«" class="headerlink" title="é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹åŒºåˆ«"></a>é¢å‘è¿‡ç¨‹ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹åŒºåˆ«</h3><ol><li>é¢å‘è¿‡ç¨‹ç¼–ç¨‹:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. å¯¼å…¥å„ç§å¤–éƒ¨åº“</span><br><span class="line">2. è®¾è®¡å„ç§å…¨å±€å˜é‡</span><br><span class="line">3. å†™ä¸€ä¸ªå‡½æ•°å®ŒæˆæŸä¸ªåŠŸèƒ½</span><br><span class="line">4. å†™ä¸€ä¸ªå‡½æ•°å®ŒæˆæŸä¸ªåŠŸèƒ½</span><br><span class="line">5. å†™ä¸€ä¸ªå‡½æ•°å®ŒæˆæŸä¸ªåŠŸèƒ½</span><br><span class="line">6. å†™ä¸€ä¸ªå‡½æ•°å®ŒæˆæŸä¸ªåŠŸèƒ½</span><br><span class="line">7. å†™ä¸€ä¸ªå‡½æ•°å®ŒæˆæŸä¸ªåŠŸèƒ½</span><br><span class="line">8. ......</span><br><span class="line">9. å†™ä¸€ä¸ªmainå‡½æ•°ä½œä¸ºç¨‹åºå…¥å£</span><br></pre></td></tr></table></figure>åœ¨å¤šå‡½æ•°ç¨‹åºä¸­ï¼Œè®¸å¤šé‡è¦çš„æ•°æ®è¢«æ”¾ç½®åœ¨å…¨å±€æ•°æ®åŒºï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥è¢«æ‰€æœ‰çš„å‡½æ•°è®¿é—®ã€‚æ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥å…·æœ‰å®ƒä»¬è‡ªå·±çš„å±€éƒ¨æ•°æ®ï¼Œå°†æŸäº›åŠŸèƒ½ä»£ç å°è£…åˆ°å‡½æ•°ä¸­ï¼Œæ—¥åä¾¿æ— éœ€é‡å¤ç¼–å†™ï¼Œä»…è°ƒç”¨å‡½æ•°å³å¯ã€‚ä»ä»£ç çš„ç»„ç»‡å½¢å¼æ¥çœ‹å°±æ˜¯æ ¹æ®ä¸šåŠ¡é€»è¾‘ä»ä¸Šåˆ°ä¸‹å’ä»£ç ,ç¨‹åºä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œ.</li><li>é¢å‘å¯¹è±¡ç¼–ç¨‹:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. å¯¼å…¥å„ç§å¤–éƒ¨åº“</span><br><span class="line">2. è®¾è®¡å„ç§å…¨å±€å˜é‡</span><br><span class="line">3. å†³å®šä½ è¦çš„ç±»</span><br><span class="line">4. ç»™æ¯ä¸ªç±»æä¾›å®Œæ•´çš„ä¸€ç»„æ“ä½œ</span><br><span class="line">5. æ˜ç¡®åœ°ä½¿ç”¨ç»§æ‰¿æ¥è¡¨ç°ä¸åŒç±»ä¹‹é—´çš„å…±åŒç‚¹</span><br><span class="line">6. æ ¹æ®éœ€è¦ï¼Œå†³å®šæ˜¯å¦å†™ä¸€ä¸ªmainå‡½æ•°ä½œä¸ºç¨‹åºå…¥å£</span><br></pre></td></tr></table></figure>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå°†å‡½æ•°å’Œå˜é‡è¿›ä¸€æ­¥å°è£…æˆç±»ï¼Œç±»æ‰æ˜¯ç¨‹åºçš„åŸºæœ¬å…ƒç´ ï¼Œå®ƒå°†æ•°æ®å’Œæ“ä½œç´§å¯†åœ°è¿ç»“åœ¨ä¸€èµ·ï¼Œå¹¶ä¿æŠ¤æ•°æ®ä¸ä¼šè¢«å¤–ç•Œçš„å‡½æ•°æ„å¤–åœ°æ”¹å˜ã€‚ç±»å’Œå’Œç±»çš„å®ä¾‹(ä¹Ÿç§°å¯¹è±¡)æ˜¯é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæ¦‚å¿µï¼Œæ˜¯å’Œé¢å‘è¿‡ç¨‹ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹çš„æ ¹æœ¬åŒºåˆ«ã€‚</li></ol><p>âš ï¸ å¹¶ä¸æ˜¯éè¦ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œè¦çœ‹ä½ çš„ç¨‹åºæ€ä¹ˆè®¾è®¡æ–¹ä¾¿ï¼Œä½†æ˜¯å°±ç›®å‰æ¥è¯´ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚</p><h3 id="ç±»çš„åŸºæœ¬ç”¨æ³•"><a href="#ç±»çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="ç±»çš„åŸºæœ¬ç”¨æ³•"></a>ç±»çš„åŸºæœ¬ç”¨æ³•</h3><p>é¢å‘å¯¹è±¡æ˜¯é€šè¿‡å®šä¹‰classç±»æ¥å®šä¹‰ï¼Œè¿™ä¹ˆè¯´é¢å‘å¯¹è±¡ç¼–ç¨‹å°±æ˜¯åªä½¿ç”¨classç±»ï¼Œåœ¨classç±»ä¸­æœ‰å°è£…ï¼Œç»§æ‰¿çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ„é€ è¦ä¼ å…¥çš„å‚æ•°ï¼Œæ–¹ä¾¿æ§åˆ¶ã€‚</p><h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import time</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line"></span><br><span class="line">class studetn:</span><br><span class="line">    # å®šä¹‰ä¸€ä¸ªç±»åä¸ºstudetn</span><br><span class="line">    def __init__(self,idx):</span><br><span class="line">    # å®šä¹‰åˆå§‹åŒ–æ„é€ ï¼Œè¿™é‡Œä½¿ç”¨initï¼Œè¿˜æœ‰åˆ«çš„å±æ€§æ¯”å¦‚reversedï¼Œiterä¹‹ç±»çš„</span><br><span class="line">        self.idx&#x3D;idx</span><br><span class="line">        self.age &#x3D; 18</span><br><span class="line">        # åˆå§‹åŒ–å˜é‡ï¼Œæ–¹ä¾¿ç»§æ‰¿</span><br><span class="line">        </span><br><span class="line">    def runx(self):</span><br><span class="line">    # å®šä¹‰è¿è¡Œå‡½æ•°ï¼Œä»ä¸Šé¢ç»§æ‰¿å˜é‡</span><br><span class="line">        print(self.idx)</span><br><span class="line">        time.sleep(1)</span><br><span class="line"></span><br><span class="line"># è¿™æ˜¯ç±»çš„è°ƒç”¨ï¼Œä¸€å®šè¦è®°å¾—ç±»çš„ä½¿ç”¨æ–¹æ³•ï¼Œé¦–å…ˆä¼ å…¥å‚æ•°ï¼Œç±»èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡a</span><br><span class="line"># ç„¶åè°ƒç”¨è¿™ä¸ªç±»ä¸‹é¢å®šä¹‰çš„å‡½æ•°        </span><br><span class="line">a&#x3D;studetn(&#39;a&#39;)</span><br><span class="line">a.runx()</span><br></pre></td></tr></table></figure><p>æœ¯è¯­ä»‹ç»:</p><ol><li>ç±»(Class): ç”¨æ¥æè¿°å…·æœ‰ç›¸åŒå±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å…¶ä¸­çš„å¯¹è±¡è¢«ç§°ä½œç±»çš„å®ä¾‹ã€‚</li><li>å®ä¾‹ï¼šä¹Ÿç§°å¯¹è±¡ã€‚é€šè¿‡ç±»å®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œèµ‹äºˆå…·ä½“çš„å€¼ï¼Œæˆä¸ºä¸€ä¸ªâ€æœ‰è¡€æœ‰è‚‰çš„å®ä½“â€ã€‚</li><li>å®ä¾‹åŒ–ï¼šåˆ›å»ºç±»çš„å®ä¾‹çš„è¿‡ç¨‹æˆ–æ“ä½œã€‚</li><li>å®ä¾‹å˜é‡ï¼šå®šä¹‰åœ¨å®ä¾‹ä¸­çš„å˜é‡ï¼Œåªä½œç”¨äºå½“å‰å®ä¾‹ã€‚</li><li>ç±»å˜é‡ï¼šç±»å˜é‡æ˜¯æ‰€æœ‰å®ä¾‹å…¬æœ‰çš„å˜é‡ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ï¼Œä½†åœ¨æ–¹æ³•ä½“ä¹‹å¤–ã€‚</li><li>æ•°æ®æˆå‘˜ï¼šç±»å˜é‡ã€å®ä¾‹å˜é‡ã€æ–¹æ³•ã€ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•å’Œå±æ€§ç­‰çš„ç»Ÿç§°ã€‚</li><li>æ–¹æ³•ï¼šç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚</li><li>é™æ€æ–¹æ³•ï¼šä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥ç”±ç±»æ‰§è¡Œçš„æ–¹æ³•</li><li>ç±»æ–¹æ³•ï¼šç±»æ–¹æ³•æ˜¯å°†ç±»æœ¬èº«ä½œä¸ºå¯¹è±¡è¿›è¡Œæ“ä½œçš„æ–¹æ³•ã€‚</li><li>æ–¹æ³•é‡å†™ï¼šå¦‚æœä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹çˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°overrideã€‚</li><li>å°è£…ï¼šå°†å†…éƒ¨å®ç°åŒ…è£¹èµ·æ¥ï¼Œå¯¹å¤–é€æ˜ï¼Œæä¾›apiæ¥å£è¿›è¡Œè°ƒç”¨çš„æœºåˆ¶</li><li>ç»§æ‰¿ï¼šå³ä¸€ä¸ªæ´¾ç”Ÿç±»(derived class)ç»§æ‰¿çˆ¶ç±»(base class)çš„å˜é‡å’Œæ–¹æ³•ã€‚</li><li>å¤šæ€ï¼šæ ¹æ®å¯¹è±¡ç±»å‹çš„ä¸åŒä»¥ä¸åŒçš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚</li></ol><h4 id="ç±»ä¸å®ä¾‹"><a href="#ç±»ä¸å®ä¾‹" class="headerlink" title="ç±»ä¸å®ä¾‹"></a>ç±»ä¸å®ä¾‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#! &#x2F;usr&#x2F;bin&#x2F;env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">@author: shuke</span><br><span class="line">@file: ec2.py </span><br><span class="line">@time: 2019&#x2F;03&#x2F;14 10:52</span><br><span class="line">@contact: zhaofengfeng@wecash.net</span><br><span class="line">@software:  learn</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line">import time</span><br><span class="line">import requests</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line"></span><br><span class="line">class cc:</span><br><span class="line">    ccc &#x3D; &#39;ccc&#39;</span><br><span class="line">    # ccå°±æ˜¯ç±»å å¦‚æœæƒ³è¦ç»§æ‰¿åˆ«çš„ç±» å°±class cc(threading) æ„æ€å°±æ˜¯ä»threadingç»§æ‰¿</span><br><span class="line">    def __init__(self,a,b,c):</span><br><span class="line">        self.a&#x3D;a</span><br><span class="line">        self.b&#x3D;b</span><br><span class="line">        self.c&#x3D;c</span><br><span class="line">        # å®šä¹‰æ„é€ çš„è¿‡ç¨‹å°±æ˜¯å®ä¾‹åŒ–</span><br><span class="line">    def runx(self):</span><br><span class="line">        print self.a*10</span><br><span class="line">        print self.b*5</span><br><span class="line">        print self.c*2</span><br><span class="line">    def runy(self):</span><br><span class="line">        print requests.get(&#39;http:&#x2F;&#x2F;www.langzi.fun&#39;).headers</span><br><span class="line">e &#x3D; cc(&#39;AAA&#39;,&#39;CCC&#39;,&#39;EEE&#39;)</span><br><span class="line">e.runx()</span><br><span class="line">e.runy()</span><br><span class="line"># è¿™ä¸¤ä¸ªå°±æ˜¯è°ƒç”¨ç±»é‡Œé¢çš„æ–¹æ³•</span><br><span class="line">print e.c</span><br><span class="line">#å®ä¾‹å˜é‡æŒ‡çš„æ˜¯å®ä¾‹æœ¬èº«æ‹¥æœ‰çš„å˜é‡ã€‚æ¯ä¸ªå®ä¾‹çš„å˜é‡åœ¨å†…å­˜ä¸­éƒ½ä¸ä¸€æ ·ã€‚</span><br><span class="line">print e.ccc</span><br><span class="line">#ç±»å˜é‡ï¼Œåœ¨ç±»é‡Œé¢æ‰¾åˆ°å®šä¹‰çš„å˜é‡ã€‚</span><br></pre></td></tr></table></figure><h4 id="è°ƒç”¨ç±»çš„ä¸‰ç§æ–¹æ³•"><a href="#è°ƒç”¨ç±»çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="è°ƒç”¨ç±»çš„ä¸‰ç§æ–¹æ³•"></a>è°ƒç”¨ç±»çš„ä¸‰ç§æ–¹æ³•</h4><ol><li>å®ä¾‹æ–¹æ³•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import time</span><br><span class="line">import requests</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line"></span><br><span class="line">class dd:</span><br><span class="line">    def __init__(self,url):</span><br><span class="line">        self.url&#x3D;url</span><br><span class="line">    def runx(self):</span><br><span class="line">        print requests.get(self.url).status_code</span><br><span class="line"></span><br><span class="line">a &#x3D; dd(&#39;http:&#x2F;&#x2F;www.langzi.fun&#39;)</span><br><span class="line">a.runx()</span><br><span class="line"># è¿™ç§è°ƒç”¨æ–¹æ³•å°±æ˜¯å®ä¾‹æ–¹æ³•</span><br></pre></td></tr></table></figure></li><li>é™æ€æ–¹æ³•<blockquote><p>é™æ€æ–¹æ³•ç”±ç±»è°ƒç”¨ï¼Œæ— é»˜è®¤å‚æ•°ã€‚å°†å®ä¾‹æ–¹æ³•å‚æ•°ä¸­çš„selfå»æ‰ï¼Œç„¶ååœ¨æ–¹æ³•å®šä¹‰ä¸Šæ–¹åŠ ä¸Š<code>@staticmethod</code>ï¼Œå°±æˆä¸ºé™æ€æ–¹æ³•ã€‚å®ƒå±äºç±»ï¼Œå’Œå®ä¾‹æ— å…³ã€‚å»ºè®®åªä½¿ç”¨ç±»å.é™æ€æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ã€‚ï¼ˆè™½ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å®ä¾‹å.é™æ€æ–¹æ³•çš„æ–¹å¼è°ƒç”¨ï¼‰</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import requests</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line">class ff:</span><br><span class="line">    @staticmethod</span><br><span class="line">    def runx():</span><br><span class="line">        print requests.get(&#39;http:&#x2F;&#x2F;www.langzi.fun&#39;).status_code</span><br><span class="line">ff.runx()</span><br><span class="line">#è¿™é‡Œå°±ç›´æ¥è°ƒç”¨äº†ç±»çš„å˜é‡ï¼Œåªåœ¨ç±»ä¸­è¿è¡Œè€Œä¸åœ¨å®ä¾‹ä¸­è¿è¡Œçš„æ–¹æ³•</span><br></pre></td></tr></table></figure>ç»å¸¸æœ‰ä¸€äº›è·Ÿç±»æœ‰å…³ç³»çš„åŠŸèƒ½ä½†åœ¨è¿è¡Œæ—¶åˆä¸éœ€è¦å®ä¾‹å’Œç±»å‚ä¸çš„æƒ…å†µä¸‹éœ€è¦ç”¨åˆ°é™æ€æ–¹æ³•. æ¯”å¦‚æ›´æ”¹ç¯å¢ƒå˜é‡æˆ–è€…ä¿®æ”¹å…¶ä»–ç±»çš„å±æ€§ç­‰èƒ½ç”¨åˆ°é™æ€æ–¹æ³•. è¿™ç§æƒ…å†µå¯ä»¥ç›´æ¥ç”¨å‡½æ•°è§£å†³, ä½†è¿™æ ·åŒæ ·ä¼šæ‰©æ•£ç±»å†…éƒ¨çš„ä»£ç ï¼Œé€ æˆç»´æŠ¤å›°éš¾ã€‚</li><li>ç±»æ–¹æ³•<blockquote><p>ç±»æ–¹æ³•ç”±ç±»è°ƒç”¨ï¼Œé‡‡ç”¨<code>@classmethod</code>è£…é¥°ï¼Œè‡³å°‘ä¼ å…¥ä¸€ä¸ªclsï¼ˆä»£æŒ‡ç±»æœ¬èº«ï¼Œç±»ä¼¼selfï¼‰å‚æ•°ã€‚æ‰§è¡Œç±»æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨å°†è°ƒç”¨è¯¥æ–¹æ³•çš„ç±»èµ‹å€¼ç»™clsã€‚å»ºè®®åªä½¿ç”¨ç±»å.ç±»æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ã€‚ï¼ˆè™½ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å®ä¾‹å.ç±»æ–¹æ³•çš„æ–¹å¼è°ƒç”¨ï¼‰<br>å¦‚æœè¦æ„é€ ä¸€ä¸ªç±»ï¼Œæ¥å—ä¸€ä¸ªç½‘ç«™å’Œè¿™ä¸ªç½‘ç«™çš„çŠ¶æ€ç ï¼Œç„¶åæ‰“å°å‡ºæ¥ã€‚å°±åƒè¿™æ ·ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import requests</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line">class gg:</span><br><span class="line">    def __init__(self,url,stat):</span><br><span class="line">        self.url&#x3D;url</span><br><span class="line">        self.stat&#x3D;stat</span><br><span class="line">    def outer(self):</span><br><span class="line">        print self.url</span><br><span class="line">        print self.stat</span><br><span class="line">a &#x3D; gg(&#39;langzi&#39;,200)</span><br><span class="line">a.outer()</span><br></pre></td></tr></table></figure>è¿™æ ·å°±æ˜¯ä½¿ç”¨å®ä¾‹æ–¹æ³•ï¼Œè™½ç„¶å¯ä»¥å®ç°ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™ä¼ å…¥çš„å‚æ•°å¹¶ä¸æ˜¯(â€˜shukeâ€™,200)è¿™æ ·çš„æ ¼å¼ï¼Œè€Œæ˜¯(â€˜shuke-200â€™)è¿™æ ·çš„ï¼Œé‚£è¯¥æ€ä¹ˆåšï¼Ÿé¦–å…ˆè¦æŠŠè¿™ä¸ªæ‹†åˆ†ï¼Œä½†æ˜¯è¦ä½¿ç”¨å®ä¾‹æ–¹æ³•å®ç°èµ·æ¥å¾ˆéº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ç±»æ–¹æ³•ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import requests</span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(&#39;utf-8&#39;)</span><br><span class="line">class gg:</span><br><span class="line">    url &#x3D; 0</span><br><span class="line">    stat &#x3D; 0</span><br><span class="line">    # å› ä¸ºä½¿ç”¨classmethodåä¼šä¼ å…¥æ–°çš„å˜é‡ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æ˜¯éœ€è¦è‡ªå·±å…ˆå®šä¹‰ç±»å˜é‡</span><br><span class="line">    def __init__(self,url&#x3D;0,stat&#x3D;0):</span><br><span class="line">    # è¿™é‡ŒæŒ‰ç…§æ­£å¸¸çš„å®šä¹‰æ„é€ å‡½æ•°</span><br><span class="line">        self.url&#x3D;url</span><br><span class="line">        self.stat&#x3D;stat</span><br><span class="line">    @classmethod</span><br><span class="line">    # è£…é¥°å™¨ï¼Œç«‹é©¬æ‰§è¡Œä¸‹é¢çš„å‡½æ•°</span><br><span class="line">    def split(cls,info):</span><br><span class="line">        # è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œé»˜è®¤çš„clså°±æ˜¯è¿™ä¸ªç±»çš„initå‡½æ•°ï¼Œinfoå°±æ˜¯å¤–é¢ä¼ å…¥è¿›æ¥çš„</span><br><span class="line">        url,stat&#x3D;map(str,info.split(&#39;-&#39;))</span><br><span class="line">        # è¿™é‡Œè½¬æ¢æˆäº†æ ¼å¼åŒ–çš„ç»“æ„</span><br><span class="line">        data &#x3D; cls(url,stat)</span><br><span class="line">        # ç„¶åæ‰§è¡Œè¿™ä¸ªç±»ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªç±»æ„é€ å‡½æ•°éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œäºæ˜¯å°±ä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°</span><br><span class="line">        return data</span><br><span class="line">        # è¿™é‡Œå°±ç›´æ¥è¿”å›äº†å‡½æ•°ç»“æœ</span><br><span class="line">    def outer(self):</span><br><span class="line">        print self.url</span><br><span class="line">        print self.stat</span><br><span class="line"></span><br><span class="line">r &#x3D; gg.split((&#39;langzi-200&#39;))</span><br><span class="line">r.outer()</span><br><span class="line"># è¿™é‡Œæ˜¯è°ƒç”¨ç±»æ–¹æ³•ï¼Œä¸è°ƒç”¨å®ä¾‹æ–¹æ³•ä¸€æ ·</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç±»çš„ç‰¹æ€§"><a href="#ç±»çš„ç‰¹æ€§" class="headerlink" title="ç±»çš„ç‰¹æ€§"></a>ç±»çš„ç‰¹æ€§</h3><h4 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h4><blockquote><p>å°è£…æ˜¯æŒ‡å°†æ•°æ®ä¸å…·ä½“æ“ä½œçš„å®ç°ä»£ç æ”¾åœ¨æŸä¸ªå¯¹è±¡å†…éƒ¨ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ã€‚å¿…é¡»è¦å…ˆè°ƒç”¨ç±»çš„æ–¹æ³•æ‰èƒ½å¯åŠ¨ã€‚</p></blockquote><ol><li>Example<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class cc:</span><br><span class="line">    ccc &#x3D; &#39;ccc&#39;</span><br><span class="line">    # ccå°±æ˜¯ç±»å å¦‚æœæƒ³è¦ç»§æ‰¿åˆ«çš„ç±» å°±class cc(threading) æ„æ€å°±æ˜¯ä»threadingç»§æ‰¿</span><br><span class="line">    def __init__(self,a,b,c):</span><br><span class="line">        self.a&#x3D;a</span><br><span class="line">        self.b&#x3D;b</span><br><span class="line">        self.c&#x3D;c</span><br><span class="line">print e.ccc</span><br><span class="line">#ç±»å˜é‡ï¼Œåœ¨ç±»é‡Œé¢æ‰¾åˆ°å®šä¹‰çš„å˜é‡ã€‚</span><br><span class="line">print ccc</span><br><span class="line"># è¿™é‡Œä¼šæŠ¥é”™ï¼Œè¿™å°±æ˜¯å°è£…ã€‚ç±»ä¸­çš„å‡½æ•°åŒç†ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><blockquote><p>å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œå¯ä»¥ä»æŸä¸ªç°æœ‰çš„classç»§æ‰¿ï¼Œæ–°çš„classç§°ä¸ºå­ç±»ï¼ˆSubclassï¼‰ï¼Œè€Œè¢«ç»§æ‰¿çš„classç§°ä¸ºåŸºç±»ã€çˆ¶ç±»æˆ–è¶…ç±»ï¼ˆBase classã€Super classï¼‰ã€‚<br>æ¯”å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªåä¸ºAnimalçš„classï¼Œæœ‰ä¸€ä¸ªrun()æ–¹æ³•å¯ä»¥ç›´æ¥æ‰“å°ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    def run(self):</span><br><span class="line">        print &#39;Animal is running...&#39;</span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬éœ€è¦ç¼–å†™Dogå’ŒCatç±»æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»Animalç±»ç»§æ‰¿ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Dog(Animal):</span><br><span class="line">    pass</span><br><span class="line">class Cat(Animal):</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>ç»§æ‰¿æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯å­ç±»è·å¾—äº†çˆ¶ç±»çš„å…¨éƒ¨åŠŸèƒ½ã€‚ç”±äºAnimialå®ç°äº†run()æ–¹æ³•ï¼Œå› æ­¤ï¼ŒDogå’ŒCatä½œä¸ºå®ƒçš„å­ç±»ï¼Œä»€ä¹ˆäº‹ä¹Ÿæ²¡å¹²ï¼Œå°±è‡ªåŠ¨æ‹¥æœ‰äº†run()æ–¹æ³•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dog &#x3D; Dog()</span><br><span class="line">dog.run()</span><br><span class="line">cat &#x3D; Cat()</span><br><span class="line">cat.run()</span><br></pre></td></tr></table></figure>å½“å­ç±»å’Œçˆ¶ç±»éƒ½å­˜åœ¨ç›¸åŒçš„run()æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬è¯´ï¼Œå­ç±»çš„run()è¦†ç›–äº†çˆ¶ç±»çš„run()ï¼Œåœ¨ä»£ç è¿è¡Œçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šè°ƒç”¨å­ç±»çš„run()ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—äº†ç»§æ‰¿çš„å¦ä¸€ä¸ªå¥½å¤„: å¤šæ€ã€‚<h4 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h4><blockquote><p>è¦ç†è§£å¤šæ€çš„å¥½å¤„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªAnimalç±»å‹çš„å˜é‡ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def run_twice(animal):</span><br><span class="line">    animal.run()</span><br><span class="line">    animal.run()</span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬ä¼ å…¥Animalçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡ºï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">run_twice(Animal())</span><br><span class="line">è¿è¡Œç»“æœï¼š</span><br><span class="line">Animal is running...</span><br><span class="line">Animal is running...</span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬ä¼ å…¥Dogçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡º:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">run_twice(Dog())</span><br><span class="line">è¿è¡Œç»“æœï¼š</span><br><span class="line">Dog is running...</span><br><span class="line">Dog is running...</span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬ä¼ å…¥Catçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡ºï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">run_twice(Cat())</span><br><span class="line">è¿è¡Œç»“æœï¼š</span><br><span class="line">Cat is running...</span><br><span class="line">Cat is running...</span><br></pre></td></tr></table></figure>çœ‹ä¸Šå»æ²¡å•¥æ„æ€ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªTortoiseç±»å‹ï¼Œä¹Ÿä»Animalæ´¾ç”Ÿï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Tortoise(Animal):</span><br><span class="line">    def run(self):</span><br><span class="line">        print &#39;Tortoise is running slowly...&#39;</span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬è°ƒç”¨run_twice()æ—¶ï¼Œä¼ å…¥Tortoiseçš„å®ä¾‹:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">run_twice(Tortoise())</span><br><span class="line">è¿è¡Œç»“æœï¼š</span><br><span class="line">Tortoise is running slowly...</span><br><span class="line">Tortoise is running slowly...</span><br></pre></td></tr></table></figure></li><li>ä½ ä¼šå‘ç°ï¼Œæ–°å¢ä¸€ä¸ªAnimalçš„å­ç±»ï¼Œä¸å¿…å¯¹run_twice()åšä»»ä½•ä¿®æ”¹ï¼Œå®é™…ä¸Šï¼Œä»»ä½•ä¾èµ–Animalä½œä¸ºå‚æ•°çš„å‡½æ•°æˆ–è€…æ–¹æ³•éƒ½å¯ä»¥ä¸åŠ ä¿®æ”¹åœ°æ­£å¸¸è¿è¡Œï¼ŒåŸå› å°±åœ¨äºå¤šæ€ã€‚</li><li>å¤šæ€çš„å¥½å¤„å°±æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¼ å…¥Dogã€Catã€Tortoiseâ€¦â€¦æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ¥æ”¶Animalç±»å‹å°±å¯ä»¥äº†ï¼Œå› ä¸ºDogã€Catã€Tortoiseâ€¦â€¦éƒ½æ˜¯Animalç±»å‹ï¼Œç„¶åï¼ŒæŒ‰ç…§Animalç±»å‹è¿›è¡Œæ“ä½œå³å¯ã€‚ç”±äºAnimalç±»å‹æœ‰run()æ–¹æ³•ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„ä»»æ„ç±»å‹ï¼Œåªè¦æ˜¯Animalç±»æˆ–è€…å­ç±»ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®é™…ç±»å‹çš„run()æ–¹æ³•ï¼Œè¿™å°±æ˜¯å¤šæ€çš„æ„æ€.</li><li>å¯¹äºä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒæ˜¯Animalç±»å‹ï¼Œæ— éœ€ç¡®åˆ‡åœ°çŸ¥é“å®ƒçš„å­ç±»å‹ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°è°ƒç”¨run()æ–¹æ³•ï¼Œè€Œå…·ä½“è°ƒç”¨çš„run()æ–¹æ³•æ˜¯ä½œç”¨åœ¨Animalã€Dogã€Catè¿˜æ˜¯Tortoiseå¯¹è±¡ä¸Šï¼Œç”±è¿è¡Œæ—¶è¯¥å¯¹è±¡çš„ç¡®åˆ‡ç±»å‹å†³å®šï¼Œè¿™å°±æ˜¯å¤šæ€çœŸæ­£çš„å¨åŠ›ï¼šè°ƒç”¨æ–¹åªç®¡è°ƒç”¨ï¼Œä¸ç®¡ç»†èŠ‚ï¼Œè€Œå½“æˆ‘ä»¬æ–°å¢ä¸€ç§Animalçš„å­ç±»æ—¶ï¼Œåªè¦ç¡®ä¿run()æ–¹æ³•ç¼–å†™æ­£ç¡®ï¼Œä¸ç”¨ç®¡åŸæ¥çš„ä»£ç æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚è¿™å°±æ˜¯è‘—åçš„â€œå¼€é—­â€åŸåˆ™</li></ol><ul><li>å¯¹æ‰©å±•å¼€æ”¾ï¼šå…è®¸æ–°å¢Animalå­ç±»</li><li>å¯¹ä¿®æ”¹å°é—­ï¼šä¸éœ€è¦ä¿®æ”¹ä¾èµ–Animalç±»å‹çš„run_twice()ç­‰å‡½æ•°<br>âš ï¸ æ€»ç»“: </li></ul><ol><li>ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½éƒ½ç›´æ¥æ‹¿è¿‡æ¥ï¼Œè¿™æ ·å°±ä¸å¿…é‡é›¶åšèµ·ï¼Œå­ç±»åªéœ€è¦æ–°å¢è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŠŠçˆ¶ç±»ä¸é€‚åˆçš„æ–¹æ³•è¦†ç›–é‡å†™ï¼›</li><li>æœ‰äº†ç»§æ‰¿ï¼Œæ‰èƒ½æœ‰å¤šæ€ã€‚åœ¨è°ƒç”¨ç±»å®ä¾‹æ–¹æ³•çš„æ—¶å€™ï¼Œå°½é‡æŠŠå˜é‡è§†ä½œçˆ¶ç±»ç±»å‹ï¼Œè¿™æ ·ï¼Œæ‰€æœ‰å­ç±»ç±»å‹éƒ½å¯ä»¥æ­£å¸¸è¢«æ¥æ”¶ï¼›</li><li>æ—§çš„æ–¹å¼å®šä¹‰Pythonç±»å…è®¸ä¸ä»objectç±»ç»§æ‰¿ï¼Œä½†è¿™ç§ç¼–ç¨‹æ–¹å¼å·²ç»ä¸¥é‡ä¸æ¨èä½¿ç”¨ã€‚ä»»ä½•æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ç±»å¯ä»¥ç»§æ‰¿ï¼Œå°±ç»§æ‰¿è‡ªobjectç±»ã€‚</li></ol><h3 id="é­”æ³•æ–¹æ³•"><a href="#é­”æ³•æ–¹æ³•" class="headerlink" title="é­”æ³•æ–¹æ³•"></a>é­”æ³•æ–¹æ³•</h3><p>åœ¨ä¸Šé¢æœ‰æåˆ°é™¤äº†<strong>init</strong>ä¹‹å¤–è¿˜æœ‰iter,reverseçš„æ–¹æ³•ï¼Œè¿™é‡Œå°±è¯¦ç»†è¯´ä¸‹é™¤äº†initåˆå§‹åŒ–è¿˜æœ‰å“ªäº›åˆ«çš„æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">__init__ :      æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨</span><br><span class="line">__del__ :       ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨</span><br><span class="line">__repr__ :      æ‰“å°ï¼Œè½¬æ¢</span><br><span class="line">__setitem__ :   æŒ‰ç…§ç´¢å¼•èµ‹å€¼</span><br><span class="line">__getitem__:    æŒ‰ç…§ç´¢å¼•è·å–å€¼</span><br><span class="line">__len__:        è·å¾—é•¿åº¦</span><br><span class="line">__cmp__:        æ¯”è¾ƒè¿ç®—</span><br><span class="line">__call__:       è°ƒç”¨</span><br><span class="line">__add__:        åŠ è¿ç®—</span><br><span class="line">__sub__:        å‡è¿ç®—</span><br><span class="line">__mul__:        ä¹˜è¿ç®—</span><br><span class="line">__div__:        é™¤è¿ç®—</span><br><span class="line">__mod__:        æ±‚ä½™è¿ç®—</span><br><span class="line">__pow__:        å¹‚</span><br><span class="line">__doc__:        æ–‡æ¡£å’Œä¿¡æ¯</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h4><ol><li><strong>doc</strong><br>è¯´æ˜æ€§æ–‡æ¡£å’Œä¿¡æ¯ã€‚Pythonè‡ªå»ºï¼Œæ— éœ€è‡ªå®šä¹‰ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    &quot;&quot;&quot; æè¿°ç±»ä¿¡æ¯ï¼Œå¯è¢«è‡ªåŠ¨æ”¶é›† &quot;&quot;&quot;</span><br><span class="line">    def func(self):</span><br><span class="line">        pass</span><br><span class="line"># æ‰“å°ç±»çš„è¯´æ˜æ–‡æ¡£ </span><br><span class="line">print(Foo.__doc__)</span><br></pre></td></tr></table></figure></li><li><strong>init</strong>()<br>å®ä¾‹åŒ–æ–¹æ³•ï¼Œé€šè¿‡ç±»åˆ›å»ºå®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ‰§è¡Œã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">        self.age &#x3D; 18</span><br><span class="line">obj &#x3D; Foo(&#39;jack&#39;) # è‡ªåŠ¨æ‰§è¡Œç±»ä¸­çš„ __init__ æ–¹æ³•</span><br></pre></td></tr></table></figure></li><li><strong>module</strong> å’Œ <strong>class</strong><br>module è¡¨ç¤ºå½“å‰æ“ä½œçš„å¯¹è±¡åœ¨å±äºå“ªä¸ªæ¨¡å—ã€‚<br>class è¡¨ç¤ºå½“å‰æ“ä½œçš„å¯¹è±¡å±äºå“ªä¸ªç±»ã€‚<br>è¿™ä¸¤è€…ä¹Ÿæ˜¯Pythonå†…å»ºï¼Œæ— éœ€è‡ªå®šä¹‰ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    pass</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">print(obj.__module__)</span><br><span class="line">print(obj.__class__)</span><br></pre></td></tr></table></figure></li><li><strong>del</strong>()<blockquote><p>ææ„æ–¹æ³•ï¼Œå½“å¯¹è±¡åœ¨å†…å­˜ä¸­è¢«é‡Šæ”¾æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ­¤æ–¹æ³•ã€‚<br>æ³¨ï¼šæ­¤æ–¹æ³•ä¸€èˆ¬æ— é¡»è‡ªå®šä¹‰ï¼Œå› ä¸ºPythonè‡ªå¸¦å†…å­˜åˆ†é…å’Œé‡Šæ”¾æœºåˆ¶ï¼Œé™¤éä½ éœ€è¦åœ¨é‡Šæ”¾çš„æ—¶å€™æŒ‡å®šåšä¸€äº›åŠ¨ä½œã€‚ææ„å‡½æ•°çš„è°ƒç”¨æ˜¯ç”±è§£é‡Šå™¨åœ¨è¿›è¡Œåƒåœ¾å›æ”¶æ—¶è‡ªåŠ¨è§¦å‘æ‰§è¡Œçš„ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __del__(self):</span><br><span class="line">        print(&quot;æˆ‘è¢«å›æ”¶äº†ï¼&quot;)</span><br><span class="line"></span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">del obj</span><br></pre></td></tr></table></figure></li><li><strong>call</strong>()<blockquote><p>æ„é€ æ–¹æ³•çš„æ‰§è¡Œæ˜¯ç”±ç±»åŠ æ‹¬å·æ‰§è¡Œçš„ï¼Œå³ï¼šå¯¹è±¡ = ç±»å()ï¼Œè€Œå¯¹äºcall() æ–¹æ³•ï¼Œæ˜¯ç”±å¯¹è±¡ååŠ æ‹¬å·è§¦å‘çš„ï¼Œå³ï¼šå¯¹è±¡() æˆ–è€… ç±»()()<br>å¦‚æœä¸ºä¸€ä¸ªç±»ç¼–å†™äº†è¯¥æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è¯¥ç±»çš„å®ä¾‹åé¢åŠ æ‹¬å·ï¼Œå¯ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        pass</span><br><span class="line">    def __call__(self, *args, **kwargs):</span><br><span class="line">        print(&#39;__call__&#39;)</span><br><span class="line">obj &#x3D; Foo()     # æ‰§è¡Œ __init__</span><br><span class="line">obj()       # æ‰§è¡Œ __call__</span><br></pre></td></tr></table></figure>å¯ä»¥ç”¨Pythonå†…å»ºçš„callable()å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯ä»¥è¢«æ‰§è¡Œã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">callable(Student())</span><br><span class="line">è¿è¡Œç»“æœï¼š</span><br><span class="line">True</span><br></pre></td></tr></table></figure></li><li><strong>dict</strong><br>åˆ—å‡ºç±»æˆ–å¯¹è±¡ä¸­çš„æ‰€æœ‰æˆå‘˜ï¼éå¸¸é‡è¦å’Œæœ‰ç”¨çš„ä¸€ä¸ªå±æ€§ï¼ŒPythonè‡ªå»ºï¼Œæ— éœ€ç”¨æˆ·è‡ªå·±å®šä¹‰ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Province:</span><br><span class="line">    country &#x3D; &#39;China&#39;</span><br><span class="line">    def __init__(self, name, count):</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">        self.count &#x3D; count</span><br><span class="line">    def func(self, *args, **kwargs):</span><br><span class="line">        printï¼ˆ&#39;func&#39;ï¼‰</span><br><span class="line"># è·å–ç±»çš„æˆå‘˜</span><br><span class="line">print(Province.__dict__)</span><br><span class="line"># è·å– å¯¹è±¡obj1 çš„æˆå‘˜ </span><br><span class="line">obj1 &#x3D; Province(&#39;HeBei&#39;,10000)</span><br><span class="line">print(obj1.__dict__)</span><br><span class="line"># è·å– å¯¹è±¡obj2 çš„æˆå‘˜ </span><br><span class="line">obj2 &#x3D; Province(&#39;HeNan&#39;, 3888)</span><br><span class="line">print(obj2.__dict__)</span><br></pre></td></tr></table></figure></li><li><strong>str</strong>()</li></ol><p>å¦‚æœä¸€ä¸ªç±»ä¸­å®šä¹‰äº†str()æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨æ‰“å°å¯¹è±¡æ—¶ï¼Œé»˜è®¤è¾“å‡ºè¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±å®šä¹‰ã€‚ã€€<br>ä¸‹é¢çš„ç±»ï¼Œæ²¡æœ‰å®šä¹‰str()æ–¹æ³•ï¼Œæ‰“å°ç»“æœæ˜¯ï¼š&lt;main.Foo object at 0x32io4u2389572394885&gt;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    pass</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">print(obj)</span><br><span class="line">å®šä¹‰äº†__str__()æ–¹æ³•åï¼Œæ‰“å°ç»“æœæ˜¯ï¼š&#39;jack&#39;ã€‚</span><br><span class="line">class Foo:</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &#39;jack&#39;</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">print(obj)</span><br></pre></td></tr></table></figure><ol start="8"><li><strong>getitem</strong>()ã€<strong>setitem</strong>()ã€<strong>delitem</strong>()<br>å–å€¼ã€èµ‹å€¼ã€åˆ é™¤è¿™â€ä¸‰å‰‘å®¢â€çš„å¥—è·¯ï¼Œåœ¨Pythonä¸­ï¼Œæˆ‘ä»¬å·²ç»è§è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œæ¯”å¦‚å‰é¢çš„<code>@property</code>è£…é¥°å™¨ã€‚<br>Pythonä¸­ï¼Œæ ‡è¯†ç¬¦åé¢åŠ åœ†æ‹¬å·ï¼Œé€šå¸¸ä»£è¡¨æ‰§è¡Œæˆ–è°ƒç”¨æ–¹æ³•çš„æ„æ€ã€‚è€Œåœ¨æ ‡è¯†ç¬¦åé¢åŠ ä¸­æ‹¬å·[]ï¼Œé€šå¸¸ä»£è¡¨å–å€¼çš„æ„æ€ã€‚Pythonè®¾è®¡äº†<code>getitem()ã€setitem()ã€delitem()</code>è¿™ä¸‰ä¸ªç‰¹æ®Šæˆå‘˜ï¼Œç”¨äºæ‰§è¡Œä¸ä¸­æ‹¬å·æœ‰å…³çš„åŠ¨ä½œã€‚å®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå–å€¼ã€èµ‹å€¼ã€åˆ é™¤æ•°<br>ä¹Ÿå°±æ˜¯å¦‚ä¸‹çš„æ“ä½œï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; æ ‡è¯†ç¬¦[]ã€€ï¼š ã€€ã€€æ‰§è¡Œ__getitem__æ–¹æ³•</span><br><span class="line">æ ‡è¯†ç¬¦[] &#x3D; a  ï¼š ã€€ã€€æ‰§è¡Œ__setitem__æ–¹æ³•</span><br><span class="line">del æ ‡è¯†ç¬¦[]ã€€ï¼š ã€€ã€€æ‰§è¡Œ__delitem__æ–¹æ³•</span><br></pre></td></tr></table></figure>å¦‚æœæœ‰ä¸€ä¸ªç±»åŒæ—¶å®šä¹‰äº†è¿™ä¸‰ä¸ªé­”æ³•æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„å®ä¾‹çš„è¡Œä¸ºçœ‹èµ·æ¥å°±åƒä¸€ä¸ªå­—å…¸ä¸€æ ·ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    def __getitem__(self, key):</span><br><span class="line">        print(&#39;__getitem__&#39;,key)</span><br><span class="line">    def __setitem__(self, key, value):</span><br><span class="line">        print(&#39;__setitem__&#39;,key,value)</span><br><span class="line">    def __delitem__(self, key):</span><br><span class="line">        print(&#39;__delitem__&#39;,key)</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">result &#x3D; obj[&#39;k1&#39;]      # è‡ªåŠ¨è§¦å‘æ‰§è¡Œ __getitem__</span><br><span class="line">obj[&#39;k2&#39;] &#x3D; &#39;jack&#39;      # è‡ªåŠ¨è§¦å‘æ‰§è¡Œ __setitem__</span><br><span class="line">del obj[&#39;k1&#39;]</span><br></pre></td></tr></table></figure></li><li><strong>iter</strong>()<blockquote><p>è¿™æ˜¯è¿­ä»£å™¨æ–¹æ³•ï¼åˆ—è¡¨ã€å­—å…¸ã€å…ƒç»„ä¹‹æ‰€ä»¥å¯ä»¥è¿›è¡Œforå¾ªç¯ï¼Œæ˜¯å› ä¸ºå…¶å†…éƒ¨å®šä¹‰äº† iter()è¿™ä¸ªæ–¹æ³•ã€‚å¦‚æœç”¨æˆ·æƒ³è®©è‡ªå®šä¹‰çš„ç±»çš„å¯¹è±¡å¯ä»¥è¢«è¿­ä»£ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ç±»ä¸­å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”è®©è¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ã€‚å½“åœ¨ä»£ç ä¸­åˆ©ç”¨forå¾ªç¯éå†å¯¹è±¡æ—¶ï¼Œå°±ä¼šè°ƒç”¨ç±»çš„è¿™ä¸ªiter()æ–¹æ³•ã€‚<br>æ™®é€šçš„ç±»ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    pass</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">for i in obj:</span><br><span class="line">    print(i)</span><br><span class="line"># æŠ¥é”™ï¼šTypeError: &#39;Foo&#39; object is not iterable&lt;br&gt;# åŸå› æ˜¯Fooå¯¹è±¡ä¸å¯è¿­ä»£</span><br><span class="line">æ·»åŠ ä¸€ä¸ª__iter__()ï¼Œä½†ä»€ä¹ˆéƒ½ä¸è¿”å›ï¼š</span><br><span class="line">class Foo:</span><br><span class="line">    def __iter__(self):</span><br><span class="line">        pass</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">for i in obj:</span><br><span class="line">    print(i)</span><br><span class="line"># æŠ¥é”™ï¼šTypeError: iter() returned non-iterator of type &#39;NoneType&#39;</span><br><span class="line">#åŸå› æ˜¯ __iter__æ–¹æ³•æ²¡æœ‰è¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡</span><br></pre></td></tr></table></figure>è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self, sq):</span><br><span class="line">        self.sq &#x3D; sq</span><br><span class="line">    def __iter__(self):</span><br><span class="line">        return iter(self.sq)</span><br><span class="line">obj &#x3D; Foo([11,22,33,44])</span><br><span class="line">for i in obj:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>æœ€å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç”Ÿæˆå™¨ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        pass</span><br><span class="line">    def __iter__(self):</span><br><span class="line">        yield 1</span><br><span class="line">        yield 2</span><br><span class="line">        yield 3</span><br><span class="line">obj &#x3D; Foo()</span><br><span class="line">for i in obj:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></li><li><strong>len</strong>()<blockquote><p>åœ¨Pythonä¸­ï¼Œå¦‚æœä½ è°ƒç”¨å†…ç½®çš„len()å‡½æ•°è¯•å›¾è·å–ä¸€ä¸ªå¯¹è±¡çš„é•¿åº¦ï¼Œåœ¨åå°ï¼Œå…¶å®æ˜¯å»è°ƒç”¨è¯¥å¯¹è±¡çš„len()æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç æ˜¯ç­‰ä»·çš„ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">len(&#39;ABC&#39;)</span><br><span class="line">3</span><br><span class="line">&#39;ABC&#39;.__len__()</span><br><span class="line">3</span><br></pre></td></tr></table></figure>Pythonçš„listã€dictã€strç­‰å†…ç½®æ•°æ®ç±»å‹éƒ½å®ç°äº†è¯¥æ–¹æ³•ï¼Œä½†æ˜¯ä½ è‡ªå®šä¹‰çš„ç±»è¦å®ç°lenæ–¹æ³•éœ€è¦å¥½å¥½è®¾è®¡ã€‚</li><li><strong>repr</strong>()<blockquote><p>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å’Œstr()å¾ˆåƒï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯str()è¿”å›ç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œrepr()è¿”å›ç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œrepr()æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„ã€‚é€šå¸¸ä¸¤è€…ä»£ç ä¸€æ ·ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Foo:</span><br><span class="line">    def __init__(self, name):</span><br><span class="line">        self.name &#x3D; name</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &quot;this is %s&quot; % self.name</span><br><span class="line">    __repr__ &#x3D; __str__</span><br></pre></td></tr></table></figure></li><li><strong>add</strong>: åŠ è¿ç®— <strong>sub</strong>: å‡è¿ç®— <strong>mul</strong>: ä¹˜è¿ç®— <strong>div</strong>: é™¤è¿ç®— <strong>mod</strong>: æ±‚ä½™è¿ç®— <strong>pow</strong>: å¹‚è¿ç®—<blockquote><p>è¿™äº›éƒ½æ˜¯ç®—æœ¯è¿ç®—æ–¹æ³•ï¼Œéœ€è¦ä½ è‡ªå·±ä¸ºç±»è®¾è®¡å…·ä½“è¿ç®—ä»£ç ã€‚æœ‰äº›Pythonå†…ç½®æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚intå°±å¸¦æœ‰è¿™äº›æ–¹æ³•ã€‚Pythonæ”¯æŒè¿ç®—ç¬¦çš„é‡è½½ï¼Œä¹Ÿå°±æ˜¯é‡å†™ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Vector:</span><br><span class="line">   def __init__(self, a, b):</span><br><span class="line">      self.a &#x3D; a</span><br><span class="line">      self.b &#x3D; b</span><br><span class="line">   def __str__(self):</span><br><span class="line">      return &#39;Vector (%d, %d)&#39; % (self.a, self.b)</span><br><span class="line">   def __add__(self,other):</span><br><span class="line">      return Vector(self.a + other.a, self.b + other.b)</span><br><span class="line">v1 &#x3D; Vector(2,10)</span><br><span class="line">v2 &#x3D; Vector(5,-2)</span><br><span class="line">print (v1 + v2)</span><br></pre></td></tr></table></figure></li><li><strong>author</strong>ä½œè€…ä¿¡æ¯<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__author__ &#x3D; &quot;shuke&quot;</span><br><span class="line">def show():</span><br><span class="line">    print(__author__)</span><br><span class="line">show()</span><br></pre></td></tr></table></figure></li><li><strong>slots</strong><blockquote><p>Pythonä½œä¸ºä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œå¯ä»¥åœ¨ç±»å®šä¹‰å®Œæˆå’Œå®ä¾‹åŒ–åï¼Œç»™ç±»æˆ–è€…å¯¹è±¡ç»§ç»­æ·»åŠ éšæ„ä¸ªæ•°æˆ–è€…ä»»æ„ç±»å‹çš„å˜é‡æˆ–æ–¹æ³•ï¼Œè¿™æ˜¯åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def print_doc(self):</span><br><span class="line">    print(&quot;haha&quot;)</span><br><span class="line"></span><br><span class="line">class Foo:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">obj1 &#x3D; Foo()</span><br><span class="line">obj2 &#x3D; Foo()</span><br><span class="line"># åŠ¨æ€æ·»åŠ å®ä¾‹å˜é‡</span><br><span class="line">obj1.name &#x3D; &quot;jack&quot;</span><br><span class="line">obj2.age &#x3D; 18</span><br><span class="line"># åŠ¨æ€çš„ç»™ç±»æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">Foo.show &#x3D; print_doc</span><br><span class="line">obj1.show()</span><br><span class="line">obj2.show()</span><br></pre></td></tr></table></figure>ä½†æ˜¯ï¼å¦‚æœæˆ‘æƒ³é™åˆ¶å®ä¾‹å¯ä»¥æ·»åŠ çš„å˜é‡æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿slotsé™åˆ¶å®ä¾‹çš„å˜é‡ï¼Œæ¯”å¦‚ï¼Œåªå…è®¸Fooçš„å®ä¾‹æ·»åŠ nameå’Œageå±æ€§ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def print_doc(self):</span><br><span class="line">    print(&quot;haha&quot;)</span><br><span class="line">class Foo:</span><br><span class="line">    __slots__ &#x3D; (&quot;name&quot;, &quot;age&quot;)</span><br><span class="line">    pass</span><br><span class="line">obj1 &#x3D; Foo()</span><br><span class="line">obj2 &#x3D; Foo()</span><br><span class="line"># åŠ¨æ€æ·»åŠ å®ä¾‹å˜é‡</span><br><span class="line">obj1.name &#x3D; &quot;jack&quot;</span><br><span class="line">obj2.age &#x3D; 18</span><br><span class="line">obj1.sex &#x3D; &quot;male&quot;       # è¿™ä¸€å¥ä¼šå¼¹å‡ºé”™è¯¯</span><br><span class="line"># ä½†æ˜¯æ— æ³•é™åˆ¶ç»™ç±»æ·»åŠ æ–¹æ³•</span><br><span class="line">Foo.show &#x3D; print_doc</span><br><span class="line">obj1.show()</span><br><span class="line">obj2.show()</span><br><span class="line">ç”±äº&#39;sex&#39;ä¸åœ¨__slots__çš„åˆ—è¡¨ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½ç»‘å®šsexå±æ€§ï¼Œè¯•å›¾ç»‘å®šsexå°†å¾—åˆ°AttributeErrorçš„é”™è¯¯ã€‚</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;F:&#x2F;Python&#x2F;pycharm&#x2F;201705&#x2F;1.py&quot;, line 14, in &lt;module&gt;</span><br><span class="line">    obj1.sex &#x3D; &quot;male&quot;</span><br><span class="line">AttributeError: &#39;Foo&#39; object has no attribute &#39;sex&#39;</span><br></pre></td></tr></table></figure>éœ€è¦æé†’çš„æ˜¯ï¼Œslotså®šä¹‰çš„å±æ€§ä»…å¯¹å½“å‰ç±»çš„å®ä¾‹èµ·ä½œç”¨ï¼Œå¯¹ç»§æ‰¿äº†å®ƒçš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚æƒ³æƒ³ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ï¼Œå¦‚æœä½ ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œå´è«åå…¶å¦™å‘ç°æœ‰äº›å˜é‡æ— æ³•å®šä¹‰ï¼Œé‚£ä¸æ˜¯å¤§é—®é¢˜ä¹ˆï¼Ÿå¦‚æœéè¦å­ç±»ä¹Ÿè¢«é™åˆ¶ï¼Œé™¤éåœ¨å­ç±»ä¸­ä¹Ÿå®šä¹‰slotsï¼Œè¿™æ ·ï¼Œå­ç±»å®ä¾‹å…è®¸å®šä¹‰çš„å±æ€§å°±æ˜¯è‡ªèº«çš„slotsåŠ ä¸Šçˆ¶ç±»çš„slotsã€‚</li></ol><h3 id="æˆå‘˜ä¿æŠ¤ä¸è®¿é—®æœºåˆ¶"><a href="#æˆå‘˜ä¿æŠ¤ä¸è®¿é—®æœºåˆ¶" class="headerlink" title="æˆå‘˜ä¿æŠ¤ä¸è®¿é—®æœºåˆ¶"></a>æˆå‘˜ä¿æŠ¤ä¸è®¿é—®æœºåˆ¶</h3><p>æœ‰äº›å¯¹è±¡ä½ ä¸æƒ³å¤–éƒ¨è®¿é—®ï¼Œå³ä½¿æ˜¯é€šè¿‡è°ƒç”¨ç±»å¯¹è±¡ä¹Ÿæ— æ³•è®¿é—®</p><h4 id="ç§æœ‰æˆå‘˜"><a href="#ç§æœ‰æˆå‘˜" class="headerlink" title="ç§æœ‰æˆå‘˜"></a>ç§æœ‰æˆå‘˜</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class obj:</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">    def pri(self):</span><br><span class="line">        print self.name</span><br><span class="line">    __age &#x3D; 18</span><br><span class="line">    # åŠ ä¸ŠåŒä¸‹åˆ’çº¿çš„å°±æ˜¯ç§æœ‰å˜é‡ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</span><br><span class="line">a &#x3D; obj(&#39;zhao&#39;)</span><br><span class="line">a.pri()</span><br><span class="line"># output</span><br><span class="line">zhao</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åœ¨ç±»ä¸­è°ƒç”¨è¿™ä¸ªç§æœ‰æˆå‘˜ï¼Œå¯ä»¥è¿™ä¹ˆç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class obj:</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">    def prin(self):</span><br><span class="line">        print self.name</span><br><span class="line">    __age &#x3D; 18</span><br><span class="line">    # åŠ ä¸ŠåŒä¸‹åˆ’çº¿çš„å°±æ˜¯ç§æœ‰å˜é‡ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</span><br><span class="line">    @classmethod</span><br><span class="line">    # å¦‚æœè¦åœ¨ç±»ä¸­è°ƒç”¨ï¼Œé¦–å…ˆè°ƒç”¨ç±»æ–¹æ³•</span><br><span class="line">    def pri(cls):</span><br><span class="line">        print cls.__age</span><br><span class="line">        # ç„¶ååœ¨ä½¿ç”¨</span><br><span class="line">a &#x3D; obj(&#39;zhao&#39;)</span><br><span class="line">a.prin()</span><br><span class="line">obj.pri()</span><br><span class="line"># é€šè¿‡è¿™æ ·ç›´æ¥è°ƒç”¨ç±»ä¸­çš„ç§æœ‰å˜é‡</span><br><span class="line"># output</span><br><span class="line">zhao</span><br><span class="line">18</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨get-set-delæ–¹æ³•æ“ä½œç§æœ‰æˆå‘˜"><a href="#ä½¿ç”¨get-set-delæ–¹æ³•æ“ä½œç§æœ‰æˆå‘˜" class="headerlink" title="ä½¿ç”¨get-set-delæ–¹æ³•æ“ä½œç§æœ‰æˆå‘˜"></a>ä½¿ç”¨get-set-delæ–¹æ³•æ“ä½œç§æœ‰æˆå‘˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class obj:</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name&#x3D;name</span><br><span class="line">    def prin(self):</span><br><span class="line">        print self.name</span><br><span class="line">    __age &#x3D; 18</span><br><span class="line">    # åŠ ä¸ŠåŒä¸‹åˆ’çº¿çš„å°±æ˜¯ç§æœ‰å˜é‡ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</span><br><span class="line">    @classmethod</span><br><span class="line">    # å¦‚æœè¦åœ¨ç±»ä¸­è°ƒç”¨ï¼Œé¦–å…ˆè°ƒç”¨ç±»æ–¹æ³•</span><br><span class="line">    def pri(cls):</span><br><span class="line">        print cls.__age</span><br><span class="line">        # ç„¶ååœ¨ä½¿ç”¨</span><br><span class="line">    @classmethod</span><br><span class="line">    def set_age(cls,value):</span><br><span class="line">        cls.__age &#x3D; value</span><br><span class="line">        return cls.__age</span><br><span class="line">        # è¿™ä¸ªç”¨æ³•å°±æ˜¯æ”¹å˜__ageçš„å€¼</span><br><span class="line">    @classmethod</span><br><span class="line">    def get_age(cls):</span><br><span class="line">        return cls.__age</span><br><span class="line">        # è¿™ä¸ªç”¨æ³•å°±æ˜¯ç›´æ¥è¿”å›__ageçš„å€¼</span><br><span class="line">    @classmethod</span><br><span class="line">    def del_age(cls):</span><br><span class="line">        del cls.__age</span><br><span class="line">        # è¿™ä¸ªç”¨æ³•å°±æ˜¯ç›´æ¥åˆ é™¤__ageçš„å€¼</span><br><span class="line"></span><br><span class="line">print obj.get_age()</span><br><span class="line"># è¿™é‡Œæ˜¯ç›´æ¥è°ƒç”¨å‡º__ageçš„å€¼  è¿”å›å€¼18</span><br><span class="line">print obj.set_age(20)</span><br><span class="line"># è¿™é‡Œæ˜¯ç›´æ¥æ”¹å˜__ageçš„å€¼  è¿”å›å€¼20</span><br><span class="line">obj.del_age()</span><br><span class="line"># è¿™é‡Œæ˜¯ç›´æ¥åˆ é™¤__ageçš„å€¼</span><br></pre></td></tr></table></figure><p>æ€è€ƒï¼š æ—¢ç„¶æ˜¯ç§æœ‰å˜é‡ï¼Œä¸è®©å¤–éƒ¨è®¿é—®ï¼Œä¸ºä½•æœ‰è¦åœ¨åé¢è°ƒç”¨åˆæ”¹å˜å‘¢ï¼Ÿå› ä¸ºå¯ä»¥å¯¹ç§æœ‰å˜é‡è¿›è¡Œé¢å¤–çš„æ£€æµ‹ï¼Œå¤„ç†ï¼ŒåŠ å·¥ç­‰ç­‰ã€‚æ¯”å¦‚åˆ¤æ–­valueçš„å€¼ï¼Œä½¿ç”¨isinstanceç„¶ååšif-elseåˆ¤æ–­ã€‚<br>ä½¿ç”¨ç§æœ‰å˜é‡å¯ä»¥å¯¹å†…éƒ¨å˜é‡è¿›è¡Œä¿æŠ¤ï¼Œå¤–éƒ¨æ— æ³•æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥å¯¹å®ƒè¿›è¡Œæ£€æµ‹å¤„ç†ã€‚<br>è¿™é‡Œå¼•ç”³ä¸€ä¸‹ç§æœ‰æˆå‘˜çš„ä¿æŠ¤æœºåˆ¶ï¼Œä½¿ç”¨<code>_age</code>ç§æœ‰å˜é‡å…¶å®å°±æ˜¯<code>obj._obj__age</code>æ ·å­è¿›è¡Œä¿æŠ¤ï¼Œè¯´ç™½äº†ä½ ç›´æ¥ä½¿ç”¨<code>bj._obj__age</code>å¯ä»¥ç›´æ¥è°ƒç”¨å†…éƒ¨ç§æœ‰å˜é‡ageäº†ã€‚</p><h4 id="Propetyè£…é¥°å™¨"><a href="#Propetyè£…é¥°å™¨" class="headerlink" title="Propetyè£…é¥°å™¨"></a>Propetyè£…é¥°å™¨</h4><blockquote><p>æŠŠç±»çš„æ–¹æ³•ä¼ªè£…æˆå±æ€§è°ƒç”¨çš„æ–¹å¼ï¼Œå°±æ˜¯æŠŠç±»é‡Œé¢çš„ä¸€ä¸ªå‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå±æ€§ä¸€æ ·çš„ä¸œè¥¿~<br>ä¸€å¼€å§‹è°ƒç”¨ç±»çš„æ–¹æ³•è¦ä½¿ç”¨åœ†æ‹¬å·ï¼Œç°åœ¨å˜æˆäº†å±æ€§è¿›è¡Œè¯»å–è®¾ç½®å­˜å‚¨ã€‚<br>ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p></blockquote><ol><li>è°ƒç”¨æ–¹æ³•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class obj:</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.__name&#x3D;name</span><br><span class="line">        self.__age&#x3D;age</span><br><span class="line">        # è®²è¿™äº›è®¾ç½®æˆç§æœ‰å˜é‡</span><br><span class="line">    def get_age(self):</span><br><span class="line">        return self.__age</span><br><span class="line">    def set_age(self,value):</span><br><span class="line">        if isinstance(value,int):</span><br><span class="line">            self.__age&#x3D;value</span><br><span class="line">        else:</span><br><span class="line">            raise ValueError(&#39;éæ•´æ•°ç±»å‹&#39;)</span><br><span class="line">    def del_age(self):</span><br><span class="line">        print &#39;delete over&#39;</span><br><span class="line">a &#x3D; obj(&#39;langzi&#39;,18)</span><br><span class="line">print a.get_age()</span><br><span class="line">a.set_age(20)</span><br><span class="line">print a.get_age()</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨è£…é¥°å™¨<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class obj:</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.__name&#x3D;name</span><br><span class="line">        self.__age&#x3D;age</span><br><span class="line">        # æŠŠè¿™äº›è®¾ç½®æˆç§æœ‰å˜é‡</span><br><span class="line">    @property</span><br><span class="line">    def age(self):</span><br><span class="line">        return self.__age</span><br><span class="line">    @age.setter</span><br><span class="line">    def age(self,value):</span><br><span class="line">        if isinstance(value,int):</span><br><span class="line">            self.__age&#x3D;value</span><br><span class="line">        else:</span><br><span class="line">            raise ValueError(&#39;éæ•´æ•°ç±»å‹&#39;)</span><br><span class="line">    @age.deleter</span><br><span class="line">    def age(self):</span><br><span class="line">        print &#39;delete over&#39;</span><br><span class="line">a &#x3D; obj(&#39;langzi&#39;,18)</span><br><span class="line"># ä½¿ç”¨è¿™äº›è£…é¥°å™¨ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¸å¯¹è±¡çš„æ–¹æ³•ç›´æ¥è°ƒç”¨</span><br><span class="line">print a.age</span><br><span class="line"># è¿™é‡Œå°±æ˜¯ç›´æ¥è°ƒç”¨è¿”å›ageçš„å€¼</span><br><span class="line">a.age&#x3D;20</span><br><span class="line"># è¿™é‡Œå°±æ˜¯ç›´æ¥ä½¿ç”¨setteræŠŠå€¼è½¬æ¢</span><br><span class="line">print a.age</span><br><span class="line">del a.age</span><br><span class="line"># åˆ é™¤age</span><br></pre></td></tr></table></figure>å½“ç„¶è¿™ç§è°ƒç”¨æ–¹æ³•æœ‰äº›éº»çƒ¦ï¼Œæ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªå»å®ä¾‹ç±»ä¸å¯¹è±¡ï¼Œæœ‰ä¸ªæ›´åŠ ç®€å•ç›´è§‚çš„æ–¹æ³•ã€‚<h4 id="æ›´åŠ ç®€ä¾¿çš„ä½¿ç”¨property-å‡½æ•°"><a href="#æ›´åŠ ç®€ä¾¿çš„ä½¿ç”¨property-å‡½æ•°" class="headerlink" title="æ›´åŠ ç®€ä¾¿çš„ä½¿ç”¨property()å‡½æ•°"></a>æ›´åŠ ç®€ä¾¿çš„ä½¿ç”¨property()å‡½æ•°</h4><blockquote><p>è£…é¥°å™¨çš„æ–¹å¼å°†ä¸€ä¸ªæ–¹æ³•ä¼ªè£…æˆå±æ€§å¤–ï¼ŒPythonå†…ç½®çš„<code>uiltins</code>å—ä¸­çš„<code>roperty()</code>æ•°ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ç¬¬äºŒç§è®¾ç½®ç±»å±æ€§çš„æ‰‹æ®µã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class People:</span><br><span class="line"></span><br><span class="line">    def __init__(self, name, age):</span><br><span class="line">        self.__name &#x3D; name</span><br><span class="line">        self.__age &#x3D; age</span><br><span class="line"></span><br><span class="line">    def get_age(self):</span><br><span class="line">        return self.__age</span><br><span class="line"></span><br><span class="line">    def set_age(self, age):</span><br><span class="line">        if isinstance(age, int):</span><br><span class="line">            self.__age &#x3D; age</span><br><span class="line">        else:</span><br><span class="line">            raise ValueError</span><br><span class="line"></span><br><span class="line">    def del_age(self):</span><br><span class="line">        print(&quot;åˆ é™¤å¹´é¾„æ•°æ®ï¼&quot;)</span><br><span class="line"></span><br><span class="line">    # æ ¸å¿ƒåœ¨è¿™å¥</span><br><span class="line">    age &#x3D; property(get_age, set_age, del_age, &quot;å¹´é¾„&quot;)    </span><br><span class="line"></span><br><span class="line">obj &#x3D; People(&quot;jack&quot;, 18)</span><br><span class="line">print(obj.age)</span><br><span class="line">obj.age &#x3D; 19</span><br><span class="line">print(&quot;obj.age:  &quot;, obj.age)</span><br><span class="line">del obj.ag</span><br></pre></td></tr></table></figure>é€šè¿‡è¯­å¥<code>ge = property(get_age, set_age, del_age, &quot;é¾„&quot;</code>ä¸€ä¸ªæ–¹æ³•ä¼ªè£…æˆä¸ºå±æ€§ã€‚å…¶æ•ˆæœå’Œè£…é¥°å™¨çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚<br>property()å‡½æ•°çš„å‚æ•°ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œè°ƒç”¨ å®ä¾‹.å±æ€§ æ—¶è‡ªåŠ¨æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œè°ƒç”¨ å®ä¾‹.å±æ€§ ï¼ XXXæ—¶è‡ªåŠ¨æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œè°ƒç”¨ delå®ä¾‹.å±æ€§ æ—¶è‡ªåŠ¨æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">ç¬¬å››ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè°ƒç”¨ å®ä¾‹.å±æ€§.__doc__æ—¶çš„æè¿°ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>åœ¨Djangoæ¡†æ¶æºç ä¸­æœ‰ä½¿ç”¨åˆ°æ­¤ç‰¹æ€§</li></ol>]]></content>
    
    <summary type="html">
    
      Pythoné¢å‘å¯¹è±¡å…¥é—¨æ•™ç¨‹
    
    </summary>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/categories/PYTHON/"/>
    
    
      <category term="PYTHON" scheme="https://shuke163.github.io/tags/PYTHON/"/>
    
  </entry>
  
</feed>
